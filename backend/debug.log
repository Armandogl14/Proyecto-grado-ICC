INFO 2025-07-05 22:42:05,701 autoreload 9316 19868 Watching for file changes with StatReloader
INFO 2025-07-05 22:43:09,199 autoreload 22588 8672 Watching for file changes with StatReloader
INFO 2025-07-05 22:48:15,046 basehttp 22588 11056 "GET /api/contracts/289f2163-62f9-4ae2-b2a6-c7fceeaf6924/ HTTP/1.1" 200 3983
INFO 2025-07-05 22:48:15,101 basehttp 22588 7300 "GET /api/clauses/?contract=289f2163-62f9-4ae2-b2a6-c7fceeaf6924 HTTP/1.1" 200 14410
INFO 2025-07-06 02:15:37,004 autoreload 22588 8672 C:\Users\User\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py changed, reloading.
INFO 2025-07-06 02:15:38,777 autoreload 6152 9500 Watching for file changes with StatReloader
INFO 2025-07-06 02:17:14,066 autoreload 7704 29968 Watching for file changes with StatReloader
INFO 2025-07-06 02:17:22,800 basehttp 7704 30340 "OPTIONS /api/contracts/289f2163-62f9-4ae2-b2a6-c7fceeaf6924/ HTTP/1.1" 200 0
INFO 2025-07-06 02:17:22,803 basehttp 7704 17568 "OPTIONS /api/clauses/?contract=289f2163-62f9-4ae2-b2a6-c7fceeaf6924 HTTP/1.1" 200 0
INFO 2025-07-06 02:17:23,894 basehttp 7704 3604 "GET /api/contracts/289f2163-62f9-4ae2-b2a6-c7fceeaf6924/ HTTP/1.1" 200 3983
INFO 2025-07-06 02:17:23,913 basehttp 7704 29552 "GET /api/clauses/?contract=289f2163-62f9-4ae2-b2a6-c7fceeaf6924 HTTP/1.1" 200 14410
INFO 2025-07-06 02:17:26,298 basehttp 7704 17568 "OPTIONS /api/contracts/dashboard_stats/ HTTP/1.1" 200 0
INFO 2025-07-06 02:17:26,298 basehttp 7704 30340 "OPTIONS /api/contracts/?page_size=5 HTTP/1.1" 200 0
INFO 2025-07-06 02:17:26,955 basehttp 7704 29552 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 200 1948
INFO 2025-07-06 02:17:26,994 basehttp 7704 3604 "GET /api/contracts/?page_size=5 HTTP/1.1" 200 5129
INFO 2025-07-06 02:17:35,617 basehttp 7704 30340 "OPTIONS /api/contract-types/ HTTP/1.1" 200 0
INFO 2025-07-06 02:17:36,301 basehttp 7704 3604 "GET /api/contract-types/ HTTP/1.1" 200 1236
INFO 2025-07-06 02:17:41,189 basehttp 7704 17568 "OPTIONS /api/clauses/?contract=aba55a5c-3044-48de-b9f0-a39ea59c63c1 HTTP/1.1" 200 0
INFO 2025-07-06 02:17:41,189 basehttp 7704 30340 "OPTIONS /api/contracts/aba55a5c-3044-48de-b9f0-a39ea59c63c1/ HTTP/1.1" 200 0
INFO 2025-07-06 02:17:42,076 basehttp 7704 29552 "GET /api/contracts/aba55a5c-3044-48de-b9f0-a39ea59c63c1/ HTTP/1.1" 200 7205
INFO 2025-07-06 02:17:42,085 basehttp 7704 3604 "GET /api/clauses/?contract=aba55a5c-3044-48de-b9f0-a39ea59c63c1 HTTP/1.1" 200 14410
INFO 2025-07-06 02:17:48,959 basehttp 7704 3604 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 200 1948
INFO 2025-07-06 02:17:57,461 basehttp 7704 3604 "GET /api/clauses/?contract=aba55a5c-3044-48de-b9f0-a39ea59c63c1 HTTP/1.1" 200 14410
INFO 2025-07-06 17:59:39,497 basehttp 7704 25328 "OPTIONS /api/clauses/?contract=aba55a5c-3044-48de-b9f0-a39ea59c63c1 HTTP/1.1" 200 0
INFO 2025-07-06 17:59:39,609 basehttp 7704 17436 "OPTIONS /api/contracts/aba55a5c-3044-48de-b9f0-a39ea59c63c1/ HTTP/1.1" 200 0
INFO 2025-07-06 20:34:44,458 autoreload 17040 13300 Watching for file changes with StatReloader
INFO 2025-07-06 20:44:32,221 basehttp 17040 25588 "OPTIONS /api/contracts/dashboard_stats/ HTTP/1.1" 200 0
INFO 2025-07-06 20:44:32,225 basehttp 17040 13004 "OPTIONS /api/contracts/?page_size=5 HTTP/1.1" 200 0
INFO 2025-07-06 20:44:33,444 basehttp 17040 7660 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 200 1948
INFO 2025-07-06 20:44:33,456 basehttp 17040 17196 "GET /api/contracts/?page_size=5 HTTP/1.1" 200 5129
INFO 2025-07-06 20:49:42,964 basehttp 17040 24476 "OPTIONS /api/contract-types/ HTTP/1.1" 200 0
INFO 2025-07-06 20:49:43,854 basehttp 17040 21976 "GET /api/contract-types/ HTTP/1.1" 200 1236
INFO 2025-07-06 20:49:51,556 basehttp 17040 24476 "OPTIONS /api/contracts/ HTTP/1.1" 200 0
INFO 2025-07-06 20:49:52,321 basehttp 17040 21976 "POST /api/contracts/ HTTP/1.1" 201 3559
INFO 2025-07-06 20:49:52,407 basehttp 17040 24476 "OPTIONS /api/contracts/693acb26-77a1-44fd-a303-2d4b793cb69b/ HTTP/1.1" 200 0
INFO 2025-07-06 20:49:52,407 basehttp 17040 20468 "OPTIONS /api/clauses/?contract=693acb26-77a1-44fd-a303-2d4b793cb69b HTTP/1.1" 200 0
INFO 2025-07-06 20:49:53,291 basehttp 17040 21976 "GET /api/contracts/693acb26-77a1-44fd-a303-2d4b793cb69b/ HTTP/1.1" 200 3983
INFO 2025-07-06 20:49:53,300 basehttp 17040 8568 "GET /api/clauses/?contract=693acb26-77a1-44fd-a303-2d4b793cb69b HTTP/1.1" 200 14410
INFO 2025-07-06 20:53:50,214 basehttp 17040 8568 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 200 1941
INFO 2025-07-06 20:53:50,223 basehttp 17040 21976 "GET /api/contracts/?page_size=5 HTTP/1.1" 200 5482
INFO 2025-07-06 20:53:53,711 basehttp 17040 8568 "GET /api/clauses/?contract=693acb26-77a1-44fd-a303-2d4b793cb69b HTTP/1.1" 200 14410
INFO 2025-07-06 20:53:53,748 basehttp 17040 21976 "GET /api/contracts/693acb26-77a1-44fd-a303-2d4b793cb69b/ HTTP/1.1" 200 3983
INFO 2025-07-06 20:54:45,924 basehttp 17040 21976 "GET /api/contracts/693acb26-77a1-44fd-a303-2d4b793cb69b/ HTTP/1.1" 200 3983
INFO 2025-07-06 20:54:45,950 basehttp 17040 8568 "GET /api/clauses/?contract=693acb26-77a1-44fd-a303-2d4b793cb69b HTTP/1.1" 200 14410
INFO 2025-07-06 20:56:51,478 autoreload 17040 13300 C:\Users\User\Documents\GitHub\Proyecto-grado-ICC\backend\contracts\views.py changed, reloading.
INFO 2025-07-06 20:56:53,477 autoreload 3572 28876 Watching for file changes with StatReloader
INFO 2025-07-06 20:57:18,979 autoreload 3572 28876 C:\Users\User\Documents\GitHub\Proyecto-grado-ICC\backend\contracts\views.py changed, reloading.
INFO 2025-07-06 20:57:20,605 autoreload 12200 28428 Watching for file changes with StatReloader
INFO 2025-07-06 21:01:08,163 ml_service 9776 21296 Iniciando validación GPT para cláusula
DEBUG 2025-07-06 21:01:08,164 ml_service 9776 21296 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-06 21:01:11,729 ml_service 9776 21296 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula es válida ya que establece claramente los términos del contrato de alquiler de un local comercial entre la Propietaria y el Inquilino. No se observa ninguna característica abusiva en la cláusula, ya que simplemente establece el uso del local y la posibilidad de la Propietaria de cambiar su uso sin previo aviso, lo cual es una prerrogativa razonable en un contrato de arrendamiento.', 'suggested_fix': ''}
INFO 2025-07-06 21:01:11,768 ml_service 9776 21296 Iniciando validación GPT para cláusula
DEBUG 2025-07-06 21:01:11,769 ml_service 9776 21296 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-06 21:01:16,578 ml_service 9776 21296 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'El texto es una cláusula contractual válida, ya que establece una obligación clara para el Inquilino. Sin embargo, se considera abusiva porque impone al Inquilino la responsabilidad de multas impuestas por incumplimientos ajenos a su operación, lo que crea un desequilibrio significativo entre las partes al cargar al Inquilino con responsabilidades que no le corresponden directamente.', 'suggested_fix': "Para hacer esta cláusula no abusiva, se podría reescribir de la siguiente manera: 'El Inquilino acepta hacerse responsable de cualquier multa impuesta por el incumplimiento de regulaciones que sean consecuencia directa de su operación en el local arrendado.' De esta forma, se limita la responsabilidad del Inquilino a situaciones directamente relacionadas con su operación."}
INFO 2025-07-06 21:01:16,599 ml_service 9776 21296 Iniciando validación GPT para cláusula
DEBUG 2025-07-06 21:01:16,599 ml_service 9776 21296 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-06 21:01:18,926 ml_service 9776 21296 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'La cláusula es válida en el sentido de que establece una condición clara y específica sobre la prórroga automática del contrato con un aumento del 25% en el alquiler. Sin embargo, es considerada abusiva según la legislación dominicana por crear un desequilibrio significativo entre las partes al imponer un aumento anual sin opción de renegociación, lo cual limita los derechos del inquilino y viola principios de equidad.', 'suggested_fix': 'Para hacer esta cláusula no abusiva, se podría añadir una disposición que permita la renegociación del aumento del alquiler o establecer un mecanismo de revisión periódica de las condiciones del contrato para garantizar un equilibrio entre las partes.'}
INFO 2025-07-06 21:01:18,966 ml_service 9776 21296 Iniciando análisis OpenAI para 3 cláusulas
DEBUG 2025-07-06 21:01:18,966 ml_service 9776 21296 Enviando solicitud a OpenAI API para análisis general
DEBUG 2025-07-06 21:01:21,408 ml_service 9776 21296 Análisis recibido: {'resumen': 'Las cláusulas abusivas en el contrato de alquiler del local comercial permiten a la propietaria cambiar el uso del local sin aviso, imponer multas por regulaciones ajenas y aumentar el alquiler automáticamente sin posibilidad de renegociación, lo que limita los derechos y flexibilidad del inquilino.', 'recomendaciones': ['Solicitar la eliminación de la cláusula que permite a la propietaria cambiar el uso del local sin previo aviso, para garantizar la estabilidad del negocio del inquilino.', 'Negociar la eliminación de la cláusula que responsabiliza al inquilino por multas ajenas a su operación, ya que puede resultar en costos injustos e imprevistos.', 'Buscar modificar la cláusula de prorroga automática con aumento de alquiler, para incluir la posibilidad de renegociación o término del contrato en caso de desacuerdo con el aumento propuesto.']}
INFO 2025-07-06 21:03:38,769 autoreload 8160 2920 Watching for file changes with StatReloader
INFO 2025-07-06 21:03:51,271 basehttp 8160 24968 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 200 1941
INFO 2025-07-06 21:03:51,311 basehttp 8160 18352 "GET /api/contracts/?page_size=5 HTTP/1.1" 200 5482
INFO 2025-07-06 21:03:54,195 basehttp 8160 24968 "GET /api/contracts/?page_size=5 HTTP/1.1" 200 5482
INFO 2025-07-06 21:03:54,196 basehttp 8160 18352 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 200 1941
INFO 2025-07-06 21:15:18,030 basehttp 8160 28996 "GET /api/contracts/693acb26-77a1-44fd-a303-2d4b793cb69b/ HTTP/1.1" 200 3983
INFO 2025-07-06 21:15:18,045 basehttp 8160 24664 "GET /api/clauses/?contract=693acb26-77a1-44fd-a303-2d4b793cb69b HTTP/1.1" 200 14410
INFO 2025-07-06 21:15:22,311 basehttp 8160 28996 "GET /api/contracts/?page_size=5 HTTP/1.1" 200 5482
INFO 2025-07-06 21:15:22,316 basehttp 8160 24664 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 200 1941
INFO 2025-07-06 21:15:23,859 basehttp 8160 18292 "OPTIONS /api/contracts/aba55a5c-3044-48de-b9f0-a39ea59c63c1/ HTTP/1.1" 200 0
INFO 2025-07-06 21:15:23,860 basehttp 8160 12648 "OPTIONS /api/clauses/?contract=aba55a5c-3044-48de-b9f0-a39ea59c63c1 HTTP/1.1" 200 0
INFO 2025-07-06 21:15:24,764 basehttp 8160 24664 "GET /api/contracts/aba55a5c-3044-48de-b9f0-a39ea59c63c1/ HTTP/1.1" 200 7205
INFO 2025-07-06 21:15:24,807 basehttp 8160 28996 "GET /api/clauses/?contract=aba55a5c-3044-48de-b9f0-a39ea59c63c1 HTTP/1.1" 200 14410
INFO 2025-07-06 21:15:34,438 basehttp 8160 28996 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 200 1941
INFO 2025-07-06 21:15:36,287 basehttp 8160 12648 "OPTIONS /api/contracts/babf6e44-8ffd-4e9a-a042-04a5b971e2d0/ HTTP/1.1" 200 0
INFO 2025-07-06 21:15:36,288 basehttp 8160 18292 "OPTIONS /api/clauses/?contract=babf6e44-8ffd-4e9a-a042-04a5b971e2d0 HTTP/1.1" 200 0
INFO 2025-07-06 21:15:37,210 basehttp 8160 24664 "GET /api/clauses/?contract=babf6e44-8ffd-4e9a-a042-04a5b971e2d0 HTTP/1.1" 200 14410
INFO 2025-07-06 21:15:37,231 basehttp 8160 28996 "GET /api/contracts/babf6e44-8ffd-4e9a-a042-04a5b971e2d0/ HTTP/1.1" 200 8538
INFO 2025-07-06 21:15:37,960 basehttp 8160 28996 "GET /api/clauses/?contract=babf6e44-8ffd-4e9a-a042-04a5b971e2d0 HTTP/1.1" 200 14410
INFO 2025-07-06 21:15:40,184 basehttp 8160 28996 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 200 1941
INFO 2025-07-06 21:18:54,416 autoreload 8160 2920 C:\Users\User\Documents\GitHub\Proyecto-grado-ICC\backend\contracts\views.py changed, reloading.
INFO 2025-07-06 21:18:56,245 autoreload 25408 16664 Watching for file changes with StatReloader
INFO 2025-07-06 21:20:58,839 basehttp 25408 8056 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 200 1941
INFO 2025-07-06 21:20:58,925 basehttp 25408 7724 "GET /api/contracts/?page_size=5 HTTP/1.1" 200 5482
INFO 2025-07-06 21:21:12,535 basehttp 25408 7724 "GET /api/contract-types/ HTTP/1.1" 200 1236
INFO 2025-07-06 21:21:27,216 ml_service 25408 7724 Iniciando validación GPT para cláusula
DEBUG 2025-07-06 21:21:27,217 ml_service 25408 7724 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-06 21:21:29,101 ml_service 25408 7724 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'El texto proporciona información clara y específica sobre el objeto del contrato (alquiler de un apartamento) y las obligaciones de las partes involucradas. No se observa ninguna condición abusiva que cree un desequilibrio significativo entre las partes, limite derechos fundamentales, imponga condiciones desproporcionadas o viole principios de buena fe o equidad.', 'suggested_fix': ''}
INFO 2025-07-06 21:21:29,127 ml_service 25408 7724 Iniciando validación GPT para cláusula
DEBUG 2025-07-06 21:21:29,127 ml_service 25408 7724 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-06 21:21:31,308 ml_service 25408 7724 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'El texto es una cláusula contractual válida, ya que establece las consecuencias en caso de rescisión anticipada del contrato por parte del inquilino, especificando el pago de alquileres vencidos y una penalidad de tres meses de renta. Esta cláusula es común en contratos de arrendamiento y no presenta ninguna irregularidad que la invalide. No se considera abusiva, ya que no crea un desequilibrio significativo entre las partes, no limita derechos fundamentales, no impone condiciones desproporcionadas y no viola principios de buena fe o equidad.', 'suggested_fix': ''}
INFO 2025-07-06 21:21:31,334 ml_service 25408 7724 Iniciando validación GPT para cláusula
DEBUG 2025-07-06 21:21:31,335 ml_service 25408 7724 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-06 21:21:33,801 ml_service 25408 7724 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'El texto analizado es una cláusula contractual válida, ya que establece el derecho de la PROPIETARIA a ingresar a la propiedad para inspeccionar el estado del inmueble, lo cual es una práctica común en contratos de arrendamiento. No se observa que genere un desequilibrio significativo entre las partes, limite derechos fundamentales, imponga condiciones desproporcionadas o viole principios de buena fe o equidad.', 'suggested_fix': ''}
INFO 2025-07-06 21:21:33,817 ml_service 25408 7724 Iniciando validación GPT para cláusula
DEBUG 2025-07-06 21:21:33,817 ml_service 25408 7724 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-06 21:21:35,330 ml_service 25408 7724 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'El texto proporcionado es una cláusula contractual válida, ya que establece la posibilidad de modificación de las condiciones del contrato por parte de LA PROPIETARIA. No se observa que genere un desequilibrio significativo entre las partes, limite derechos fundamentales, imponga condiciones desproporcionadas o viole principios de buena fe o equidad.', 'suggested_fix': ''}
INFO 2025-07-06 21:21:35,354 ml_service 25408 7724 Iniciando validación GPT para cláusula
DEBUG 2025-07-06 21:21:35,355 ml_service 25408 7724 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-06 21:21:38,656 ml_service 25408 7724 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula es válida ya que establece una obligación clara y específica para el inquilino en relación al pago de daños estructurales o de mantenimiento del inmueble, lo cual es común en contratos de arrendamiento. No crea un desequilibrio significativo entre las partes ni limita derechos fundamentales, simplemente establece una responsabilidad del inquilino en caso de daños. No se considera abusiva según la legislación dominicana.', 'suggested_fix': ''}
INFO 2025-07-06 21:21:38,671 ml_service 25408 7724 Iniciando validación GPT para cláusula
DEBUG 2025-07-06 21:21:38,671 ml_service 25408 7724 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-06 21:21:41,606 ml_service 25408 7724 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'El texto es una cláusula contractual válida ya que establece la renuncia expresa del inquilino a cualquier reclamación legal o disputa relacionada con el contrato. Sin embargo, es considerada abusiva según la legislación dominicana porque limita los derechos fundamentales del inquilino al renunciar a cualquier reclamación legal o disputa, creando un desequilibrio significativo entre las partes y violando el principio de equidad.', 'suggested_fix': 'Para reescribir de forma no abusiva, se podría modificar la cláusula para permitir que el inquilino renuncie a reclamaciones específicas y no de forma general, respetando así sus derechos fundamentales y evitando un desequilibrio injusto en la relación contractual.'}
INFO 2025-07-06 21:21:41,628 ml_service 25408 7724 Iniciando validación GPT para cláusula
DEBUG 2025-07-06 21:21:41,628 ml_service 25408 7724 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-06 21:21:42,911 ml_service 25408 7724 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula es válida ya que establece una restricción razonable en cuanto a las visitas del inquilino después de cierta hora, lo cual es común en contratos de arrendamiento. No crea un desequilibrio significativo entre las partes ni limita derechos fundamentales de manera desproporcionada. Además, al requerir autorización de la propietaria, se respeta el principio de buena fe y equidad.', 'suggested_fix': ''}
INFO 2025-07-06 21:21:42,941 ml_service 25408 7724 Iniciando validación GPT para cláusula
DEBUG 2025-07-06 21:21:42,943 ml_service 25408 7724 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-06 21:21:44,610 ml_service 25408 7724 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'La cláusula es válida porque establece claramente una obligación de pago por parte del inquilino y una consecuencia por retraso en el pago. Sin embargo, es considerada abusiva según la legislación dominicana porque otorga a la propietaria el derecho a cambiar las cerraduras sin previo aviso, lo cual crea un desequilibrio significativo entre las partes al limitar la seguridad y acceso a la vivienda del inquilino sin un procedimiento adecuado.', 'suggested_fix': 'Para reescribir de forma no abusiva, se podría modificar la cláusula para establecer un procedimiento claro y equitativo en caso de retraso en el pago, respetando los derechos fundamentales del inquilino y evitando medidas extremas como el cambio de cerraduras sin previo aviso.'}
INFO 2025-07-06 21:21:44,629 ml_service 25408 7724 Iniciando validación GPT para cláusula
DEBUG 2025-07-06 21:21:44,629 ml_service 25408 7724 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-06 21:21:46,616 ml_service 25408 7724 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula es válida ya que establece la duración del contrato y la posibilidad de cancelación unilateral por parte de LA PROPIETARIA. Sin embargo, no se considera abusiva según la legislación dominicana, ya que no crea un desequilibrio significativo entre las partes, no limita derechos fundamentales, no impone condiciones desproporcionadas y no viola principios de buena fe o equidad.', 'suggested_fix': ''}
INFO 2025-07-06 21:21:46,636 ml_service 25408 7724 Iniciando validación GPT para cláusula
DEBUG 2025-07-06 21:21:46,649 ml_service 25408 7724 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-06 21:21:49,471 ml_service 25408 7724 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'El texto es una cláusula contractual válida, ya que establece una condición específica en caso de renovación del contrato de alquiler. Sin embargo, es considerada abusiva según la legislación dominicana, ya que impone un aumento automático del 30% en el alquiler sin previo aviso, lo cual crea un desequilibrio significativo entre las partes al imponer una condición desproporcionada sin posibilidad de negociación.', 'suggested_fix': 'Para que la cláusula sea considerada no abusiva, se podría reescribir de forma que el aumento en el alquiler sea negociado y acordado por ambas partes de manera transparente y equitativa, evitando imposiciones unilaterales.'}
INFO 2025-07-06 21:21:49,607 ml_service 25408 7724 Iniciando análisis OpenAI para 9 cláusulas
DEBUG 2025-07-06 21:21:49,608 ml_service 25408 7724 Enviando solicitud a OpenAI API para análisis general
DEBUG 2025-07-06 21:21:51,352 ml_service 25408 7724 Análisis recibido: {'resumen': 'Las cláusulas identificadas en el contrato pueden dar lugar a una situación desfavorable para el inquilino, limitando sus derechos y exponiéndolo a posibles abusos por parte de la propietaria.', 'recomendaciones': ['Negociar la eliminación o modificación de las cláusulas abusivas para equilibrar los derechos y obligaciones de ambas partes.', 'Consultar con un abogado especializado en arrendamientos para revisar el contrato y recibir asesoramiento legal sobre cómo proteger los intereses del inquilino.', 'Buscar alternativas de vivienda que ofrezcan condiciones más equitativas y respetuosas de los derechos del inquilino.']}
INFO 2025-07-06 21:21:51,496 basehttp 25408 7724 "POST /api/contracts/ HTTP/1.1" 201 3559
INFO 2025-07-06 21:21:54,985 basehttp 25408 9288 "OPTIONS /api/contracts/eefa1816-0807-4b62-ab92-cdfe91fc75eb/ HTTP/1.1" 200 0
INFO 2025-07-06 21:21:54,988 basehttp 25408 15656 "OPTIONS /api/clauses/?contract=eefa1816-0807-4b62-ab92-cdfe91fc75eb HTTP/1.1" 200 0
INFO 2025-07-06 21:21:55,656 basehttp 25408 8056 "GET /api/clauses/?contract=eefa1816-0807-4b62-ab92-cdfe91fc75eb HTTP/1.1" 200 14620
INFO 2025-07-06 21:21:55,668 basehttp 25408 7724 "GET /api/contracts/eefa1816-0807-4b62-ab92-cdfe91fc75eb/ HTTP/1.1" 200 8512
INFO 2025-07-06 21:21:56,390 basehttp 25408 7724 "GET /api/clauses/?contract=eefa1816-0807-4b62-ab92-cdfe91fc75eb HTTP/1.1" 200 14620
INFO 2025-07-06 21:24:03,951 basehttp 25408 7724 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 200 1967
INFO 2025-07-06 21:24:03,981 basehttp 25408 8056 "GET /api/contracts/?page_size=5 HTTP/1.1" 200 5857
INFO 2025-07-06 21:24:14,330 ml_service 25408 8056 Iniciando validación GPT para cláusula
DEBUG 2025-07-06 21:24:14,331 ml_service 25408 8056 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-06 21:24:15,822 ml_service 25408 8056 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula es válida ya que establece claramente los términos del contrato de alquiler, especificando la ubicación y características del apartamento, así como la prohibición de ceder o subarrendar sin consentimiento. No presenta desequilibrio significativo entre las partes ni limita derechos fundamentales. No se considera abusiva según la legislación dominicana.', 'suggested_fix': ''}
INFO 2025-07-06 21:24:15,878 ml_service 25408 8056 Iniciando validación GPT para cláusula
DEBUG 2025-07-06 21:24:15,884 ml_service 25408 8056 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-06 21:24:18,070 ml_service 25408 8056 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula es válida ya que establece las consecuencias de rescindir el contrato antes de su vencimiento, especificando el pago de alquileres vencidos y una penalidad de un mes de renta. Esta cláusula es común en contratos de arrendamiento y establece las obligaciones del inquilino en caso de incumplimiento. No se observa un desequilibrio significativo entre las partes ni una imposición desproporcionada, ya que el pago de alquileres vencidos y una penalidad es una consecuencia razonable del incumplimiento contractual.', 'suggested_fix': ''}
INFO 2025-07-06 21:24:18,090 ml_service 25408 8056 Iniciando validación GPT para cláusula
DEBUG 2025-07-06 21:24:18,090 ml_service 25408 8056 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-06 21:24:20,408 ml_service 25408 8056 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'El texto es una cláusula contractual válida ya que establece un compromiso claro entre la propietaria y el inquilino respecto al uso y disfrute del inmueble arrendado durante la duración del contrato. No se observa ninguna característica abusiva en esta cláusula, ya que no crea un desequilibrio significativo entre las partes, no limita derechos fundamentales, no impone condiciones desproporcionadas y respeta los principios de buena fe y equidad.', 'suggested_fix': ''}
INFO 2025-07-06 21:24:20,439 ml_service 25408 8056 Iniciando validación GPT para cláusula
DEBUG 2025-07-06 21:24:20,451 ml_service 25408 8056 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-06 21:24:21,971 ml_service 25408 8056 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'El texto proporcionado es una cláusula contractual válida, ya que establece que todas las condiciones del contrato son esenciales y su incumplimiento puede llevar a la resolución inmediata del mismo. Esta cláusula es común en contratos para resaltar la importancia de cumplir con todas las condiciones acordadas. No se considera abusiva, ya que no crea un desequilibrio significativo entre las partes, no limita derechos fundamentales, no impone condiciones desproporcionadas y no viola principios de buena fe o equidad.', 'suggested_fix': ''}
INFO 2025-07-06 21:24:21,975 ml_service 25408 8056 Iniciando validación GPT para cláusula
DEBUG 2025-07-06 21:24:21,975 ml_service 25408 8056 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-06 21:24:23,152 ml_service 25408 8056 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'El texto es una cláusula contractual válida ya que establece las obligaciones del inquilino en relación al mantenimiento del inmueble y la entrega en buen estado al final del contrato, así como su responsabilidad por daños y reparaciones. No se observa que genere un desequilibrio significativo entre las partes, limite derechos fundamentales, imponga condiciones desproporcionadas o viole principios de buena fe o equidad.', 'suggested_fix': ''}
INFO 2025-07-06 21:24:23,175 ml_service 25408 8056 Iniciando validación GPT para cláusula
DEBUG 2025-07-06 21:24:23,175 ml_service 25408 8056 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-06 21:24:24,683 ml_service 25408 8056 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'El texto es una cláusula contractual válida, ya que establece la jurisdicción de los tribunales de Santo Domingo para la resolución de disputas, lo cual es una práctica común en contratos. No se observa ninguna característica abusiva en la cláusula, ya que no crea un desequilibrio significativo entre las partes, no limita derechos fundamentales, no impone condiciones desproporcionadas y no viola principios de buena fe o equidad.', 'suggested_fix': ''}
INFO 2025-07-06 21:24:24,705 ml_service 25408 8056 Iniciando validación GPT para cláusula
DEBUG 2025-07-06 21:24:24,705 ml_service 25408 8056 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-06 21:24:26,408 ml_service 25408 8056 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula es válida ya que establece una obligación clara y específica para el inquilino, que es obtener autorización previa por escrito de la propietaria antes de hacer modificaciones en el inmueble. Esta cláusula busca proteger los intereses de la propietaria y mantener la integridad del inmueble. No crea un desequilibrio significativo entre las partes ni limita derechos fundamentales, sino que establece una condición razonable para el uso del inmueble.', 'suggested_fix': ''}
INFO 2025-07-06 21:24:26,421 ml_service 25408 8056 Iniciando validación GPT para cláusula
DEBUG 2025-07-06 21:24:26,422 ml_service 25408 8056 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-06 21:24:28,843 ml_service 25408 8056 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'El texto es una cláusula contractual válida ya que establece claramente las obligaciones del inquilino en cuanto al pago del alquiler mensual y los recargos por mora. No se observa ninguna característica abusiva en la cláusula, ya que no crea un desequilibrio significativo entre las partes, no limita derechos fundamentales, no impone condiciones desproporcionadas y no viola principios de buena fe o equidad.', 'suggested_fix': ''}
INFO 2025-07-06 21:24:28,896 ml_service 25408 8056 Iniciando validación GPT para cláusula
DEBUG 2025-07-06 21:24:28,897 ml_service 25408 8056 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-06 21:24:31,063 ml_service 25408 8056 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula es válida ya que establece claramente la duración del contrato, la posibilidad de renovación o rescisión y el plazo de aviso requerido. No se observa ninguna característica abusiva en la cláusula, ya que no crea un desequilibrio significativo entre las partes, no limita derechos fundamentales, no impone condiciones desproporcionadas y no viola principios de buena fe o equidad.', 'suggested_fix': ''}
INFO 2025-07-06 21:24:31,080 ml_service 25408 8056 Iniciando validación GPT para cláusula
DEBUG 2025-07-06 21:24:31,080 ml_service 25408 8056 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-06 21:24:33,384 ml_service 25408 8056 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula es válida ya que establece de manera clara y precisa las condiciones de aumento del alquiler en caso de renovación, basándose en criterios objetivos como la tasa de inflación oficial del Banco Central de la República Dominicana o un aumento del 10%. No crea un desequilibrio significativo entre las partes ni limita derechos fundamentales. Además, al basarse en criterios objetivos, no impone condiciones desproporcionadas ni viola principios de buena fe o equidad.', 'suggested_fix': ''}
INFO 2025-07-06 21:24:33,552 ml_service 25408 8056 Iniciando análisis OpenAI para 7 cláusulas
DEBUG 2025-07-06 21:24:33,552 ml_service 25408 8056 Enviando solicitud a OpenAI API para análisis general
DEBUG 2025-07-06 21:24:34,748 ml_service 25408 8056 Análisis recibido: {'resumen': 'Las cláusulas identificadas en el contrato presentan riesgos para el inquilino, como penalidades por rescisión anticipada y obligaciones de mantenimiento y pago.', 'recomendaciones': ['Solicitar una revisión legal para negociar cláusulas más equitativas y claras.', 'Buscar asesoramiento sobre la legalidad de las penalidades por rescisión anticipada.', 'Asegurarse de entender las obligaciones de mantenimiento y reparación antes de firmar el contrato.']}
INFO 2025-07-06 21:24:34,886 basehttp 25408 8056 "POST /api/contracts/ HTTP/1.1" 201 3956
INFO 2025-07-06 21:24:34,995 basehttp 25408 9288 "OPTIONS /api/clauses/?contract=93f7141c-855b-4e1a-bced-3728d494e1b7 HTTP/1.1" 200 0
INFO 2025-07-06 21:24:34,996 basehttp 25408 15656 "OPTIONS /api/contracts/93f7141c-855b-4e1a-bced-3728d494e1b7/ HTTP/1.1" 200 0
INFO 2025-07-06 21:24:35,715 basehttp 25408 8056 "GET /api/clauses/?contract=93f7141c-855b-4e1a-bced-3728d494e1b7 HTTP/1.1" 200 9479
INFO 2025-07-06 21:24:35,718 basehttp 25408 7724 "GET /api/contracts/93f7141c-855b-4e1a-bced-3728d494e1b7/ HTTP/1.1" 200 9234
INFO 2025-07-06 21:24:36,373 basehttp 25408 7724 "GET /api/clauses/?contract=93f7141c-855b-4e1a-bced-3728d494e1b7 HTTP/1.1" 200 9479
INFO 2025-07-06 21:24:44,843 basehttp 25408 7724 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 200 1978
INFO 2025-07-06 21:24:44,895 basehttp 25408 8056 "GET /api/contracts/?page_size=5 HTTP/1.1" 200 6241
INFO 2025-07-06 21:24:48,436 basehttp 25408 7724 "GET /api/clauses/?contract=eefa1816-0807-4b62-ab92-cdfe91fc75eb HTTP/1.1" 200 9479
INFO 2025-07-06 21:24:48,438 basehttp 25408 8056 "GET /api/contracts/eefa1816-0807-4b62-ab92-cdfe91fc75eb/ HTTP/1.1" 200 8512
INFO 2025-07-06 21:26:57,661 basehttp 25408 8056 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 200 1978
INFO 2025-07-06 21:27:40,555 basehttp 25408 7724 "GET /api/clauses/?contract=eefa1816-0807-4b62-ab92-cdfe91fc75eb HTTP/1.1" 200 9479
INFO 2025-07-06 21:27:40,571 basehttp 25408 8056 "GET /api/contracts/eefa1816-0807-4b62-ab92-cdfe91fc75eb/ HTTP/1.1" 200 8512
INFO 2025-07-06 21:30:09,917 autoreload 25408 16664 C:\Users\User\Documents\GitHub\Proyecto-grado-ICC\backend\contracts\serializers.py changed, reloading.
INFO 2025-07-06 21:30:11,805 autoreload 5888 23572 Watching for file changes with StatReloader
INFO 2025-07-06 21:30:24,460 autoreload 5888 23572 C:\Users\User\Documents\GitHub\Proyecto-grado-ICC\backend\contracts\models.py changed, reloading.
INFO 2025-07-06 21:30:26,211 autoreload 2032 29348 Watching for file changes with StatReloader
INFO 2025-07-06 21:30:34,367 autoreload 2032 29348 C:\Users\User\Documents\GitHub\Proyecto-grado-ICC\backend\contracts\serializers.py changed, reloading.
INFO 2025-07-06 21:30:35,785 autoreload 5416 19052 Watching for file changes with StatReloader
INFO 2025-07-06 21:30:50,996 autoreload 5416 19052 C:\Users\User\Documents\GitHub\Proyecto-grado-ICC\backend\contracts\views.py changed, reloading.
INFO 2025-07-06 21:30:52,584 autoreload 12668 3328 Watching for file changes with StatReloader
INFO 2025-07-06 21:37:05,020 autoreload 17200 18300 Watching for file changes with StatReloader
INFO 2025-07-06 21:38:57,844 basehttp 17200 13936 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 200 1978
INFO 2025-07-06 21:38:57,858 basehttp 17200 10208 "GET /api/contracts/?page_size=5 HTTP/1.1" 200 6241
INFO 2025-07-06 21:39:58,901 ml_service 17548 26576 Iniciando validación GPT para cláusula
DEBUG 2025-07-06 21:39:58,902 ml_service 17548 26576 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-06 21:40:01,168 ml_service 17548 26576 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula es válida ya que establece de manera clara la renuncia del inquilino a cualquier reclamación legal o disputa relacionada con el contrato. Esta cláusula es común en contratos de arrendamiento y no presenta ambigüedades. No se observa un desequilibrio significativo entre las partes ni una limitación de derechos fundamentales. Tampoco impone condiciones desproporcionadas ni viola principios de buena fe o equidad.', 'suggested_fix': ''}
INFO 2025-07-06 21:40:01,181 ml_service 17548 26576 Iniciando validación GPT para cláusula
DEBUG 2025-07-06 21:40:01,181 ml_service 17548 26576 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-06 21:40:02,697 ml_service 17548 26576 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula es válida ya que establece una restricción razonable en cuanto a las visitas del inquilino después de cierta hora, lo cual es común en contratos de arrendamiento. No crea un desequilibrio significativo entre las partes ni limita derechos fundamentales de manera desproporcionada. Además, al requerir autorización de la propietaria, se respeta el principio de buena fe y equidad.', 'suggested_fix': ''}
INFO 2025-07-06 21:40:02,709 ml_service 17548 26576 Iniciando validación GPT para cláusula
DEBUG 2025-07-06 21:40:02,710 ml_service 17548 26576 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-06 21:40:05,023 ml_service 17548 26576 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula es válida ya que establece una consecuencia clara y directa en caso de retraso en el pago, lo cual es común en contratos de arrendamiento. No crea un desequilibrio significativo entre las partes, ni limita derechos fundamentales de manera desproporcionada. Además, al tratarse de un incumplimiento por parte del arrendatario, la medida de cambiar las cerraduras sin previo aviso parece razonable para proteger los intereses de la propietaria. No se observa una violación a los principios de buena fe o equidad.', 'suggested_fix': ''}
INFO 2025-07-06 21:40:05,034 ml_service 17548 26576 Iniciando validación GPT para cláusula
DEBUG 2025-07-06 21:40:05,034 ml_service 17548 26576 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-06 21:40:08,008 ml_service 17548 26576 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'La cláusula es válida en el sentido de que establece una condición clara y específica en caso de renovación del contrato, sin embargo, es considerada abusiva según la legislación dominicana por imponer un aumento automático del 30% en el alquiler sin posibilidad de negociación. Esta cláusula crea un desequilibrio significativo entre las partes al imponer una condición unilateralmente beneficiosa para el arrendador, limitando los derechos del arrendatario a negociar condiciones justas. Además, el aumento automático sin posibilidad de negociación puede considerarse desproporcionado y violatorio de los principios de buena fe y equidad en las relaciones contractuales.', 'suggested_fix': 'Para que la cláusula sea considerada no abusiva, se podría reescribir de forma que permita la negociación del aumento de alquiler en caso de renovación del contrato, garantizando la participación equitativa de ambas partes en la determinación de las nuevas condiciones económicas.'}
INFO 2025-07-06 21:40:08,038 ml_service 17548 26576 Iniciando análisis OpenAI para 4 cláusulas
DEBUG 2025-07-06 21:40:08,039 ml_service 17548 26576 Enviando solicitud a OpenAI API para análisis general
DEBUG 2025-07-06 21:40:11,129 ml_service 17548 26576 Análisis recibido: {'resumen': 'Las cláusulas identificadas en el contrato limitan severamente los derechos del inquilino y favorecen en exceso a la propietaria, creando un desequilibrio significativo en la relación contractual.', 'recomendaciones': ['Solicitar una revisión legal detallada del contrato por un abogado especializado en arrendamientos para identificar posibles cláusulas abusivas y buscar su modificación o eliminación.', 'Negociar con la propietaria para modificar las cláusulas que imponen restricciones excesivas al inquilino y buscar un equilibrio justo en los derechos y obligaciones de ambas partes.', 'Explorar la posibilidad de buscar alternativas de vivienda si la propietaria no está dispuesta a negociar cláusulas más equitativas y respetuosas de los derechos del inquilino.']}
INFO 2025-07-06 21:41:49,252 ml_service 25904 24084 Iniciando validación GPT para cláusula
DEBUG 2025-07-06 21:41:49,252 ml_service 25904 24084 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-06 21:41:51,453 ml_service 25904 24084 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula es válida ya que establece de manera clara la renuncia del inquilino a cualquier reclamación legal o disputa con relación al contrato, lo cual es una práctica común en contratos de arrendamiento. No se observa que genere un desequilibrio significativo entre las partes, limite derechos fundamentales, imponga condiciones desproporcionadas ni viole principios de buena fe o equidad.', 'suggested_fix': ''}
INFO 2025-07-06 21:41:51,473 ml_service 25904 24084 Iniciando validación GPT para cláusula
DEBUG 2025-07-06 21:41:51,474 ml_service 25904 24084 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-06 21:41:53,384 ml_service 25904 24084 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula es válida ya que establece una restricción razonable en cuanto a las visitas del inquilino, sujeto a la autorización de la propietaria. No crea un desequilibrio significativo entre las partes, no limita derechos fundamentales de forma desproporcionada, ni viola principios de buena fe o equidad.', 'suggested_fix': ''}
INFO 2025-07-06 21:41:53,398 ml_service 25904 24084 Iniciando validación GPT para cláusula
DEBUG 2025-07-06 21:41:53,398 ml_service 25904 24084 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-06 21:41:54,755 ml_service 25904 24084 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula es válida ya que establece una consecuencia clara y directa en caso de retraso en el pago, lo cual es común en contratos de arrendamiento. No crea un desequilibrio significativo entre las partes, ni limita derechos fundamentales de forma desproporcionada. Tampoco viola principios de buena fe o equidad, ya que se refiere a una situación específica de incumplimiento contractual.', 'suggested_fix': ''}
INFO 2025-07-06 21:41:54,772 ml_service 25904 24084 Iniciando validación GPT para cláusula
DEBUG 2025-07-06 21:41:54,772 ml_service 25904 24084 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-06 21:41:56,738 ml_service 25904 24084 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'La cláusula es válida en el sentido de que establece una condición clara y específica en caso de renovación del contrato. Sin embargo, es considerada abusiva según la legislación dominicana porque impone un aumento automático del 30% en el alquiler sin posibilidad de negociación, lo cual crea un desequilibrio significativo entre las partes al imponer una condición desproporcionada que limita la capacidad de negociación del inquilino.', 'suggested_fix': "Para que la cláusula sea considerada no abusiva, se podría reescribir de manera que se permita la negociación del aumento del alquiler en caso de renovación, respetando así la equidad entre las partes. Por ejemplo: 'En caso de renovación del contrato, el alquiler podrá aumentar hasta un máximo del 30%, sujeto a negociación entre ambas partes'."}
INFO 2025-07-06 21:41:56,773 ml_service 25904 24084 Iniciando análisis OpenAI para 4 cláusulas
DEBUG 2025-07-06 21:41:56,773 ml_service 25904 24084 Enviando solicitud a OpenAI API para análisis general
DEBUG 2025-07-06 21:41:58,269 ml_service 25904 24084 Análisis recibido: {'resumen': 'Las cláusulas identificadas en el contrato limitan los derechos del inquilino de manera significativa y unilateral, generando desequilibrio en la relación contractual.', 'recomendaciones': ['Solicitar una revisión legal detallada del contrato por un abogado especializado en arrendamientos para identificar posibles cláusulas abusivas y negociar cambios favorables.', 'Negociar la eliminación o modificación de las cláusulas abusivas para garantizar un equilibrio justo entre las partes involucradas.', 'Mantener comunicación constante con la propietaria para aclarar dudas y evitar malentendidos que puedan derivar en conflictos legales.']}
INFO 2025-07-06 21:43:29,306 autoreload 7964 21364 Watching for file changes with StatReloader
INFO 2025-07-06 21:43:47,162 basehttp 7964 28288 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 200 1978
INFO 2025-07-06 21:43:47,217 basehttp 7964 26716 "GET /api/contracts/?page_size=5 HTTP/1.1" 200 6241
INFO 2025-07-06 21:44:13,722 basehttp 7964 26716 "GET /api/contracts/eefa1816-0807-4b62-ab92-cdfe91fc75eb/ HTTP/1.1" 200 10931
INFO 2025-07-06 21:44:13,729 basehttp 7964 28288 "GET /api/clauses/?contract=eefa1816-0807-4b62-ab92-cdfe91fc75eb HTTP/1.1" 200 14321
INFO 2025-07-06 21:44:53,500 basehttp 7964 28288 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 200 1978
INFO 2025-07-06 21:44:55,285 basehttp 7964 28288 "GET /api/contracts/93f7141c-855b-4e1a-bced-3728d494e1b7/ HTTP/1.1" 200 11657
INFO 2025-07-06 21:44:55,298 basehttp 7964 26716 "GET /api/clauses/?contract=93f7141c-855b-4e1a-bced-3728d494e1b7 HTTP/1.1" 200 14321
INFO 2025-07-06 21:54:33,378 basehttp 7964 13176 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 200 1978
INFO 2025-07-06 21:54:33,400 basehttp 7964 4388 "GET /api/contracts/?page_size=5 HTTP/1.1" 200 6241
INFO 2025-07-06 21:54:35,649 basehttp 7964 4388 "GET /api/contracts/693acb26-77a1-44fd-a303-2d4b793cb69b/ HTTP/1.1" 200 3983
INFO 2025-07-06 21:54:35,668 basehttp 7964 13176 "GET /api/clauses/?contract=693acb26-77a1-44fd-a303-2d4b793cb69b HTTP/1.1" 200 14321
INFO 2025-07-06 21:54:39,818 basehttp 7964 15368 "OPTIONS /api/contracts/289f2163-62f9-4ae2-b2a6-c7fceeaf6924/ HTTP/1.1" 200 0
INFO 2025-07-06 21:54:39,824 basehttp 7964 3184 "OPTIONS /api/clauses/?contract=289f2163-62f9-4ae2-b2a6-c7fceeaf6924 HTTP/1.1" 200 0
INFO 2025-07-06 21:54:40,454 basehttp 7964 13176 "GET /api/contracts/289f2163-62f9-4ae2-b2a6-c7fceeaf6924/ HTTP/1.1" 200 3983
INFO 2025-07-06 21:54:40,461 basehttp 7964 4388 "GET /api/clauses/?contract=289f2163-62f9-4ae2-b2a6-c7fceeaf6924 HTTP/1.1" 200 14321
INFO 2025-07-06 21:54:45,725 basehttp 7964 4388 "GET /api/contracts/aba55a5c-3044-48de-b9f0-a39ea59c63c1/ HTTP/1.1" 200 8057
INFO 2025-07-06 21:54:45,760 basehttp 7964 13176 "GET /api/clauses/?contract=aba55a5c-3044-48de-b9f0-a39ea59c63c1 HTTP/1.1" 200 14321
INFO 2025-07-09 17:26:40,220 autoreload 6904 14188 Watching for file changes with StatReloader
INFO 2025-07-09 18:36:19,249 autoreload 14444 17396 Watching for file changes with StatReloader
INFO 2025-07-09 18:52:39,127 basehttp 14444 3496 "OPTIONS /api/contract-types/ HTTP/1.1" 200 0
INFO 2025-07-09 18:52:41,031 basehttp 14444 3496 "OPTIONS /api/contracts/dashboard_stats/ HTTP/1.1" 200 0
INFO 2025-07-09 18:52:41,038 basehttp 14444 24492 "OPTIONS /api/contracts/?page_size=5 HTTP/1.1" 200 0
INFO 2025-07-09 18:52:41,875 basehttp 14444 10900 "GET /api/contract-types/ HTTP/1.1" 200 1236
INFO 2025-07-09 18:52:43,116 basehttp 14444 5972 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 200 1978
INFO 2025-07-09 18:52:43,403 basehttp 14444 7776 "GET /api/contracts/?page_size=5 HTTP/1.1" 200 6241
INFO 2025-07-09 18:52:49,796 basehttp 14444 3496 "OPTIONS /api/clauses/?contract=93f7141c-855b-4e1a-bced-3728d494e1b7 HTTP/1.1" 200 0
INFO 2025-07-09 18:52:49,797 basehttp 14444 24492 "OPTIONS /api/contracts/93f7141c-855b-4e1a-bced-3728d494e1b7/ HTTP/1.1" 200 0
INFO 2025-07-09 18:52:52,030 basehttp 14444 7776 "GET /api/clauses/?contract=93f7141c-855b-4e1a-bced-3728d494e1b7 HTTP/1.1" 200 14321
INFO 2025-07-09 18:52:52,059 basehttp 14444 5972 "GET /api/contracts/93f7141c-855b-4e1a-bced-3728d494e1b7/ HTTP/1.1" 200 11657
INFO 2025-07-09 18:52:53,338 basehttp 14444 5972 "GET /api/clauses/?contract=93f7141c-855b-4e1a-bced-3728d494e1b7 HTTP/1.1" 200 14321
INFO 2025-07-09 19:00:43,423 basehttp 14444 5664 "OPTIONS /api/contracts/93f7141c-855b-4e1a-bced-3728d494e1b7/analyze/ HTTP/1.1" 200 0
INFO 2025-07-09 19:00:46,045 ml_service 14444 15620 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:00:46,045 ml_service 14444 15620 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:00:46,046 ml_service 14444 15620 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:00:46,121 ml_service 14444 15620 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:00:46,123 ml_service 14444 15620 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:00:46,123 ml_service 14444 15620 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:00:46,152 ml_service 14444 15620 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:00:46,152 ml_service 14444 15620 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:00:46,152 ml_service 14444 15620 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:00:46,171 ml_service 14444 15620 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:00:46,173 ml_service 14444 15620 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:00:46,173 ml_service 14444 15620 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:00:46,207 ml_service 14444 15620 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:00:46,207 ml_service 14444 15620 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:00:46,208 ml_service 14444 15620 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:00:46,258 ml_service 14444 15620 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:00:46,258 ml_service 14444 15620 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:00:46,258 ml_service 14444 15620 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:00:46,326 ml_service 14444 15620 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:00:46,326 ml_service 14444 15620 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:00:46,329 ml_service 14444 15620 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:00:46,367 ml_service 14444 15620 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:00:46,367 ml_service 14444 15620 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:00:46,369 ml_service 14444 15620 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:00:46,402 ml_service 14444 15620 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:00:46,402 ml_service 14444 15620 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:00:46,404 ml_service 14444 15620 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:00:46,445 ml_service 14444 15620 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:00:46,447 ml_service 14444 15620 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:00:46,447 ml_service 14444 15620 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:00:46,730 ml_service 14444 15620 Iniciando análisis OpenAI para 7 cláusulas
DEBUG 2025-07-09 19:00:46,730 ml_service 14444 15620 Enviando solicitud a OpenAI API para análisis general
ERROR 2025-07-09 19:00:46,731 ml_service 14444 15620 Error en el análisis de OpenAI: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 188, in _get_openai_analysis
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
ERROR 2025-07-09 19:00:46,787 views 14444 15620 Error en análisis síncrono: NOT NULL constraint failed: contracts_clause.gpt_is_abusive
Traceback (most recent call last):
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\sqlite3\base.py", line 360, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: NOT NULL constraint failed: contracts_clause.gpt_is_abusive

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\contracts\views.py", line 227, in trigger_analysis_sync
    Clause.objects.create(
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 663, in create
    obj.save(force_insert=True, using=self.db)
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\base.py", line 1008, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\base.py", line 1169, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\base.py", line 1210, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 1868, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\sql\compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\sqlite3\base.py", line 360, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.IntegrityError: NOT NULL constraint failed: contracts_clause.gpt_is_abusive

INFO 2025-07-09 19:00:46,792 basehttp 14444 15620 "POST /api/contracts/93f7141c-855b-4e1a-bced-3728d494e1b7/analyze/ HTTP/1.1" 200 121
INFO 2025-07-09 19:00:49,081 basehttp 14444 15620 "GET /api/contracts/93f7141c-855b-4e1a-bced-3728d494e1b7/ HTTP/1.1" 200 11653
INFO 2025-07-09 19:00:49,279 ml_service 14444 20560 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:00:49,280 ml_service 14444 20560 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:00:49,280 ml_service 14444 20560 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:00:49,325 ml_service 14444 20560 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:00:49,326 ml_service 14444 20560 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:00:49,327 ml_service 14444 20560 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:00:49,363 ml_service 14444 20560 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:00:49,366 ml_service 14444 20560 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:00:49,366 ml_service 14444 20560 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:00:49,403 ml_service 14444 20560 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:00:49,403 ml_service 14444 20560 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:00:49,403 ml_service 14444 20560 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:00:49,442 ml_service 14444 20560 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:00:49,444 ml_service 14444 20560 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:00:49,446 ml_service 14444 20560 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:00:49,481 ml_service 14444 20560 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:00:49,481 ml_service 14444 20560 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:00:49,481 ml_service 14444 20560 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:00:49,530 ml_service 14444 20560 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:00:49,530 ml_service 14444 20560 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:00:49,530 ml_service 14444 20560 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:00:49,553 ml_service 14444 20560 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:00:49,553 ml_service 14444 20560 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:00:49,553 ml_service 14444 20560 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:00:49,581 ml_service 14444 20560 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:00:49,583 ml_service 14444 20560 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:00:49,583 ml_service 14444 20560 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:00:49,613 ml_service 14444 20560 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:00:49,614 ml_service 14444 20560 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:00:49,614 ml_service 14444 20560 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:00:49,897 ml_service 14444 20560 Iniciando análisis OpenAI para 7 cláusulas
DEBUG 2025-07-09 19:00:49,898 ml_service 14444 20560 Enviando solicitud a OpenAI API para análisis general
ERROR 2025-07-09 19:00:49,898 ml_service 14444 20560 Error en el análisis de OpenAI: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 188, in _get_openai_analysis
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
ERROR 2025-07-09 19:00:49,920 views 14444 20560 Error en análisis síncrono: NOT NULL constraint failed: contracts_clause.gpt_is_abusive
Traceback (most recent call last):
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\sqlite3\base.py", line 360, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: NOT NULL constraint failed: contracts_clause.gpt_is_abusive

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\contracts\views.py", line 227, in trigger_analysis_sync
    Clause.objects.create(
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 663, in create
    obj.save(force_insert=True, using=self.db)
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\base.py", line 1008, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\base.py", line 1169, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\base.py", line 1210, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 1868, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\sql\compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\sqlite3\base.py", line 360, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.IntegrityError: NOT NULL constraint failed: contracts_clause.gpt_is_abusive

INFO 2025-07-09 19:00:49,928 basehttp 14444 20560 "POST /api/contracts/93f7141c-855b-4e1a-bced-3728d494e1b7/analyze/ HTTP/1.1" 200 121
INFO 2025-07-09 19:00:51,783 basehttp 14444 20560 "GET /api/contracts/93f7141c-855b-4e1a-bced-3728d494e1b7/ HTTP/1.1" 200 11653
INFO 2025-07-09 19:00:56,262 ml_service 14444 20560 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:00:56,262 ml_service 14444 20560 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:00:56,262 ml_service 14444 20560 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:00:56,297 ml_service 14444 20560 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:00:56,299 ml_service 14444 20560 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:00:56,299 ml_service 14444 20560 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:00:56,329 ml_service 14444 20560 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:00:56,343 ml_service 14444 20560 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:00:56,345 ml_service 14444 20560 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:00:56,366 ml_service 14444 20560 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:00:56,366 ml_service 14444 20560 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:00:56,366 ml_service 14444 20560 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:00:56,401 ml_service 14444 20560 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:00:56,412 ml_service 14444 20560 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:00:56,413 ml_service 14444 20560 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:00:56,432 ml_service 14444 20560 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:00:56,432 ml_service 14444 20560 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:00:56,432 ml_service 14444 20560 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:00:56,465 ml_service 14444 20560 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:00:56,465 ml_service 14444 20560 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:00:56,465 ml_service 14444 20560 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:00:56,481 ml_service 14444 20560 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:00:56,483 ml_service 14444 20560 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:00:56,483 ml_service 14444 20560 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:00:56,493 ml_service 14444 20560 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:00:56,493 ml_service 14444 20560 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:00:56,503 ml_service 14444 20560 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:00:56,526 ml_service 14444 20560 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:00:56,526 ml_service 14444 20560 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:00:56,526 ml_service 14444 20560 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:00:56,672 ml_service 14444 20560 Iniciando análisis OpenAI para 7 cláusulas
DEBUG 2025-07-09 19:00:56,673 ml_service 14444 20560 Enviando solicitud a OpenAI API para análisis general
ERROR 2025-07-09 19:00:56,673 ml_service 14444 20560 Error en el análisis de OpenAI: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 188, in _get_openai_analysis
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
ERROR 2025-07-09 19:00:56,689 views 14444 20560 Error en análisis síncrono: NOT NULL constraint failed: contracts_clause.gpt_is_abusive
Traceback (most recent call last):
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\sqlite3\base.py", line 360, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: NOT NULL constraint failed: contracts_clause.gpt_is_abusive

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\contracts\views.py", line 227, in trigger_analysis_sync
    Clause.objects.create(
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 663, in create
    obj.save(force_insert=True, using=self.db)
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\base.py", line 1008, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\base.py", line 1169, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\base.py", line 1210, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 1868, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\sql\compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\sqlite3\base.py", line 360, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.IntegrityError: NOT NULL constraint failed: contracts_clause.gpt_is_abusive

INFO 2025-07-09 19:00:56,689 basehttp 14444 20560 - Broken pipe from ('127.0.0.1', 64911)
INFO 2025-07-09 19:00:59,482 basehttp 14444 15620 "GET /api/contracts/93f7141c-855b-4e1a-bced-3728d494e1b7/ HTTP/1.1" 200 11653
INFO 2025-07-09 19:00:59,890 basehttp 14444 10000 "GET /api/clauses/?contract=93f7141c-855b-4e1a-bced-3728d494e1b7 HTTP/1.1" 200 14321
INFO 2025-07-09 19:06:02,506 autoreload 14444 17396 C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\contracts\models.py changed, reloading.
INFO 2025-07-09 19:06:06,740 autoreload 19620 17356 Watching for file changes with StatReloader
INFO 2025-07-09 19:16:24,586 autoreload 5104 22448 Watching for file changes with StatReloader
INFO 2025-07-09 19:17:00,278 basehttp 5104 9892 "OPTIONS /api/contracts/dashboard_stats/ HTTP/1.1" 200 0
INFO 2025-07-09 19:17:00,283 basehttp 5104 21828 "OPTIONS /api/contracts/?page_size=5 HTTP/1.1" 200 0
INFO 2025-07-09 19:17:03,670 basehttp 5104 10396 - Broken pipe from ('127.0.0.1', 65430)
INFO 2025-07-09 19:17:03,777 basehttp 5104 19900 - Broken pipe from ('127.0.0.1', 65431)
INFO 2025-07-09 19:17:05,162 basehttp 5104 12240 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 200 1974
INFO 2025-07-09 19:17:05,335 basehttp 5104 20880 "GET /api/contracts/?page_size=5 HTTP/1.1" 200 6237
INFO 2025-07-09 19:21:19,408 basehttp 5104 20836 "OPTIONS /api/contracts/289f2163-62f9-4ae2-b2a6-c7fceeaf6924/ HTTP/1.1" 200 0
INFO 2025-07-09 19:21:19,410 basehttp 5104 19896 "OPTIONS /api/clauses/?contract=289f2163-62f9-4ae2-b2a6-c7fceeaf6924 HTTP/1.1" 200 0
INFO 2025-07-09 19:21:22,068 basehttp 5104 25432 "GET /api/clauses/?contract=289f2163-62f9-4ae2-b2a6-c7fceeaf6924 HTTP/1.1" 200 14321
INFO 2025-07-09 19:21:22,079 basehttp 5104 24000 "GET /api/contracts/289f2163-62f9-4ae2-b2a6-c7fceeaf6924/ HTTP/1.1" 200 3983
INFO 2025-07-09 19:22:02,250 basehttp 5104 6428 "OPTIONS /api/contracts/289f2163-62f9-4ae2-b2a6-c7fceeaf6924/analyze/ HTTP/1.1" 200 0
INFO 2025-07-09 19:22:03,895 ml_service 5104 8036 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:22:03,895 ml_service 5104 8036 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:22:03,895 ml_service 5104 8036 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:22:03,958 ml_service 5104 8036 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:22:03,958 ml_service 5104 8036 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:22:03,958 ml_service 5104 8036 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:22:03,979 ml_service 5104 8036 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:22:03,979 ml_service 5104 8036 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:22:03,979 ml_service 5104 8036 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:22:03,991 ml_service 5104 8036 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:22:03,991 ml_service 5104 8036 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:22:03,996 ml_service 5104 8036 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:22:04,013 ml_service 5104 8036 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:22:04,013 ml_service 5104 8036 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:22:04,013 ml_service 5104 8036 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:22:04,027 ml_service 5104 8036 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:22:04,027 ml_service 5104 8036 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:22:04,028 ml_service 5104 8036 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:22:04,060 ml_service 5104 8036 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:22:04,060 ml_service 5104 8036 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:22:04,060 ml_service 5104 8036 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:22:04,076 ml_service 5104 8036 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:22:04,078 ml_service 5104 8036 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:22:04,078 ml_service 5104 8036 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:22:04,100 ml_service 5104 8036 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:22:04,100 ml_service 5104 8036 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:22:04,100 ml_service 5104 8036 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:22:04,117 ml_service 5104 8036 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:22:04,117 ml_service 5104 8036 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:22:04,117 ml_service 5104 8036 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:22:04,250 ml_service 5104 8036 Iniciando análisis OpenAI para 9 cláusulas
DEBUG 2025-07-09 19:22:04,250 ml_service 5104 8036 Enviando solicitud a OpenAI API para análisis general
ERROR 2025-07-09 19:22:04,250 ml_service 5104 8036 Error en el análisis de OpenAI: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 188, in _get_openai_analysis
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
ERROR 2025-07-09 19:22:04,272 views 5104 8036 Error en análisis síncrono: NOT NULL constraint failed: contracts_clause.gpt_is_abusive
Traceback (most recent call last):
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\sqlite3\base.py", line 360, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: NOT NULL constraint failed: contracts_clause.gpt_is_abusive

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\contracts\views.py", line 227, in trigger_analysis_sync
    Clause.objects.create(
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 663, in create
    obj.save(force_insert=True, using=self.db)
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\base.py", line 1008, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\base.py", line 1169, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\base.py", line 1210, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 1868, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\sql\compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\sqlite3\base.py", line 360, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.IntegrityError: NOT NULL constraint failed: contracts_clause.gpt_is_abusive

INFO 2025-07-09 19:22:04,274 basehttp 5104 8036 "POST /api/contracts/289f2163-62f9-4ae2-b2a6-c7fceeaf6924/analyze/ HTTP/1.1" 200 122
INFO 2025-07-09 19:22:06,315 basehttp 5104 8036 "GET /api/contracts/289f2163-62f9-4ae2-b2a6-c7fceeaf6924/ HTTP/1.1" 200 3983
INFO 2025-07-09 19:22:06,784 ml_service 5104 17500 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:22:06,784 ml_service 5104 17500 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:22:06,784 ml_service 5104 17500 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:22:06,809 ml_service 5104 17500 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:22:06,809 ml_service 5104 17500 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:22:06,809 ml_service 5104 17500 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:22:06,824 ml_service 5104 17500 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:22:06,824 ml_service 5104 17500 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:22:06,825 ml_service 5104 17500 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:22:06,838 ml_service 5104 17500 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:22:06,838 ml_service 5104 17500 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:22:06,838 ml_service 5104 17500 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:22:06,842 ml_service 5104 17500 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:22:06,842 ml_service 5104 17500 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:22:06,842 ml_service 5104 17500 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:22:06,866 ml_service 5104 17500 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:22:06,866 ml_service 5104 17500 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:22:06,867 ml_service 5104 17500 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:22:06,891 ml_service 5104 17500 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:22:06,891 ml_service 5104 17500 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:22:06,891 ml_service 5104 17500 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:22:06,903 ml_service 5104 17500 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:22:06,903 ml_service 5104 17500 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:22:06,904 ml_service 5104 17500 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:22:06,919 ml_service 5104 17500 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:22:06,920 ml_service 5104 17500 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:22:06,922 ml_service 5104 17500 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:22:06,933 ml_service 5104 17500 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:22:06,933 ml_service 5104 17500 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:22:06,935 ml_service 5104 17500 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:22:07,060 ml_service 5104 17500 Iniciando análisis OpenAI para 9 cláusulas
DEBUG 2025-07-09 19:22:07,060 ml_service 5104 17500 Enviando solicitud a OpenAI API para análisis general
ERROR 2025-07-09 19:22:07,060 ml_service 5104 17500 Error en el análisis de OpenAI: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 188, in _get_openai_analysis
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
ERROR 2025-07-09 19:22:07,082 views 5104 17500 Error en análisis síncrono: NOT NULL constraint failed: contracts_clause.gpt_is_abusive
Traceback (most recent call last):
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\sqlite3\base.py", line 360, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: NOT NULL constraint failed: contracts_clause.gpt_is_abusive

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\contracts\views.py", line 227, in trigger_analysis_sync
    Clause.objects.create(
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 663, in create
    obj.save(force_insert=True, using=self.db)
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\base.py", line 1008, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\base.py", line 1169, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\base.py", line 1210, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 1868, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\sql\compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\sqlite3\base.py", line 360, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.IntegrityError: NOT NULL constraint failed: contracts_clause.gpt_is_abusive

INFO 2025-07-09 19:22:07,087 basehttp 5104 17500 "POST /api/contracts/289f2163-62f9-4ae2-b2a6-c7fceeaf6924/analyze/ HTTP/1.1" 200 122
INFO 2025-07-09 19:22:09,070 basehttp 5104 17500 "GET /api/contracts/289f2163-62f9-4ae2-b2a6-c7fceeaf6924/ HTTP/1.1" 200 3983
INFO 2025-07-09 19:22:13,540 basehttp 5104 23988 "OPTIONS /api/contracts/eefa1816-0807-4b62-ab92-cdfe91fc75eb/ HTTP/1.1" 200 0
INFO 2025-07-09 19:22:13,541 basehttp 5104 25372 "OPTIONS /api/clauses/?contract=eefa1816-0807-4b62-ab92-cdfe91fc75eb HTTP/1.1" 200 0
INFO 2025-07-09 19:22:13,818 basehttp 5104 8036 "GET /api/contracts/?page_size=5 HTTP/1.1" 200 6237
INFO 2025-07-09 19:22:13,874 basehttp 5104 17500 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 200 1974
INFO 2025-07-09 19:22:15,697 basehttp 5104 22868 "GET /api/clauses/?contract=eefa1816-0807-4b62-ab92-cdfe91fc75eb HTTP/1.1" 200 14321
INFO 2025-07-09 19:22:15,719 basehttp 5104 8036 "GET /api/contracts/eefa1816-0807-4b62-ab92-cdfe91fc75eb/ HTTP/1.1" 200 10931
INFO 2025-07-09 19:22:17,451 basehttp 5104 8036 "GET /api/clauses/?contract=eefa1816-0807-4b62-ab92-cdfe91fc75eb HTTP/1.1" 200 14321
INFO 2025-07-09 19:34:35,357 basehttp 5104 23388 "GET /api/contracts/?page_size=5 HTTP/1.1" 200 6237
INFO 2025-07-09 19:34:35,519 basehttp 5104 3288 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 200 1974
INFO 2025-07-09 19:34:43,333 basehttp 5104 22836 "OPTIONS /api/contracts/babf6e44-8ffd-4e9a-a042-04a5b971e2d0/ HTTP/1.1" 200 0
INFO 2025-07-09 19:34:43,335 basehttp 5104 3028 "OPTIONS /api/clauses/?contract=babf6e44-8ffd-4e9a-a042-04a5b971e2d0 HTTP/1.1" 200 0
INFO 2025-07-09 19:34:45,441 basehttp 5104 24772 "GET /api/contracts/babf6e44-8ffd-4e9a-a042-04a5b971e2d0/ HTTP/1.1" 200 9177
INFO 2025-07-09 19:34:45,616 basehttp 5104 16824 "GET /api/clauses/?contract=babf6e44-8ffd-4e9a-a042-04a5b971e2d0 HTTP/1.1" 200 14321
INFO 2025-07-09 19:35:36,730 basehttp 5104 10728 "OPTIONS /api/contract-types/ HTTP/1.1" 200 0
INFO 2025-07-09 19:35:39,083 basehttp 5104 14956 "GET /api/contract-types/ HTTP/1.1" 200 1236
INFO 2025-07-09 19:35:57,504 basehttp 5104 24444 "OPTIONS /api/contracts/ HTTP/1.1" 200 0
INFO 2025-07-09 19:35:59,284 ml_service 5104 20048 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:35:59,284 ml_service 5104 20048 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:35:59,284 ml_service 5104 20048 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:35:59,294 ml_service 5104 20048 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:35:59,294 ml_service 5104 20048 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:35:59,294 ml_service 5104 20048 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:35:59,307 ml_service 5104 20048 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:35:59,319 ml_service 5104 20048 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:35:59,319 ml_service 5104 20048 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:35:59,323 ml_service 5104 20048 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:35:59,323 ml_service 5104 20048 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:35:59,323 ml_service 5104 20048 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:35:59,342 ml_service 5104 20048 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:35:59,342 ml_service 5104 20048 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:35:59,342 ml_service 5104 20048 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:35:59,356 ml_service 5104 20048 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:35:59,356 ml_service 5104 20048 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:35:59,356 ml_service 5104 20048 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:35:59,370 ml_service 5104 20048 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:35:59,370 ml_service 5104 20048 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:35:59,370 ml_service 5104 20048 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:35:59,387 ml_service 5104 20048 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:35:59,394 ml_service 5104 20048 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:35:59,394 ml_service 5104 20048 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:35:59,403 ml_service 5104 20048 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:35:59,403 ml_service 5104 20048 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:35:59,403 ml_service 5104 20048 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:35:59,427 ml_service 5104 20048 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:35:59,427 ml_service 5104 20048 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:35:59,427 ml_service 5104 20048 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:35:59,436 ml_service 5104 20048 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:35:59,436 ml_service 5104 20048 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:35:59,436 ml_service 5104 20048 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:35:59,455 ml_service 5104 20048 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:35:59,455 ml_service 5104 20048 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:35:59,455 ml_service 5104 20048 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:35:59,549 ml_service 5104 20048 Iniciando análisis OpenAI para 11 cláusulas
DEBUG 2025-07-09 19:35:59,549 ml_service 5104 20048 Enviando solicitud a OpenAI API para análisis general
ERROR 2025-07-09 19:35:59,549 ml_service 5104 20048 Error en el análisis de OpenAI: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 188, in _get_openai_analysis
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
ERROR 2025-07-09 19:35:59,558 views 5104 20048 Error en análisis síncrono: NOT NULL constraint failed: contracts_clause.gpt_is_abusive
Traceback (most recent call last):
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\sqlite3\base.py", line 360, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: NOT NULL constraint failed: contracts_clause.gpt_is_abusive

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\contracts\views.py", line 227, in trigger_analysis_sync
    Clause.objects.create(
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 663, in create
    obj.save(force_insert=True, using=self.db)
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\base.py", line 1008, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\base.py", line 1169, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\base.py", line 1210, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 1868, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\sql\compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\sqlite3\base.py", line 360, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.IntegrityError: NOT NULL constraint failed: contracts_clause.gpt_is_abusive

INFO 2025-07-09 19:35:59,558 basehttp 5104 20048 "POST /api/contracts/ HTTP/1.1" 201 3216
INFO 2025-07-09 19:35:59,594 basehttp 5104 24444 "OPTIONS /api/contracts/47d4e7ca-cd4f-4434-8fee-63301d2097ab/ HTTP/1.1" 200 0
INFO 2025-07-09 19:35:59,594 basehttp 5104 17992 "OPTIONS /api/clauses/?contract=47d4e7ca-cd4f-4434-8fee-63301d2097ab HTTP/1.1" 200 0
INFO 2025-07-09 19:36:01,469 basehttp 5104 20048 "GET /api/contracts/47d4e7ca-cd4f-4434-8fee-63301d2097ab/ HTTP/1.1" 200 3640
INFO 2025-07-09 19:36:01,537 basehttp 5104 18208 "GET /api/clauses/?contract=47d4e7ca-cd4f-4434-8fee-63301d2097ab HTTP/1.1" 200 14321
INFO 2025-07-09 19:38:13,499 basehttp 5104 20184 "OPTIONS /api/contracts/47d4e7ca-cd4f-4434-8fee-63301d2097ab/analyze/ HTTP/1.1" 200 0
INFO 2025-07-09 19:38:15,519 ml_service 5104 2232 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:38:15,519 ml_service 5104 2232 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:38:15,519 ml_service 5104 2232 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:38:15,535 ml_service 5104 2232 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:38:15,535 ml_service 5104 2232 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:38:15,535 ml_service 5104 2232 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:38:15,551 ml_service 5104 2232 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:38:15,551 ml_service 5104 2232 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:38:15,551 ml_service 5104 2232 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:38:15,570 ml_service 5104 2232 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:38:15,570 ml_service 5104 2232 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:38:15,572 ml_service 5104 2232 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:38:15,582 ml_service 5104 2232 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:38:15,582 ml_service 5104 2232 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:38:15,582 ml_service 5104 2232 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:38:15,590 ml_service 5104 2232 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:38:15,598 ml_service 5104 2232 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:38:15,598 ml_service 5104 2232 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:38:15,601 ml_service 5104 2232 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:38:15,601 ml_service 5104 2232 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:38:15,601 ml_service 5104 2232 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:38:15,622 ml_service 5104 2232 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:38:15,622 ml_service 5104 2232 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:38:15,622 ml_service 5104 2232 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:38:15,637 ml_service 5104 2232 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:38:15,637 ml_service 5104 2232 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:38:15,637 ml_service 5104 2232 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:38:15,646 ml_service 5104 2232 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:38:15,646 ml_service 5104 2232 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:38:15,646 ml_service 5104 2232 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:38:15,672 ml_service 5104 2232 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:38:15,672 ml_service 5104 2232 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:38:15,672 ml_service 5104 2232 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:38:15,676 ml_service 5104 2232 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:38:15,676 ml_service 5104 2232 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
ERROR 2025-07-09 19:38:15,676 ml_service 5104 2232 Error en validación GPT: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 270, in _validate_clause_with_gpt
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
INFO 2025-07-09 19:38:15,791 ml_service 5104 2232 Iniciando análisis OpenAI para 11 cláusulas
DEBUG 2025-07-09 19:38:15,791 ml_service 5104 2232 Enviando solicitud a OpenAI API para análisis general
ERROR 2025-07-09 19:38:15,791 ml_service 5104 2232 Error en el análisis de OpenAI: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 188, in _get_openai_analysis
    api_key = config('OPENAI_API_KEY')
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 248, in __call__
    return self.config(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 107, in __call__
    return self.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\decouple.py", line 92, in get
    raise UndefinedValueError('{} not found. Declare it as envvar or define a default value.'.format(option))
decouple.UndefinedValueError: OPENAI_API_KEY not found. Declare it as envvar or define a default value.
ERROR 2025-07-09 19:38:15,791 views 5104 2232 Error en análisis síncrono: NOT NULL constraint failed: contracts_clause.gpt_is_abusive
Traceback (most recent call last):
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\sqlite3\base.py", line 360, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: NOT NULL constraint failed: contracts_clause.gpt_is_abusive

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\contracts\views.py", line 227, in trigger_analysis_sync
    Clause.objects.create(
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 663, in create
    obj.save(force_insert=True, using=self.db)
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\base.py", line 1008, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\base.py", line 1169, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\base.py", line 1210, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 1868, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\sql\compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\sqlite3\base.py", line 360, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.IntegrityError: NOT NULL constraint failed: contracts_clause.gpt_is_abusive

INFO 2025-07-09 19:38:15,803 basehttp 5104 2232 "POST /api/contracts/47d4e7ca-cd4f-4434-8fee-63301d2097ab/analyze/ HTTP/1.1" 200 122
INFO 2025-07-09 19:38:17,517 basehttp 5104 2232 "GET /api/contracts/47d4e7ca-cd4f-4434-8fee-63301d2097ab/ HTTP/1.1" 200 3640
INFO 2025-07-09 19:38:21,195 basehttp 5104 2232 "GET /api/contracts/47d4e7ca-cd4f-4434-8fee-63301d2097ab/ HTTP/1.1" 200 3640
INFO 2025-07-09 19:38:21,371 basehttp 5104 22252 "GET /api/clauses/?contract=47d4e7ca-cd4f-4434-8fee-63301d2097ab HTTP/1.1" 200 14321
INFO 2025-07-09 19:41:16,190 autoreload 17164 17312 Watching for file changes with StatReloader
INFO 2025-07-09 19:51:42,000 basehttp 17164 15120 "GET /api/contract-types/ HTTP/1.1" 200 1236
INFO 2025-07-09 19:52:01,703 ml_service 17164 9876 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:52:01,703 ml_service 17164 9876 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-09 19:52:06,293 ml_service 17164 9876 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'El texto es una cláusula contractual válida, ya que establece claramente los términos del contrato de alquiler entre el propietario y la inquilina. Sin embargo, es considerada abusiva según la legislación dominicana por imponer una condición desproporcionada al requerir que el inquilino pague el alquiler en efectivo únicamente y sin ningún tipo de recibo o constancia escrita. Esta condición limita los derechos del inquilino y crea un desequilibrio significativo entre las partes, ya que el inquilino queda desprotegido al no contar con evidencia de pago en caso de disputa.', 'suggested_fix': 'Para que la cláusula sea considerada no abusiva, se podría modificar para permitir que el inquilino realice el pago del alquiler mediante transferencia bancaria u otro medio electrónico que permita tener un registro de pago. De esta forma, se garantiza la protección de los derechos del inquilino y se evita el desequilibrio entre las partes.'}
INFO 2025-07-09 19:52:06,335 ml_service 17164 9876 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:52:06,335 ml_service 17164 9876 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-09 19:52:08,309 ml_service 17164 9876 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'El texto es una cláusula contractual válida, ya que establece las consecuencias en caso de rescisión anticipada del contrato por parte de la inquilina. No se observa que genere un desequilibrio significativo entre las partes, limite derechos fundamentales, imponga condiciones desproporcionadas, ni viole principios de buena fe o equidad.', 'suggested_fix': ''}
INFO 2025-07-09 19:52:08,335 ml_service 17164 9876 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:52:08,335 ml_service 17164 9876 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-09 19:52:11,873 ml_service 17164 9876 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'El texto es una cláusula contractual válida ya que establece un derecho del propietario de ingresar a la propiedad sin previo aviso ni consentimiento de la inquilina. Sin embargo, esta cláusula es considerada abusiva según la legislación dominicana, ya que crea un desequilibrio significativo entre las partes al otorgar al propietario un poder excesivo sobre la propiedad al no requerir consentimiento ni previo aviso, lo cual limita los derechos fundamentales de la inquilina y viola principios de equidad y buena fe.', 'suggested_fix': 'Para reescribir de forma no abusiva, se podría modificar la cláusula para establecer que el propietario solo podrá ingresar a la propiedad en casos de emergencia o previa notificación a la inquilina, respetando así los derechos y la privacidad de esta última.'}
INFO 2025-07-09 19:52:11,891 ml_service 17164 9876 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:52:11,891 ml_service 17164 9876 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-09 19:52:15,572 ml_service 17164 9876 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'El texto es una cláusula contractual válida ya que establece una modificación unilateral por parte del propietario sin necesidad de acuerdo con la inquilina. Sin embargo, es considerada abusiva según la legislación dominicana porque crea un desequilibrio significativo entre las partes al permitir al propietario modificar el contrato sin previo aviso ni acuerdo, lo cual limita los derechos de la inquilina y viola principios de buena fe y equidad.', 'suggested_fix': "Para que la cláusula sea considerada no abusiva, se podría reescribir de la siguiente manera: 'El propietario podrá modificar las condiciones del contrato previo acuerdo con la inquilina y notificación por escrito con al menos 30 días de antelación'. De esta forma se establece un proceso de modificación que respeta los derechos y la equidad entre las partes."}
INFO 2025-07-09 19:52:15,584 ml_service 17164 9876 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:52:15,584 ml_service 17164 9876 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-09 19:52:17,933 ml_service 17164 9876 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'El texto es una cláusula contractual válida ya que establece claramente la responsabilidad de la inquilina por las reparaciones del inmueble, incluso en casos de desgaste natural o defectos estructurales. No se observa que genere un desequilibrio significativo entre las partes, limite derechos fundamentales, imponga condiciones desproporcionadas o viole principios de buena fe o equidad.', 'suggested_fix': ''}
INFO 2025-07-09 19:52:17,950 ml_service 17164 9876 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:52:17,950 ml_service 17164 9876 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-09 19:52:20,368 ml_service 17164 9876 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'La cláusula es válida en el sentido de que establece un acuerdo entre las partes, sin embargo, es considerada abusiva según la legislación dominicana por crear un desequilibrio significativo entre las partes. Al renunciar la inquilina a cualquier acción legal contra el propietario y aceptar que cualquier disputa se resolverá exclusivamente según la voluntad del propietario, se limitan los derechos fundamentales de la inquilina y se impone una condición desproporcionada que viola los principios de buena fe y equidad.', 'suggested_fix': "Para que la cláusula sea considerada no abusiva, se podría reescribir de la siguiente manera: 'Ambas partes acuerdan resolver cualquier disputa de manera amistosa y, en caso de no llegar a un acuerdo, someter la controversia a mediación o arbitraje neutral.'"}
INFO 2025-07-09 19:52:20,380 ml_service 17164 9876 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:52:20,380 ml_service 17164 9876 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-09 19:52:23,159 ml_service 17164 9876 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula es válida ya que establece una restricción razonable sobre las visitas que puede recibir el inquilino en el apartamento, especificando que solo pueden ser familiares directos con autorización previa del propietario. Esta restricción es común en contratos de arrendamiento y busca proteger la tranquilidad y seguridad del edificio. No se observa un desequilibrio significativo entre las partes ni una imposición desproporcionada, y no limita derechos fundamentales de manera injustificada. Por tanto, no se considera abusiva.', 'suggested_fix': ''}
INFO 2025-07-09 19:52:23,174 ml_service 17164 9876 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:52:23,174 ml_service 17164 9876 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-09 19:52:25,941 ml_service 17164 9876 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'La cláusula es válida porque está redactada de manera clara y precisa, indicando las obligaciones de la inquilina. Sin embargo, es considerada abusiva según la legislación dominicana porque impone a la inquilina la renuncia a servicios básicos como agua potable, electricidad o gas, lo cual crea un desequilibrio significativo entre las partes y limita derechos fundamentales.', 'suggested_fix': 'Se sugiere reescribir la cláusula de forma que la inquilina no renuncie a servicios básicos esenciales, y en su lugar se establezca claramente la responsabilidad de cada parte en cuanto a la gestión y pago de dichos servicios.'}
INFO 2025-07-09 19:52:25,960 ml_service 17164 9876 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:52:25,960 ml_service 17164 9876 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-09 19:52:29,890 ml_service 17164 9876 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'La cláusula es válida en el sentido de que establece una obligación clara de pago por parte de la inquilina y las consecuencias del retraso en el pago. Sin embargo, es considerada abusiva según la legislación dominicana por crear un desequilibrio significativo entre las partes al permitir al propietario desalojar a la inquilina inmediatamente y sin necesidad de proceso legal en caso de retraso en el pago. Esta cláusula limita los derechos fundamentales de la inquilina y viola el principio de equidad.', 'suggested_fix': "Para que la cláusula sea considerada no abusiva, se podría reescribir de la siguiente manera: 'En caso de retraso en el pago, EL PROPIETARIO podrá notificar a la INQUILINA sobre el mismo y darle un plazo razonable para regularizar la situación antes de iniciar cualquier acción legal para el desalojo.'"}
INFO 2025-07-09 19:52:29,904 ml_service 17164 9876 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:52:29,904 ml_service 17164 9876 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-09 19:52:32,392 ml_service 17164 9876 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula es válida ya que establece una obligación clara y específica en caso de fallecimiento de la inquilina, la cual es continuar pagando el alquiler hasta el final del contrato. Esta disposición es común en contratos de arrendamiento y no presenta un desequilibrio significativo entre las partes ni limita derechos fundamentales de manera abusiva. Además, no impone condiciones desproporcionadas ni viola principios de buena fe o equidad.', 'suggested_fix': ''}
INFO 2025-07-09 19:52:32,418 ml_service 17164 9876 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:52:32,418 ml_service 17164 9876 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-09 19:52:35,235 ml_service 17164 9876 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'El texto es una cláusula contractual válida, ya que establece la duración del contrato y la posibilidad de terminarlo unilateralmente por parte del PROPIETARIO. Sin embargo, es considerada abusiva según la legislación dominicana, ya que otorga al PROPIETARIO un poder unilateral excesivo al permitirle finalizar el contrato en cualquier momento, sin previo aviso ni justificación, lo cual crea un desequilibrio significativo entre las partes y limita los derechos del otro contratante.', 'suggested_fix': "Para que la cláusula sea considerada no abusiva, se podría reescribir de la siguiente manera: 'El presente contrato tendrá una vigencia de UN (1) año, salvo causa justificada por parte del PROPIETARIO, quien podrá finalizarlo previo aviso de al menos 30 días al otro contratante.' De esta forma, se establece un mecanismo de terminación que respeta los derechos y la equidad entre las partes."}
INFO 2025-07-09 19:52:35,252 ml_service 17164 9876 Iniciando validación GPT para cláusula
DEBUG 2025-07-09 19:52:35,252 ml_service 17164 9876 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-09 19:52:38,904 ml_service 17164 9876 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'La cláusula es válida en el sentido de que está redactada de forma clara y precisa dentro del contrato. Sin embargo, es considerada abusiva según la legislación dominicana porque impone un aumento automático del 50% en el alquiler en caso de renovación, sin posibilidad de negociación por parte del inquilino. Esta cláusula crea un desequilibrio significativo entre las partes al imponer una condición desproporcionada que limita los derechos fundamentales del inquilino a negociar condiciones justas.', 'suggested_fix': 'Para que la cláusula sea considerada no abusiva, se podría reescribir de manera que se permita la negociación entre ambas partes en caso de renovación, evitando imponer un aumento automático sin posibilidad de diálogo. Por ejemplo, se podría establecer que el aumento en el alquiler esté sujeto a acuerdo mutuo entre el arrendador y el inquilino, respetando los principios de buena fe y equidad.'}
INFO 2025-07-09 19:52:39,029 ml_service 17164 9876 Iniciando análisis OpenAI para 12 cláusulas
DEBUG 2025-07-09 19:52:39,029 ml_service 17164 9876 Enviando solicitud a OpenAI API para análisis general
DEBUG 2025-07-09 19:52:40,779 ml_service 17164 9876 Análisis recibido: {'resumen': 'Las cláusulas identificadas en el contrato presentan desequilibrio de derechos en favor del propietario, exponiendo a la inquilina a posibles abusos y limitaciones significativas en sus derechos como arrendataria.', 'recomendaciones': ['Negociar la eliminación o modificación de las cláusulas abusivas con el propietario antes de firmar el contrato.', 'Consultar con un abogado especializado en arrendamientos para evaluar la legalidad de las cláusulas y recibir asesoramiento adecuado.', 'Considerar buscar otras opciones de alquiler que respeten los derechos y equilibren las responsabilidades entre ambas partes.']}
INFO 2025-07-09 19:52:40,852 basehttp 17164 9876 "POST /api/contracts/ HTTP/1.1" 201 3205
INFO 2025-07-09 19:52:41,236 basehttp 17164 24268 "OPTIONS /api/contracts/866a9ffd-a36a-4cb1-bf46-e301246765fe/ HTTP/1.1" 200 0
INFO 2025-07-09 19:52:41,239 basehttp 17164 7512 "OPTIONS /api/clauses/?contract=866a9ffd-a36a-4cb1-bf46-e301246765fe HTTP/1.1" 200 0
INFO 2025-07-09 19:52:42,613 basehttp 17164 9876 "GET /api/contracts/866a9ffd-a36a-4cb1-bf46-e301246765fe/ HTTP/1.1" 200 19646
INFO 2025-07-09 19:52:42,930 basehttp 17164 1756 "GET /api/clauses/?contract=866a9ffd-a36a-4cb1-bf46-e301246765fe HTTP/1.1" 200 21966
INFO 2025-07-10 12:27:55,335 autoreload 4560 23088 Watching for file changes with StatReloader
INFO 2025-07-10 12:29:34,312 basehttp 4560 22424 "OPTIONS /api/contracts/dashboard_stats/ HTTP/1.1" 200 0
INFO 2025-07-10 12:29:34,320 basehttp 4560 7208 "OPTIONS /api/contracts/?page_size=5 HTTP/1.1" 200 0
INFO 2025-07-10 12:29:36,862 basehttp 4560 3940 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 200 1971
INFO 2025-07-10 12:29:36,920 basehttp 4560 24492 "GET /api/contracts/?page_size=5 HTTP/1.1" 200 6963
INFO 2025-07-10 12:29:39,447 basehttp 4560 26088 "OPTIONS /api/contracts/866a9ffd-a36a-4cb1-bf46-e301246765fe/ HTTP/1.1" 200 0
INFO 2025-07-10 12:29:39,451 basehttp 4560 26088 "OPTIONS /api/clauses/?contract=866a9ffd-a36a-4cb1-bf46-e301246765fe HTTP/1.1" 200 0
INFO 2025-07-10 12:29:41,283 basehttp 4560 24492 "GET /api/contracts/866a9ffd-a36a-4cb1-bf46-e301246765fe/ HTTP/1.1" 200 19646
INFO 2025-07-10 12:29:41,307 basehttp 4560 3940 "GET /api/clauses/?contract=866a9ffd-a36a-4cb1-bf46-e301246765fe HTTP/1.1" 200 21966
INFO 2025-07-10 12:32:36,337 basehttp 4560 3656 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 200 1971
INFO 2025-07-10 12:44:56,089 basehttp 4560 9928 "OPTIONS /api/contracts/57de40b8-0880-4e27-b85d-3e2c5d80f7d5/ HTTP/1.1" 200 0
INFO 2025-07-10 12:44:56,101 basehttp 4560 12480 "OPTIONS /api/clauses/?contract=57de40b8-0880-4e27-b85d-3e2c5d80f7d5 HTTP/1.1" 200 0
INFO 2025-07-10 12:44:58,270 basehttp 4560 12504 "GET /api/clauses/?contract=57de40b8-0880-4e27-b85d-3e2c5d80f7d5 HTTP/1.1" 200 21966
INFO 2025-07-10 12:44:58,276 basehttp 4560 17544 "GET /api/contracts/57de40b8-0880-4e27-b85d-3e2c5d80f7d5/ HTTP/1.1" 200 6241
INFO 2025-07-10 12:45:00,898 basehttp 4560 17544 "GET /api/clauses/?contract=57de40b8-0880-4e27-b85d-3e2c5d80f7d5 HTTP/1.1" 200 21966
INFO 2025-07-10 12:47:47,854 basehttp 4560 27032 "OPTIONS /api/contracts/57de40b8-0880-4e27-b85d-3e2c5d80f7d5/analyze/ HTTP/1.1" 200 0
INFO 2025-07-10 12:47:50,414 ml_service 4560 7584 Iniciando validación GPT para cláusula
DEBUG 2025-07-10 12:47:50,416 ml_service 4560 7584 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-10 12:47:52,568 ml_service 4560 7584 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula analizada es válida ya que cumple con los requisitos básicos de un contrato, como la identificación de las partes, el objeto del contrato (venta de un vehículo) y la descripción detallada del bien vendido. No se observa ninguna característica abusiva en la cláusula, ya que no crea un desequilibrio significativo entre las partes, no limita derechos fundamentales, no impone condiciones desproporcionadas y no viola principios de buena fe o equidad.', 'suggested_fix': ''}
INFO 2025-07-10 12:47:52,687 ml_service 4560 7584 Iniciando validación GPT para cláusula
DEBUG 2025-07-10 12:47:52,688 ml_service 4560 7584 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-10 12:47:54,723 ml_service 4560 7584 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula analizada es válida ya que establece de manera clara y precisa el acuerdo entre las partes en relación al precio de venta del vehículo, así como las obligaciones y derechos de cada una. No se observa ninguna característica que la haga inválida. Además, no se considera abusiva ya que no crea un desequilibrio significativo entre las partes, no limita derechos fundamentales, no impone condiciones desproporcionadas y no viola principios de buena fe o equidad.', 'suggested_fix': ''}
INFO 2025-07-10 12:47:54,773 ml_service 4560 7584 Iniciando validación GPT para cláusula
DEBUG 2025-07-10 12:47:54,773 ml_service 4560 7584 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-10 12:47:57,410 ml_service 4560 7584 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula es válida ya que establece de manera clara y precisa la autorización de traspaso de la matrícula original entre las partes contratantes. No se observa ninguna irregularidad que la invalide. Además, no se identifica ninguna característica abusiva en la cláusula, ya que no crea desequilibrio significativo entre las partes, no limita derechos fundamentales, no impone condiciones desproporcionadas y no viola principios de buena fe o equidad.', 'suggested_fix': ''}
ERROR 2025-07-10 12:47:57,707 views 4560 7584 Error en análisis síncrono: 'is_abusive'
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\contracts\views.py", line 198, in trigger_analysis_sync
    analysis_result = ml_service.analyze_contract(contract.original_text)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 484, in analyze_contract
    summary = self._generate_summary(clause_results, risk_score)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 383, in _generate_summary
    abusive_count = sum(1 for c in clause_results if c['is_abusive'])
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 383, in <genexpr>
    abusive_count = sum(1 for c in clause_results if c['is_abusive'])
                                                     ~^^^^^^^^^^^^^^
KeyError: 'is_abusive'

INFO 2025-07-10 12:47:57,712 basehttp 4560 7584 "POST /api/contracts/57de40b8-0880-4e27-b85d-3e2c5d80f7d5/analyze/ HTTP/1.1" 200 121
INFO 2025-07-10 12:48:00,007 basehttp 4560 7584 "GET /api/contracts/57de40b8-0880-4e27-b85d-3e2c5d80f7d5/ HTTP/1.1" 200 6237
INFO 2025-07-10 12:53:50,185 autoreload 4560 23088 C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py changed, reloading.
INFO 2025-07-10 12:53:53,743 autoreload 18840 17028 Watching for file changes with StatReloader
INFO 2025-07-10 13:01:31,194 autoreload 19944 5144 Watching for file changes with StatReloader
INFO 2025-07-10 13:05:44,999 basehttp 19944 25392 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 200 1971
INFO 2025-07-10 13:05:45,053 basehttp 19944 13332 "GET /api/contracts/?page_size=5 HTTP/1.1" 200 6959
INFO 2025-07-10 13:05:53,900 basehttp 19944 13332 "GET /api/contracts/57de40b8-0880-4e27-b85d-3e2c5d80f7d5/ HTTP/1.1" 200 6237
INFO 2025-07-10 13:05:53,931 basehttp 19944 25392 "GET /api/clauses/?contract=57de40b8-0880-4e27-b85d-3e2c5d80f7d5 HTTP/1.1" 200 21966
INFO 2025-07-10 13:08:34,984 ml_service 19944 24720 Iniciando validación GPT para cláusula
DEBUG 2025-07-10 13:08:34,984 ml_service 19944 24720 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-10 13:08:37,559 ml_service 19944 24720 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula analizada es válida ya que establece de manera clara y precisa el objeto del contrato, que es la venta y traspaso de un vehículo en condiciones específicas. No se observa ninguna irregularidad que la invalide. Además, no se considera abusiva ya que no crea un desequilibrio significativo entre las partes, no limita derechos fundamentales, no impone condiciones desproporcionadas y no viola principios de buena fe o equidad.', 'suggested_fix': ''}
INFO 2025-07-10 13:08:37,669 ml_service 19944 24720 Iniciando validación GPT para cláusula
DEBUG 2025-07-10 13:08:37,669 ml_service 19944 24720 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-10 13:08:40,519 ml_service 19944 24720 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula analizada es válida ya que establece de manera clara y precisa el acuerdo entre las partes en cuanto al precio del vehículo, los pagos realizados y las obligaciones correspondientes. No se observa un desequilibrio significativo entre las partes ni limitación de derechos fundamentales. Además, la cláusula cumple con los requisitos de transparencia y buena fe en la relación contractual.', 'suggested_fix': ''}
INFO 2025-07-10 13:08:40,591 ml_service 19944 24720 Iniciando validación GPT para cláusula
DEBUG 2025-07-10 13:08:40,591 ml_service 19944 24720 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-10 13:08:43,465 ml_service 19944 24720 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'El texto analizado es una cláusula contractual válida, ya que establece de manera clara y precisa la autorización de traspaso de la matrícula original entre las partes. No se observa ninguna característica que indique que sea abusiva, ya que no crea un desequilibrio significativo entre las partes, no limita derechos fundamentales, no impone condiciones desproporcionadas y no viola principios de buena fe o equidad.', 'suggested_fix': ''}
ERROR 2025-07-10 13:08:43,619 views 19944 24720 Error en análisis síncrono: 'is_abusive'
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\contracts\views.py", line 198, in trigger_analysis_sync
    analysis_result = ml_service.analyze_contract(contract.original_text)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 500, in analyze_contract
    recommendations = self._generate_recommendations(clause_results)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 419, in _generate_recommendations
    abusive_clauses = [c for c in clause_results if c['is_abusive']]
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 419, in <listcomp>
    abusive_clauses = [c for c in clause_results if c['is_abusive']]
                                                    ~^^^^^^^^^^^^^^
KeyError: 'is_abusive'

INFO 2025-07-10 13:08:43,623 basehttp 19944 24720 "POST /api/contracts/57de40b8-0880-4e27-b85d-3e2c5d80f7d5/analyze/ HTTP/1.1" 200 121
INFO 2025-07-10 13:08:46,041 basehttp 19944 2096 "GET /api/contracts/57de40b8-0880-4e27-b85d-3e2c5d80f7d5/ HTTP/1.1" 200 6237
INFO 2025-07-10 14:57:54,238 basehttp 19944 27472 "OPTIONS /api/contracts/57de40b8-0880-4e27-b85d-3e2c5d80f7d5/analyze/ HTTP/1.1" 200 0
INFO 2025-07-10 14:57:55,455 ml_service 19944 21036 Iniciando validación GPT para cláusula
DEBUG 2025-07-10 14:57:55,455 ml_service 19944 21036 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-10 14:57:58,770 ml_service 19944 21036 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula analizada es válida ya que establece de manera clara y precisa el objeto del contrato, que es la venta y transferencia de un vehículo en condiciones específicas. No se observa ninguna irregularidad que la invalide. Además, no se identifican elementos abusivos en la cláusula, ya que no crea un desequilibrio significativo entre las partes, no limita derechos fundamentales, no impone condiciones desproporcionadas y no viola principios de buena fe o equidad.', 'suggested_fix': ''}
INFO 2025-07-10 14:57:58,803 ml_service 19944 21036 Iniciando validación GPT para cláusula
DEBUG 2025-07-10 14:57:58,803 ml_service 19944 21036 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-10 14:58:01,183 ml_service 19944 21036 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula analizada es válida ya que establece de manera clara y precisa el precio acordado entre las partes para la venta del vehículo, así como las obligaciones y derechos derivados de dicho acuerdo. No crea un desequilibrio significativo entre las partes, no limita derechos fundamentales, no impone condiciones desproporcionadas y no viola principios de buena fe o equidad. Por tanto, no se considera abusiva.', 'suggested_fix': ''}
INFO 2025-07-10 14:58:01,215 ml_service 19944 21036 Iniciando validación GPT para cláusula
DEBUG 2025-07-10 14:58:01,215 ml_service 19944 21036 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-10 14:58:03,401 ml_service 19944 21036 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula es válida ya que establece de manera clara y precisa la autorización de traspaso de la matrícula original entre las partes. No se observa ninguna irregularidad que la invalide. Además, no se identifica ninguna característica abusiva en la cláusula, ya que no crea desequilibrio significativo entre las partes, no limita derechos fundamentales, no impone condiciones desproporcionadas y no viola principios de buena fe o equidad.', 'suggested_fix': ''}
ERROR 2025-07-10 14:58:03,494 views 19944 21036 Error en análisis síncrono: 'is_abusive'
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\contracts\views.py", line 198, in trigger_analysis_sync
    analysis_result = ml_service.analyze_contract(contract.original_text)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 500, in analyze_contract
    recommendations = self._generate_recommendations(clause_results)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 419, in _generate_recommendations
    abusive_clauses = [c for c in clause_results if c['is_abusive']]
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 419, in <listcomp>
    abusive_clauses = [c for c in clause_results if c['is_abusive']]
                                                    ~^^^^^^^^^^^^^^
KeyError: 'is_abusive'

INFO 2025-07-10 14:58:03,497 basehttp 19944 21036 "POST /api/contracts/57de40b8-0880-4e27-b85d-3e2c5d80f7d5/analyze/ HTTP/1.1" 200 121
INFO 2025-07-10 14:58:03,821 basehttp 19944 17296 "OPTIONS /api/contracts/57de40b8-0880-4e27-b85d-3e2c5d80f7d5/ HTTP/1.1" 200 0
INFO 2025-07-10 14:58:04,642 basehttp 19944 21036 "GET /api/contracts/57de40b8-0880-4e27-b85d-3e2c5d80f7d5/ HTTP/1.1" 200 6237
INFO 2025-07-10 15:10:35,698 autoreload 19944 5144 C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\contracts\views.py changed, reloading.
INFO 2025-07-10 15:10:41,436 autoreload 17400 11604 Watching for file changes with StatReloader
INFO 2025-07-10 15:15:24,423 autoreload 17400 11604 C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\contracts\views.py changed, reloading.
INFO 2025-07-10 15:15:27,147 autoreload 8776 19368 Watching for file changes with StatReloader
INFO 2025-07-10 15:18:20,511 basehttp 8776 16844 "OPTIONS /api/contracts/dashboard_stats/ HTTP/1.1" 200 0
INFO 2025-07-10 15:18:20,516 basehttp 8776 25036 "OPTIONS /api/contracts/?page_size=5 HTTP/1.1" 200 0
INFO 2025-07-10 15:18:22,213 basehttp 8776 21600 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 200 1971
INFO 2025-07-10 15:18:22,258 basehttp 8776 19468 "GET /api/contracts/?page_size=5 HTTP/1.1" 200 6959
INFO 2025-07-10 15:18:25,784 basehttp 8776 25036 "OPTIONS /api/clauses/?contract=57de40b8-0880-4e27-b85d-3e2c5d80f7d5 HTTP/1.1" 200 0
INFO 2025-07-10 15:18:27,510 basehttp 8776 19468 "GET /api/contracts/57de40b8-0880-4e27-b85d-3e2c5d80f7d5/ HTTP/1.1" 200 6237
INFO 2025-07-10 15:18:27,610 basehttp 8776 21600 "GET /api/clauses/?contract=57de40b8-0880-4e27-b85d-3e2c5d80f7d5 HTTP/1.1" 200 21966
INFO 2025-07-10 15:18:38,213 ml_service 8776 17332 Iniciando validación GPT para cláusula
DEBUG 2025-07-10 15:18:38,213 ml_service 8776 17332 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-10 15:18:40,184 ml_service 8776 17332 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula analizada es válida ya que cumple con los requisitos básicos de un contrato, como la identificación de las partes, el objeto del contrato y la descripción detallada del bien objeto de la transacción. Además, no se observa ninguna característica que la haga abusiva según la legislación dominicana.', 'suggested_fix': ''}
INFO 2025-07-10 15:18:40,212 ml_service 8776 17332 Iniciando validación GPT para cláusula
DEBUG 2025-07-10 15:18:40,212 ml_service 8776 17332 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-10 15:18:41,754 ml_service 8776 17332 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula es válida ya que establece de forma clara y precisa el precio acordado entre las partes, las obligaciones de cada una y los documentos que se entregarán. No crea un desequilibrio significativo entre las partes, no limita derechos fundamentales, no impone condiciones desproporcionadas y no viola principios de buena fe o equidad.', 'suggested_fix': ''}
INFO 2025-07-10 15:18:41,785 ml_service 8776 17332 Iniciando validación GPT para cláusula
DEBUG 2025-07-10 15:18:41,785 ml_service 8776 17332 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-10 15:18:44,255 ml_service 8776 17332 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'El texto analizado es una cláusula contractual válida, ya que establece de manera clara y precisa la autorización de traspaso de la matrícula original entre las partes. No se observa ninguna característica que indique que la cláusula sea abusiva según la legislación dominicana, ya que no crea desequilibrio significativo entre las partes, no limita derechos fundamentales, no impone condiciones desproporcionadas y no viola principios de buena fe o equidad.', 'suggested_fix': ''}
ERROR 2025-07-10 15:18:44,323 views 8776 17332 Error en análisis síncrono: 'is_abusive'
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\contracts\views.py", line 210, in trigger_analysis_sync
    analysis_result = ml_service.analyze_contract(contract.original_text)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 500, in analyze_contract
    recommendations = self._generate_recommendations(clause_results)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 419, in _generate_recommendations
    abusive_clauses = [c for c in clause_results if c['is_abusive']]
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 419, in <listcomp>
    abusive_clauses = [c for c in clause_results if c['is_abusive']]
                                                    ~^^^^^^^^^^^^^^
KeyError: 'is_abusive'

INFO 2025-07-10 15:18:44,323 basehttp 8776 17332 "POST /api/contracts/57de40b8-0880-4e27-b85d-3e2c5d80f7d5/analyze/ HTTP/1.1" 200 122
INFO 2025-07-10 15:18:45,174 basehttp 8776 17332 "GET /api/contracts/57de40b8-0880-4e27-b85d-3e2c5d80f7d5/ HTTP/1.1" 200 2640
INFO 2025-07-10 15:29:19,923 autoreload 8776 19368 C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py changed, reloading.
INFO 2025-07-10 15:29:21,824 autoreload 25844 18040 Watching for file changes with StatReloader
INFO 2025-07-10 15:35:34,549 ml_service 25844 12560 Iniciando validación GPT para cláusula
DEBUG 2025-07-10 15:35:34,549 ml_service 25844 12560 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-10 15:35:36,121 ml_service 25844 12560 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Otro'}
INFO 2025-07-10 15:35:36,148 ml_service 25844 12560 Iniciando validación GPT para cláusula
DEBUG 2025-07-10 15:35:36,148 ml_service 25844 12560 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-10 15:35:37,389 ml_service 25844 12560 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Pago'}
INFO 2025-07-10 15:35:37,429 ml_service 25844 12560 Iniciando validación GPT para cláusula
DEBUG 2025-07-10 15:35:37,429 ml_service 25844 12560 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-10 15:35:38,818 ml_service 25844 12560 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': '', 'abusive_reason': '', 'clause_type': 'Otro'}
ERROR 2025-07-10 15:35:38,884 views 25844 12560 Error en análisis síncrono: 'is_abusive'
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\contracts\views.py", line 210, in trigger_analysis_sync
    analysis_result = ml_service.analyze_contract(contract.original_text)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 501, in analyze_contract
    recommendations = self._generate_recommendations(clause_results)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 420, in _generate_recommendations
    abusive_clauses = [c for c in clause_results if c['is_abusive']]
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 420, in <listcomp>
    abusive_clauses = [c for c in clause_results if c['is_abusive']]
                                                    ~^^^^^^^^^^^^^^
KeyError: 'is_abusive'

INFO 2025-07-10 15:35:38,888 basehttp 25844 12560 "POST /api/contracts/57de40b8-0880-4e27-b85d-3e2c5d80f7d5/analyze/ HTTP/1.1" 200 122
INFO 2025-07-10 15:35:39,811 basehttp 25844 12560 "GET /api/contracts/57de40b8-0880-4e27-b85d-3e2c5d80f7d5/ HTTP/1.1" 200 2640
INFO 2025-07-10 15:35:51,022 basehttp 25844 24700 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 200 1970
INFO 2025-07-10 15:35:51,058 basehttp 25844 21644 "GET /api/contracts/?page_size=5 HTTP/1.1" 200 6943
INFO 2025-07-10 15:35:55,490 basehttp 25844 21644 "GET /api/clauses/?contract=57de40b8-0880-4e27-b85d-3e2c5d80f7d5 HTTP/1.1" 200 21966
INFO 2025-07-10 15:35:58,463 basehttp 25844 21644 "DELETE /api/contracts/57de40b8-0880-4e27-b85d-3e2c5d80f7d5/ HTTP/1.1" 204 0
INFO 2025-07-10 15:35:59,991 basehttp 25844 21644 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 200 1970
INFO 2025-07-10 15:36:00,109 basehttp 25844 24700 "GET /api/contracts/?page_size=5 HTTP/1.1" 200 6614
INFO 2025-07-10 15:37:22,786 basehttp 25844 26072 "OPTIONS /api/contract-types/ HTTP/1.1" 200 0
INFO 2025-07-10 15:37:23,934 basehttp 25844 13596 "GET /api/contract-types/ HTTP/1.1" 200 1236
INFO 2025-07-10 15:37:33,364 basehttp 25844 11044 "OPTIONS /api/contracts/ HTTP/1.1" 200 0
INFO 2025-07-10 15:37:34,609 ml_service 25844 25812 Iniciando validación GPT para cláusula
DEBUG 2025-07-10 15:37:34,609 ml_service 25844 25812 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-10 15:37:35,701 ml_service 25844 25812 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': '', 'abusive_reason': '', 'clause_type': 'Obligaciones'}
INFO 2025-07-10 15:37:35,725 ml_service 25844 25812 Iniciando validación GPT para cláusula
DEBUG 2025-07-10 15:37:35,725 ml_service 25844 25812 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-10 15:37:36,683 ml_service 25844 25812 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Pago'}
INFO 2025-07-10 15:37:36,713 ml_service 25844 25812 Iniciando validación GPT para cláusula
DEBUG 2025-07-10 15:37:36,713 ml_service 25844 25812 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-10 15:37:37,979 ml_service 25844 25812 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': '', 'abusive_reason': '', 'clause_type': 'Otro'}
ERROR 2025-07-10 15:37:38,045 views 25844 25812 Error en análisis síncrono: 'is_abusive'
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\contracts\views.py", line 210, in trigger_analysis_sync
    analysis_result = ml_service.analyze_contract(contract.original_text)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 501, in analyze_contract
    recommendations = self._generate_recommendations(clause_results)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 420, in _generate_recommendations
    abusive_clauses = [c for c in clause_results if c['is_abusive']]
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 420, in <listcomp>
    abusive_clauses = [c for c in clause_results if c['is_abusive']]
                                                    ~^^^^^^^^^^^^^^
KeyError: 'is_abusive'

INFO 2025-07-10 15:37:38,045 basehttp 25844 25812 "POST /api/contracts/ HTTP/1.1" 201 2233
INFO 2025-07-10 15:37:38,092 basehttp 25844 11044 "OPTIONS /api/contracts/2648490e-0351-4e89-921d-e196e2c6e6ed/ HTTP/1.1" 200 0
INFO 2025-07-10 15:37:38,092 basehttp 25844 24892 "OPTIONS /api/clauses/?contract=2648490e-0351-4e89-921d-e196e2c6e6ed HTTP/1.1" 200 0
INFO 2025-07-10 15:37:39,123 basehttp 25844 25812 "GET /api/contracts/2648490e-0351-4e89-921d-e196e2c6e6ed/ HTTP/1.1" 200 2640
INFO 2025-07-10 15:37:39,131 basehttp 25844 21076 "GET /api/clauses/?contract=2648490e-0351-4e89-921d-e196e2c6e6ed HTTP/1.1" 200 21966
INFO 2025-07-10 15:37:58,471 basehttp 25844 23396 "DELETE /api/contracts/2648490e-0351-4e89-921d-e196e2c6e6ed/ HTTP/1.1" 204 0
INFO 2025-07-10 15:37:59,675 basehttp 25844 23396 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 200 1970
INFO 2025-07-10 15:37:59,691 basehttp 25844 14668 "GET /api/contracts/?page_size=5 HTTP/1.1" 200 6614
INFO 2025-07-10 15:38:03,413 basehttp 25844 27204 "OPTIONS /api/contracts/882c9533-c235-46cd-b304-b9e7020957fe/ HTTP/1.1" 200 0
INFO 2025-07-10 15:38:03,417 basehttp 25844 7788 "OPTIONS /api/clauses/?contract=882c9533-c235-46cd-b304-b9e7020957fe HTTP/1.1" 200 0
INFO 2025-07-10 15:38:04,793 basehttp 25844 22776 "GET /api/contracts/882c9533-c235-46cd-b304-b9e7020957fe/ HTTP/1.1" 200 1983
INFO 2025-07-10 15:38:04,810 basehttp 25844 4916 "GET /api/clauses/?contract=882c9533-c235-46cd-b304-b9e7020957fe HTTP/1.1" 200 21966
INFO 2025-07-10 15:38:08,368 basehttp 25844 4916 "DELETE /api/contracts/882c9533-c235-46cd-b304-b9e7020957fe/ HTTP/1.1" 204 0
INFO 2025-07-10 15:38:10,034 basehttp 25844 22776 "GET /api/contracts/?page_size=5 HTTP/1.1" 200 6260
INFO 2025-07-10 15:38:10,041 basehttp 25844 4916 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 200 1970
INFO 2025-07-10 15:38:10,967 basehttp 25844 7788 "OPTIONS /api/contracts/e8fe350b-b4f9-43f5-8c77-d79762fc2e5d/ HTTP/1.1" 200 0
INFO 2025-07-10 15:38:10,971 basehttp 25844 27204 "OPTIONS /api/clauses/?contract=e8fe350b-b4f9-43f5-8c77-d79762fc2e5d HTTP/1.1" 200 0
INFO 2025-07-10 15:38:12,119 basehttp 25844 4916 "GET /api/contracts/e8fe350b-b4f9-43f5-8c77-d79762fc2e5d/ HTTP/1.1" 200 2648
INFO 2025-07-10 15:38:12,163 basehttp 25844 22776 "GET /api/clauses/?contract=e8fe350b-b4f9-43f5-8c77-d79762fc2e5d HTTP/1.1" 200 21966
INFO 2025-07-10 15:38:15,705 basehttp 25844 22776 "DELETE /api/contracts/e8fe350b-b4f9-43f5-8c77-d79762fc2e5d/ HTTP/1.1" 204 0
INFO 2025-07-10 15:38:17,236 basehttp 25844 22776 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 200 1970
INFO 2025-07-10 15:38:17,330 basehttp 25844 4916 "GET /api/contracts/?page_size=5 HTTP/1.1" 200 5884
INFO 2025-07-10 15:39:21,009 ml_service 25844 15800 Iniciando validación GPT para cláusula
DEBUG 2025-07-10 15:39:21,009 ml_service 25844 15800 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-10 15:39:22,103 ml_service 25844 15800 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': '', 'abusive_reason': '', 'clause_type': 'Otro'}
INFO 2025-07-10 15:39:22,130 ml_service 25844 15800 Iniciando validación GPT para cláusula
DEBUG 2025-07-10 15:39:22,130 ml_service 25844 15800 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-10 15:39:23,723 ml_service 25844 15800 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Pago'}
INFO 2025-07-10 15:39:23,739 ml_service 25844 15800 Iniciando validación GPT para cláusula
DEBUG 2025-07-10 15:39:23,739 ml_service 25844 15800 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-10 15:39:24,886 ml_service 25844 15800 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Otro'}
ERROR 2025-07-10 15:39:24,976 views 25844 15800 Error en análisis síncrono: 'is_abusive'
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\contracts\views.py", line 210, in trigger_analysis_sync
    analysis_result = ml_service.analyze_contract(contract.original_text)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 501, in analyze_contract
    recommendations = self._generate_recommendations(clause_results)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 420, in _generate_recommendations
    abusive_clauses = [c for c in clause_results if c['is_abusive']]
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 420, in <listcomp>
    abusive_clauses = [c for c in clause_results if c['is_abusive']]
                                                    ~^^^^^^^^^^^^^^
KeyError: 'is_abusive'

INFO 2025-07-10 15:39:24,976 basehttp 25844 15800 "POST /api/contracts/ HTTP/1.1" 201 2234
INFO 2025-07-10 15:39:25,342 basehttp 25844 27056 "OPTIONS /api/contracts/161c520e-5c59-44db-a017-04d0f8f560d7/ HTTP/1.1" 200 0
INFO 2025-07-10 15:39:25,342 basehttp 25844 13152 "OPTIONS /api/clauses/?contract=161c520e-5c59-44db-a017-04d0f8f560d7 HTTP/1.1" 200 0
INFO 2025-07-10 15:39:26,358 basehttp 25844 15800 "GET /api/contracts/161c520e-5c59-44db-a017-04d0f8f560d7/ HTTP/1.1" 200 2641
INFO 2025-07-10 15:39:26,650 basehttp 25844 7488 "GET /api/clauses/?contract=161c520e-5c59-44db-a017-04d0f8f560d7 HTTP/1.1" 200 21966
INFO 2025-07-10 15:42:46,068 autoreload 25844 18040 C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py changed, reloading.
INFO 2025-07-10 15:42:47,905 autoreload 27292 13168 Watching for file changes with StatReloader
INFO 2025-07-10 15:43:03,157 autoreload 27292 13168 C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py changed, reloading.
INFO 2025-07-10 15:43:07,450 autoreload 13412 24080 Watching for file changes with StatReloader
INFO 2025-07-10 16:27:10,927 autoreload 11056 20040 Watching for file changes with StatReloader
INFO 2025-07-10 16:30:22,395 basehttp 11056 964 "GET /api/contract-types/ HTTP/1.1" 200 1236
INFO 2025-07-10 16:33:29,640 ml_service 11056 24800 Iniciando análisis de contrato...
INFO 2025-07-10 16:33:29,640 ml_service 11056 24800 Iniciando extracción de cláusulas con GPT
INFO 2025-07-10 16:33:37,497 ml_service 11056 24800 Cláusulas extraídas exitosamente con GPT: 3 cláusulas.
INFO 2025-07-10 16:33:37,497 ml_service 11056 24800 Iniciando validación GPT para cláusula
DEBUG 2025-07-10 16:33:37,497 ml_service 11056 24800 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-10 16:33:39,514 ml_service 11056 24800 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Otro'}
INFO 2025-07-10 16:33:39,563 ml_service 11056 24800 Iniciando validación GPT para cláusula
DEBUG 2025-07-10 16:33:39,563 ml_service 11056 24800 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-10 16:33:41,327 ml_service 11056 24800 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Pago'}
INFO 2025-07-10 16:33:41,357 ml_service 11056 24800 Iniciando validación GPT para cláusula
DEBUG 2025-07-10 16:33:41,357 ml_service 11056 24800 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-10 16:33:42,916 ml_service 11056 24800 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': '', 'abusive_reason': '', 'clause_type': 'Otro'}
ERROR 2025-07-10 16:33:42,949 views 11056 24800 Error en análisis síncrono: 'is_abusive'
Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\contracts\views.py", line 210, in trigger_analysis_sync
    analysis_result = ml_service.analyze_contract(contract.original_text)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 544, in analyze_contract
    recommendations = self._generate_recommendations(clause_results)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 482, in _generate_recommendations
    abusive_clauses = [c for c in clause_results if c['is_abusive']]
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 482, in <listcomp>
    abusive_clauses = [c for c in clause_results if c['is_abusive']]
                                                    ~^^^^^^^^^^^^^^
KeyError: 'is_abusive'

INFO 2025-07-10 16:33:42,954 basehttp 11056 24800 "POST /api/contracts/ HTTP/1.1" 201 2230
INFO 2025-07-10 16:33:43,358 basehttp 11056 18696 "OPTIONS /api/clauses/?contract=2b25531a-57aa-476d-b185-122f016f059f HTTP/1.1" 200 0
INFO 2025-07-10 16:33:43,391 basehttp 11056 22540 "OPTIONS /api/contracts/2b25531a-57aa-476d-b185-122f016f059f/ HTTP/1.1" 200 0
INFO 2025-07-10 16:33:44,508 basehttp 11056 24800 "GET /api/clauses/?contract=2b25531a-57aa-476d-b185-122f016f059f HTTP/1.1" 200 21966
INFO 2025-07-10 16:33:44,777 basehttp 11056 18920 "GET /api/contracts/2b25531a-57aa-476d-b185-122f016f059f/ HTTP/1.1" 200 2637
INFO 2025-07-10 16:37:53,957 autoreload 11056 20040 C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py changed, reloading.
INFO 2025-07-10 16:37:55,670 autoreload 22076 19828 Watching for file changes with StatReloader
INFO 2025-07-10 16:39:24,697 autoreload 23308 21040 Watching for file changes with StatReloader
INFO 2025-07-10 16:39:44,396 basehttp 23308 7016 "DELETE /api/contracts/2b25531a-57aa-476d-b185-122f016f059f/ HTTP/1.1" 204 0
INFO 2025-07-10 16:39:46,263 basehttp 23308 7016 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 200 1947
INFO 2025-07-10 16:39:46,407 basehttp 23308 25072 "GET /api/contracts/?page_size=5 HTTP/1.1" 200 6214
INFO 2025-07-10 16:41:04,619 basehttp 23308 27624 "GET /api/clauses/?contract=161c520e-5c59-44db-a017-04d0f8f560d7 HTTP/1.1" 200 21966
INFO 2025-07-10 16:41:04,658 basehttp 23308 18880 "GET /api/contracts/161c520e-5c59-44db-a017-04d0f8f560d7/ HTTP/1.1" 200 2641
INFO 2025-07-10 16:41:08,159 basehttp 23308 10736 "DELETE /api/contracts/161c520e-5c59-44db-a017-04d0f8f560d7/ HTTP/1.1" 204 0
INFO 2025-07-10 16:41:09,718 basehttp 23308 10736 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 200 1970
INFO 2025-07-10 16:41:09,745 basehttp 23308 16436 "GET /api/contracts/?page_size=5 HTTP/1.1" 200 5884
INFO 2025-07-10 16:41:18,390 basehttp 23308 10344 "GET /api/contract-types/ HTTP/1.1" 200 1236
INFO 2025-07-10 16:41:31,640 ml_service 23308 4732 Iniciando análisis de contrato...
INFO 2025-07-10 16:41:31,640 ml_service 23308 4732 Iniciando extracción de cláusulas con GPT
INFO 2025-07-10 16:41:37,976 ml_service 23308 4732 Cláusulas extraídas exitosamente con GPT: 3 cláusulas.
INFO 2025-07-10 16:41:37,976 ml_service 23308 4732 Iniciando validación GPT para cláusula
DEBUG 2025-07-10 16:41:37,976 ml_service 23308 4732 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-10 16:41:39,546 ml_service 23308 4732 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Otro'}
INFO 2025-07-10 16:41:39,596 ml_service 23308 4732 Iniciando validación GPT para cláusula
DEBUG 2025-07-10 16:41:39,596 ml_service 23308 4732 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-10 16:41:40,993 ml_service 23308 4732 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Pago'}
INFO 2025-07-10 16:41:41,022 ml_service 23308 4732 Iniciando validación GPT para cláusula
DEBUG 2025-07-10 16:41:41,022 ml_service 23308 4732 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-10 16:41:41,946 ml_service 23308 4732 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Otro'}
INFO 2025-07-10 16:41:41,962 ml_service 23308 4732 Análisis completado en 10.32 segundos.
ERROR 2025-07-10 16:41:41,988 views 23308 4732 Error en análisis síncrono: NOT NULL constraint failed: contracts_clause.gpt_explanation
Traceback (most recent call last):
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\sqlite3\base.py", line 360, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: NOT NULL constraint failed: contracts_clause.gpt_explanation

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\contracts\views.py", line 239, in trigger_analysis_sync
    Clause.objects.create(
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 663, in create
    obj.save(force_insert=True, using=self.db)
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\base.py", line 1008, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\base.py", line 1169, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\base.py", line 1210, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 1868, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\sql\compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\sqlite3\base.py", line 360, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.IntegrityError: NOT NULL constraint failed: contracts_clause.gpt_explanation

INFO 2025-07-10 16:41:41,988 basehttp 23308 4732 "POST /api/contracts/ HTTP/1.1" 201 2237
INFO 2025-07-10 16:41:42,349 basehttp 23308 23700 "OPTIONS /api/contracts/2813e974-0795-47ac-8858-ab1b63f6b04b/ HTTP/1.1" 200 0
INFO 2025-07-10 16:41:42,349 basehttp 23308 3860 "OPTIONS /api/clauses/?contract=2813e974-0795-47ac-8858-ab1b63f6b04b HTTP/1.1" 200 0
INFO 2025-07-10 16:41:43,896 basehttp 23308 4732 "GET /api/contracts/2813e974-0795-47ac-8858-ab1b63f6b04b/ HTTP/1.1" 200 2644
INFO 2025-07-10 16:41:44,208 basehttp 23308 3968 "GET /api/clauses/?contract=2813e974-0795-47ac-8858-ab1b63f6b04b HTTP/1.1" 200 21966
INFO 2025-07-10 16:43:55,718 autoreload 23308 21040 C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\contracts\models.py changed, reloading.
INFO 2025-07-10 16:43:57,454 autoreload 24252 22172 Watching for file changes with StatReloader
INFO 2025-07-10 16:46:50,836 autoreload 20420 8276 Watching for file changes with StatReloader
INFO 2025-07-10 16:47:22,330 basehttp 20420 3572 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 200 1950
INFO 2025-07-10 16:47:22,360 basehttp 20420 17668 "GET /api/contracts/?page_size=5 HTTP/1.1" 200 6217
INFO 2025-07-10 16:47:24,908 basehttp 20420 17668 "GET /api/contract-types/ HTTP/1.1" 200 1236
INFO 2025-07-10 16:47:38,209 ml_service 20420 17668 Iniciando análisis de contrato...
INFO 2025-07-10 16:47:38,209 ml_service 20420 17668 Iniciando extracción de cláusulas con GPT
INFO 2025-07-10 16:47:45,461 ml_service 20420 17668 Cláusulas extraídas exitosamente con GPT: 3 cláusulas.
INFO 2025-07-10 16:47:45,476 ml_service 20420 17668 Iniciando validación GPT para cláusula
DEBUG 2025-07-10 16:47:45,478 ml_service 20420 17668 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-10 16:47:46,324 ml_service 20420 17668 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Otro'}
INFO 2025-07-10 16:47:46,380 ml_service 20420 17668 Iniciando validación GPT para cláusula
DEBUG 2025-07-10 16:47:46,380 ml_service 20420 17668 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-10 16:47:47,091 ml_service 20420 17668 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Pago'}
INFO 2025-07-10 16:47:47,135 ml_service 20420 17668 Iniciando validación GPT para cláusula
DEBUG 2025-07-10 16:47:47,135 ml_service 20420 17668 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-10 16:47:47,874 ml_service 20420 17668 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Otro'}
INFO 2025-07-10 16:47:47,876 ml_service 20420 17668 Análisis completado en 9.67 segundos.
INFO 2025-07-10 16:47:47,912 basehttp 20420 17668 "POST /api/contracts/ HTTP/1.1" 201 2230
INFO 2025-07-10 16:47:48,278 basehttp 20420 14016 "OPTIONS /api/clauses/?contract=e62b0386-ee75-4864-a75c-3cec33346432 HTTP/1.1" 200 0
INFO 2025-07-10 16:47:48,278 basehttp 20420 9288 "OPTIONS /api/contracts/e62b0386-ee75-4864-a75c-3cec33346432/ HTTP/1.1" 200 0
INFO 2025-07-10 16:47:49,428 basehttp 20420 17668 "GET /api/contracts/e62b0386-ee75-4864-a75c-3cec33346432/ HTTP/1.1" 200 6262
INFO 2025-07-10 16:47:49,446 basehttp 20420 3572 "GET /api/clauses/?contract=e62b0386-ee75-4864-a75c-3cec33346432 HTTP/1.1" 200 23177
INFO 2025-07-10 19:24:24,301 autoreload 7016 21440 Watching for file changes with StatReloader
INFO 2025-07-10 19:29:34,014 basehttp 7016 19908 "GET /api/contract-types/ HTTP/1.1" 200 1236
INFO 2025-07-10 19:29:47,357 basehttp 7016 5468 "GET /api/contract-types/ HTTP/1.1" 200 1236
INFO 2025-07-10 19:37:20,157 basehttp 7016 24096 "GET /api/contract-types/ HTTP/1.1" 200 1236
INFO 2025-07-10 20:22:36,076 basehttp 7016 6784 "GET /api/contract-types/ HTTP/1.1" 200 1236
INFO 2025-07-10 20:41:13,141 basehttp 7016 16744 "GET /api/contract-types/ HTTP/1.1" 200 1236
INFO 2025-07-10 21:43:34,977 basehttp 7016 14532 "GET /api/contract-types/ HTTP/1.1" 200 1236
INFO 2025-07-10 21:53:18,379 basehttp 7016 18620 "GET /api/contract-types/ HTTP/1.1" 200 1236
INFO 2025-07-10 22:27:11,070 basehttp 7016 22040 "GET /api/contract-types/ HTTP/1.1" 200 1236
INFO 2025-07-10 22:38:46,291 basehttp 7016 11344 "GET /api/contract-types/ HTTP/1.1" 200 1236
INFO 2025-07-11 15:12:25,722 autoreload 4152 7232 Watching for file changes with StatReloader
INFO 2025-07-11 15:13:43,251 basehttp 4152 5800 "OPTIONS /api/contracts/dashboard_stats/ HTTP/1.1" 200 0
INFO 2025-07-11 15:13:43,262 basehttp 4152 8276 "OPTIONS /api/contracts/?page_size=5 HTTP/1.1" 200 0
INFO 2025-07-11 15:13:46,375 basehttp 4152 14296 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 200 1940
INFO 2025-07-11 15:13:46,522 basehttp 4152 15508 "GET /api/contracts/?page_size=5 HTTP/1.1" 200 6582
INFO 2025-07-11 15:47:30,427 basehttp 4152 18924 "OPTIONS /api/contract-types/ HTTP/1.1" 200 0
INFO 2025-07-11 15:47:32,363 basehttp 4152 16820 "GET /api/contract-types/ HTTP/1.1" 200 1236
INFO 2025-07-11 15:47:47,723 basehttp 4152 18924 "OPTIONS /api/contracts/ HTTP/1.1" 200 0
INFO 2025-07-11 15:47:49,168 ml_service 4152 16820 Iniciando análisis de contrato...
INFO 2025-07-11 15:47:49,169 ml_service 4152 16820 Iniciando extracción de cláusulas con GPT
INFO 2025-07-11 15:47:57,352 ml_service 4152 16820 Cláusulas extraídas exitosamente con GPT: 13 cláusulas.
INFO 2025-07-11 15:47:57,362 ml_service 4152 16820 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 15:47:57,363 ml_service 4152 16820 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 15:47:59,335 ml_service 4152 16820 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Obligaciones'}
INFO 2025-07-11 15:47:59,434 ml_service 4152 16820 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 15:47:59,434 ml_service 4152 16820 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 15:48:00,932 ml_service 4152 16820 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Duración'}
INFO 2025-07-11 15:48:00,949 ml_service 4152 16820 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 15:48:00,949 ml_service 4152 16820 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 15:48:02,279 ml_service 4152 16820 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Obligaciones'}
INFO 2025-07-11 15:48:02,302 ml_service 4152 16820 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 15:48:02,302 ml_service 4152 16820 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 15:48:05,013 ml_service 4152 16820 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Obligaciones'}
INFO 2025-07-11 15:48:05,028 ml_service 4152 16820 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 15:48:05,029 ml_service 4152 16820 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 15:48:06,496 ml_service 4152 16820 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Pago'}
INFO 2025-07-11 15:48:06,521 ml_service 4152 16820 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 15:48:06,522 ml_service 4152 16820 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 15:48:07,846 ml_service 4152 16820 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Duración'}
INFO 2025-07-11 15:48:07,867 ml_service 4152 16820 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 15:48:07,869 ml_service 4152 16820 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 15:48:08,675 ml_service 4152 16820 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Duración'}
INFO 2025-07-11 15:48:08,694 ml_service 4152 16820 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 15:48:08,694 ml_service 4152 16820 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 15:48:10,236 ml_service 4152 16820 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Pago'}
INFO 2025-07-11 15:48:10,262 ml_service 4152 16820 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 15:48:10,263 ml_service 4152 16820 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 15:48:11,267 ml_service 4152 16820 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Obligaciones'}
INFO 2025-07-11 15:48:11,297 ml_service 4152 16820 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 15:48:11,298 ml_service 4152 16820 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 15:48:12,575 ml_service 4152 16820 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Obligaciones'}
INFO 2025-07-11 15:48:12,586 ml_service 4152 16820 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 15:48:12,586 ml_service 4152 16820 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 15:48:13,926 ml_service 4152 16820 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': '', 'abusive_reason': '', 'clause_type': 'Pago'}
INFO 2025-07-11 15:48:13,943 ml_service 4152 16820 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 15:48:13,943 ml_service 4152 16820 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 15:48:14,944 ml_service 4152 16820 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Terminación'}
INFO 2025-07-11 15:48:14,957 ml_service 4152 16820 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 15:48:14,957 ml_service 4152 16820 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 15:48:15,975 ml_service 4152 16820 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Resolución de Disputas'}
INFO 2025-07-11 15:48:15,986 ml_service 4152 16820 Iniciando análisis OpenAI para 9 cláusulas
DEBUG 2025-07-11 15:48:15,986 ml_service 4152 16820 Enviando solicitud a OpenAI API para análisis general
DEBUG 2025-07-11 15:48:17,916 ml_service 4152 16820 Análisis recibido: {'resumen': 'Las cláusulas del contrato pueden favorecer en exceso a la propietaria, limitando los derechos del inquilino y estableciendo condiciones financieras desfavorables.', 'recomendaciones': ['Solicitar una revisión detallada de las cláusulas por un abogado especializado en arrendamientos para garantizar equidad en los términos.', 'Negociar la eliminación o modificación de cláusulas abusivas que limiten los derechos del inquilino o impongan cargas financieras excesivas.', 'Asegurarse de entender completamente las obligaciones y responsabilidades establecidas en el contrato antes de firmarlo.']}
INFO 2025-07-11 15:48:17,917 ml_service 4152 16820 Análisis completado en 28.75 segundos.
INFO 2025-07-11 15:48:18,007 basehttp 4152 16820 "POST /api/contracts/ HTTP/1.1" 201 3905
INFO 2025-07-11 15:48:18,387 basehttp 4152 19188 "OPTIONS /api/contracts/c4389473-5e6e-4089-89ae-bb63087bb653/ HTTP/1.1" 200 0
INFO 2025-07-11 15:48:18,390 basehttp 4152 19372 "OPTIONS /api/clauses/?contract=c4389473-5e6e-4089-89ae-bb63087bb653 HTTP/1.1" 200 0
INFO 2025-07-11 15:48:20,390 basehttp 4152 7864 "GET /api/contracts/c4389473-5e6e-4089-89ae-bb63087bb653/ HTTP/1.1" 200 13510
INFO 2025-07-11 15:48:20,411 basehttp 4152 18048 "GET /api/clauses/?contract=c4389473-5e6e-4089-89ae-bb63087bb653 HTTP/1.1" 200 18683
INFO 2025-07-11 15:50:27,320 ml_service 4152 18048 Iniciando análisis de contrato...
INFO 2025-07-11 15:50:27,320 ml_service 4152 18048 Iniciando extracción de cláusulas con GPT
INFO 2025-07-11 15:50:40,062 ml_service 4152 18048 Cláusulas extraídas exitosamente con GPT: 15 cláusulas.
INFO 2025-07-11 15:50:40,066 ml_service 4152 18048 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 15:50:40,066 ml_service 4152 18048 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 15:50:44,794 ml_service 4152 18048 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'La cláusula es abusiva ya que limita el derecho del inquilino a recibir un recibo o constancia escrita de los pagos realizados, lo cual puede generar problemas en caso de disputas.', 'abusive_reason': 'La cláusula es abusiva porque limita el derecho fundamental del inquilino a recibir una constancia escrita de los pagos realizados, lo cual puede dificultar la comprobación de cumplimiento de sus obligaciones. Esto crea un desequilibrio significativo entre las partes, ya que el inquilino queda en una posición de vulnerabilidad al no contar con un respaldo documental de sus pagos. Además, esta condición desproporcionada viola los principios de buena fe y equidad, ya que impide al inquilino tener una evidencia clara de sus transacciones.', 'clause_type': 'Pago'}
INFO 2025-07-11 15:50:44,821 ml_service 4152 18048 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 15:50:44,821 ml_service 4152 18048 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 15:50:46,920 ml_service 4152 18048 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'Esta cláusula es abusiva ya que limita el derecho a la privacidad de la inquilina de manera desproporcionada.', 'abusive_reason': 'La cláusula vulnera el principio de la buena fe y equidad, así como el derecho a la privacidad de la inquilina. En República Dominicana, se protege el derecho a la privacidad de las personas, y esta cláusula crea un desequilibrio significativo entre las partes al permitir al propietario ingresar a la propiedad sin previo aviso ni consentimiento. Esto podría ser considerado abusivo y contrario a la ley.', 'clause_type': 'Otro'}
INFO 2025-07-11 15:50:46,936 ml_service 4152 18048 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 15:50:46,937 ml_service 4152 18048 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 15:50:48,040 ml_service 4152 18048 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Obligaciones'}
INFO 2025-07-11 15:50:48,066 ml_service 4152 18048 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 15:50:48,068 ml_service 4152 18048 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 15:50:48,851 ml_service 4152 18048 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Obligaciones'}
INFO 2025-07-11 15:50:48,864 ml_service 4152 18048 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 15:50:48,866 ml_service 4152 18048 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 15:50:50,911 ml_service 4152 18048 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'Esta cláusula es abusiva porque limita los derechos fundamentales de la inquilina y crea un desequilibrio significativo entre las partes.', 'abusive_reason': 'La cláusula es abusiva porque permite al propietario desalojar a la inquilina inmediatamente y sin necesidad de proceso legal en caso de retraso en el pago, lo cual limita los derechos fundamentales de la inquilina a un debido proceso y a la defensa. Además, crea un desequilibrio significativo entre las partes al otorgar al propietario un poder excesivo sobre la inquilina. Esta cláusula vulnera los principios de buena fe, equidad y proporcionalidad en República Dominicana.', 'clause_type': 'Pago'}
INFO 2025-07-11 15:50:50,932 ml_service 4152 18048 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 15:50:50,933 ml_service 4152 18048 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 15:50:53,560 ml_service 4152 18048 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'La cláusula es abusiva porque limita los derechos del contratante al permitir al propietario finalizar el contrato sin previo aviso ni justificación, creando un desequilibrio significativo.', 'abusive_reason': 'La cláusula es abusiva porque otorga al propietario un poder unilateral para finalizar el contrato sin justificación, lo cual limita los derechos fundamentales del contratante y crea un desequilibrio significativo entre las partes. Esto vulnera el principio de buena fe y equidad en los contratos, así como el principio de autonomía de la voluntad de las partes. En la República Dominicana, la Ley No. 358-05 sobre Protección al Consumidor establece que las cláusulas abusivas son nulas y no vinculantes para el consumidor, lo cual podría aplicarse en este caso.', 'clause_type': 'Terminación'}
INFO 2025-07-11 15:50:53,571 ml_service 4152 18048 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 15:50:53,572 ml_service 4152 18048 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 15:50:56,711 ml_service 4152 18048 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'La cláusula es abusiva porque impone un aumento automático del 50% en el alquiler sin posibilidad de negociación, creando un desequilibrio significativo a favor del arrendador.', 'abusive_reason': 'La cláusula es abusiva porque impone una condición desproporcionada que limita los derechos de la inquilina a negociar el aumento del alquiler, vulnerando el principio de buena fe y equidad. En República Dominicana, esta cláusula podría ser considerada abusiva según el Código Civil y la Ley de Arrendamientos Urbanos y Suburbanos.', 'clause_type': 'Otro'}
INFO 2025-07-11 15:50:56,729 ml_service 4152 18048 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 15:50:56,730 ml_service 4152 18048 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 15:50:57,708 ml_service 4152 18048 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': '', 'abusive_reason': '', 'clause_type': 'Pago'}
INFO 2025-07-11 15:50:57,727 ml_service 4152 18048 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 15:50:57,728 ml_service 4152 18048 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 15:50:58,630 ml_service 4152 18048 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Obligaciones'}
INFO 2025-07-11 15:50:58,648 ml_service 4152 18048 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 15:50:58,649 ml_service 4152 18048 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 15:51:02,075 ml_service 4152 18048 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'La cláusula es abusiva ya que limita los derechos del arrendatario al permitir al propietario solicitar la entrega del inmueble en cualquier momento sin justificación y con un aviso verbal de solo 12 horas.', 'abusive_reason': 'Esta cláusula es abusiva porque crea un desequilibrio significativo entre las partes al otorgar al propietario un poder unilateral excesivo que limita los derechos fundamentales del arrendatario. Además, impone condiciones desproporcionadas al no requerir justificación para la solicitud de entrega del inmueble y al establecer un plazo de aviso tan corto. Esta cláusula viola los principios de buena fe y equidad, así como el derecho a la seguridad jurídica y a la protección del consumidor en República Dominicana.', 'clause_type': 'Terminación'}
INFO 2025-07-11 15:51:02,090 ml_service 4152 18048 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 15:51:02,090 ml_service 4152 18048 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 15:51:03,100 ml_service 4152 18048 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': '', 'abusive_reason': '', 'clause_type': 'Pago'}
INFO 2025-07-11 15:51:03,121 ml_service 4152 18048 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 15:51:03,122 ml_service 4152 18048 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 15:51:05,251 ml_service 4152 18048 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'Esta cláusula es abusiva porque crea un desequilibrio significativo entre las partes al permitir al PROPIETARIO modificar unilateralmente el contrato sin previo aviso ni acuerdo con LA INQUILINA.', 'abusive_reason': 'La cláusula es abusiva porque vulnera el principio de buena fe y equidad, creando un desequilibrio significativo entre las partes al otorgar al PROPIETARIO un poder unilateral para modificar el contrato sin consentimiento de LA INQUILINA. Esto limita los derechos fundamentales de esta última y le impone condiciones desproporcionadas, violando así la protección al consumidor y los principios de equidad y buena fe consagrados en la legislación dominicana.', 'clause_type': 'Otro'}
INFO 2025-07-11 15:51:05,272 ml_service 4152 18048 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 15:51:05,272 ml_service 4152 18048 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 15:51:08,735 ml_service 4152 18048 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'La cláusula es abusiva porque limita los derechos de la inquilina y crea un desequilibrio significativo a favor del propietario.', 'abusive_reason': 'La cláusula es abusiva porque restringe el acceso de la inquilina a la justicia al renunciar a cualquier acción legal contra el propietario y al imponer que cualquier disputa se resuelva exclusivamente según la voluntad del propietario. Esto viola el principio de igualdad de las partes y el acceso a la justicia, así como el principio de buena fe y equidad. En República Dominicana, este tipo de cláusulas serían consideradas abusivas y nulas por vulnerar los derechos fundamentales de la inquilina.', 'clause_type': 'Resolución de Disputas'}
INFO 2025-07-11 15:51:08,749 ml_service 4152 18048 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 15:51:08,750 ml_service 4152 18048 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 15:51:10,763 ml_service 4152 18048 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'La cláusula es abusiva porque limita derechos fundamentales de la inquilina y crea un desequilibrio significativo entre las partes.', 'abusive_reason': 'La cláusula es abusiva porque al obligar a la inquilina a gestionar y pagar servicios básicos como agua potable, electricidad o gas sin garantía de acceso por parte del propietario, limita derechos fundamentales de la inquilina y crea un desequilibrio significativo entre las partes. Esto vulnera los principios de buena fe y equidad, así como el derecho a condiciones de vida dignas y el principio de igualdad de trato entre arrendador y arrendatario en República Dominicana.', 'clause_type': 'Obligaciones'}
INFO 2025-07-11 15:51:10,782 ml_service 4152 18048 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 15:51:10,782 ml_service 4152 18048 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 15:51:11,890 ml_service 4152 18048 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Pago'}
INFO 2025-07-11 15:51:11,902 ml_service 4152 18048 Iniciando análisis OpenAI para 15 cláusulas
DEBUG 2025-07-11 15:51:11,902 ml_service 4152 18048 Enviando solicitud a OpenAI API para análisis general
DEBUG 2025-07-11 15:51:14,143 ml_service 4152 18048 Análisis recibido: {'resumen': 'Las cláusulas identificadas en el contrato son altamente abusivas y desequilibradas, otorgando al propietario poderes excesivos sobre la inquilina y generando un riesgo significativo de vulneración de derechos.', 'recomendaciones': ['Negociar la eliminación o modificación de las cláusulas abusivas para restablecer un equilibrio en los derechos y obligaciones de las partes.', 'Consultar con un abogado especializado en arrendamientos para asesoramiento legal sobre la validez y legalidad de las cláusulas del contrato.', 'Considerar la posibilidad de buscar un inmueble con un contrato de arrendamiento más equitativo y respetuoso de los derechos del inquilino.']}
INFO 2025-07-11 15:51:14,144 ml_service 4152 18048 Análisis completado en 46.82 segundos.
INFO 2025-07-11 15:51:14,253 basehttp 4152 18048 "POST /api/contracts/ HTTP/1.1" 201 4151
INFO 2025-07-11 15:51:14,306 basehttp 4152 19372 "OPTIONS /api/contracts/297b1e14-3161-49e2-9a88-c766e072e81b/ HTTP/1.1" 200 0
INFO 2025-07-11 15:51:14,307 basehttp 4152 19188 "OPTIONS /api/clauses/?contract=297b1e14-3161-49e2-9a88-c766e072e81b HTTP/1.1" 200 0
INFO 2025-07-11 15:51:16,182 basehttp 4152 7864 "GET /api/clauses/?contract=297b1e14-3161-49e2-9a88-c766e072e81b HTTP/1.1" 200 18995
INFO 2025-07-11 15:51:16,193 basehttp 4152 18048 "GET /api/contracts/297b1e14-3161-49e2-9a88-c766e072e81b/ HTTP/1.1" 200 20210
INFO 2025-07-11 15:51:17,892 basehttp 4152 18048 "GET /api/clauses/?contract=297b1e14-3161-49e2-9a88-c766e072e81b HTTP/1.1" 200 18995
INFO 2025-07-11 15:56:59,416 basehttp 4152 16896 "DELETE /api/contracts/297b1e14-3161-49e2-9a88-c766e072e81b/ HTTP/1.1" 204 0
INFO 2025-07-11 15:56:59,772 basehttp 4152 19408 "OPTIONS /api/contracts/dashboard_stats/ HTTP/1.1" 200 0
INFO 2025-07-11 15:56:59,778 basehttp 4152 13104 "OPTIONS /api/contracts/?page_size=5 HTTP/1.1" 200 0
INFO 2025-07-11 15:57:01,774 basehttp 4152 18260 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 200 1931
INFO 2025-07-11 15:57:01,892 basehttp 4152 16896 "GET /api/contracts/?page_size=5 HTTP/1.1" 200 6953
INFO 2025-07-11 16:01:14,258 basehttp 4152 16896 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 200 1931
INFO 2025-07-11 16:01:14,327 basehttp 4152 18260 "GET /api/contracts/?page_size=5 HTTP/1.1" 200 6953
INFO 2025-07-11 16:01:18,625 basehttp 4152 18260 "GET /api/contracts/c4389473-5e6e-4089-89ae-bb63087bb653/ HTTP/1.1" 200 13510
INFO 2025-07-11 16:01:18,676 basehttp 4152 16896 "GET /api/clauses/?contract=c4389473-5e6e-4089-89ae-bb63087bb653 HTTP/1.1" 200 18683
INFO 2025-07-11 16:10:53,908 basehttp 4152 728 "GET /api/clauses/?contract=c4389473-5e6e-4089-89ae-bb63087bb653 HTTP/1.1" 200 18683
INFO 2025-07-11 16:10:53,945 basehttp 4152 7652 "GET /api/contracts/c4389473-5e6e-4089-89ae-bb63087bb653/ HTTP/1.1" 200 13510
INFO 2025-07-11 16:10:55,657 basehttp 4152 7652 "GET /api/clauses/?contract=c4389473-5e6e-4089-89ae-bb63087bb653 HTTP/1.1" 200 18683
INFO 2025-07-11 16:12:03,824 basehttp 4152 728 "GET /api/contracts/?page_size=5 HTTP/1.1" 200 6953
INFO 2025-07-11 16:12:03,847 basehttp 4152 7652 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 200 1931
INFO 2025-07-11 16:12:08,502 basehttp 4152 7652 "GET /api/contract-types/ HTTP/1.1" 200 1236
INFO 2025-07-11 16:12:28,629 ml_service 4152 7652 Iniciando análisis de contrato...
INFO 2025-07-11 16:12:28,631 ml_service 4152 7652 Iniciando extracción de cláusulas con GPT
INFO 2025-07-11 16:12:36,804 ml_service 4152 7652 Cláusulas extraídas exitosamente con GPT: 15 cláusulas.
INFO 2025-07-11 16:12:36,805 ml_service 4152 7652 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 16:12:36,806 ml_service 4152 7652 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 16:12:39,482 ml_service 4152 7652 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'La cláusula es abusiva ya que limita el derecho del inquilino a recibir un recibo o constancia escrita del pago del alquiler, lo cual puede generar problemas legales y falta de transparencia en la relación contractual.', 'abusive_reason': 'La cláusula es abusiva porque limita el derecho del inquilino a recibir un recibo o constancia escrita del pago del alquiler, lo cual va en contra del principio de transparencia y buena fe en los contratos. Además, al exigir el pago en efectivo únicamente, sin posibilidad de tener un registro escrito, se crea un desequilibrio significativo en la relación contractual, favoreciendo al propietario y dejando al inquilino en una posición vulnerable. En República Dominicana, esta cláusula podría considerarse abusiva por violar el principio de buena fe y equidad en los contratos, así como por limitar derechos fundamentales del inquilino.', 'clause_type': 'Pago'}
INFO 2025-07-11 16:12:39,509 ml_service 4152 7652 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 16:12:39,509 ml_service 4152 7652 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 16:12:42,645 ml_service 4152 7652 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'Esta cláusula es abusiva ya que limita los derechos fundamentales de la inquilina y crea un desequilibrio significativo entre las partes.', 'abusive_reason': 'La cláusula vulnera el principio de la inviolabilidad del domicilio, un derecho fundamental reconocido en la Constitución de la República Dominicana. Además, al permitir al propietario ingresar sin aviso ni consentimiento, impone una condición desproporcionada que afecta la equidad entre las partes.', 'clause_type': 'Obligaciones'}
INFO 2025-07-11 16:12:42,664 ml_service 4152 7652 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 16:12:42,664 ml_service 4152 7652 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 16:12:44,480 ml_service 4152 7652 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Obligaciones'}
INFO 2025-07-11 16:12:44,501 ml_service 4152 7652 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 16:12:44,501 ml_service 4152 7652 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 16:12:45,693 ml_service 4152 7652 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Obligaciones'}
INFO 2025-07-11 16:12:45,716 ml_service 4152 7652 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 16:12:45,716 ml_service 4152 7652 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 16:12:48,275 ml_service 4152 7652 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'La cláusula es abusiva porque limita los derechos fundamentales de la inquilina al permitir su desalojo inmediato sin proceso legal en caso de retraso en el pago.', 'abusive_reason': 'La cláusula es abusiva porque crea un desequilibrio significativo entre las partes al permitir al propietario desalojar a la inquilina sin necesidad de proceso legal en caso de retraso en el pago. Esto limita los derechos fundamentales de la inquilina a un debido proceso y contradice los principios de buena fe y equidad en las relaciones contractuales. En la República Dominicana, esta cláusula podría ser considerada abusiva por vulnerar el principio de equidad y los derechos fundamentales de la inquilina.', 'clause_type': 'Pago'}
INFO 2025-07-11 16:12:48,298 ml_service 4152 7652 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 16:12:48,298 ml_service 4152 7652 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 16:12:50,932 ml_service 4152 7652 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'La cláusula es abusiva porque otorga al PROPIETARIO un poder unilateral para finalizar el contrato sin previo aviso ni justificación, creando un desequilibrio significativo a favor del PROPIETARIO.', 'abusive_reason': 'La cláusula es abusiva porque otorga al PROPIETARIO un poder unilateral para finalizar el contrato sin previo aviso ni justificación, lo cual crea un desequilibrio significativo entre las partes. Esta cláusula vulnera el principio de buena fe y equidad, así como el derecho a la seguridad jurídica del otro contratante, al imponer condiciones desproporcionadas que limitan sus derechos fundamentales. En República Dominicana, esta cláusula podría considerarse abusiva según el Código Civil y la Ley de Contratos.', 'clause_type': 'Terminación'}
INFO 2025-07-11 16:12:50,952 ml_service 4152 7652 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 16:12:50,954 ml_service 4152 7652 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 16:12:53,001 ml_service 4152 7652 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'La cláusula es abusiva porque impone una condición desproporcionada y limita el derecho de negociación de la inquilina.', 'abusive_reason': 'La cláusula es abusiva porque crea un desequilibrio significativo entre las partes al imponer un aumento automático del 50% en el alquiler sin posibilidad de negociación por parte de la inquilina. Esto limita el derecho fundamental de negociación y vulnera el principio de buena fe y equidad en los contratos, contraviniendo así el Código Civil y la Ley de Arrendamientos Urbanos en la República Dominicana.', 'clause_type': 'Obligaciones'}
INFO 2025-07-11 16:12:53,026 ml_service 4152 7652 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 16:12:53,028 ml_service 4152 7652 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 16:12:54,623 ml_service 4152 7652 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Pago'}
INFO 2025-07-11 16:12:54,645 ml_service 4152 7652 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 16:12:54,646 ml_service 4152 7652 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 16:12:55,852 ml_service 4152 7652 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Obligaciones'}
INFO 2025-07-11 16:12:55,881 ml_service 4152 7652 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 16:12:55,882 ml_service 4152 7652 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 16:12:58,516 ml_service 4152 7652 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'Esta cláusula es abusiva ya que limita los derechos del inquilino al permitir al propietario solicitar la entrega del inmueble en cualquier momento sin justificación y con un aviso verbal de 12 horas, creando un desequilibrio significativo entre las partes.', 'abusive_reason': 'Esta cláusula es abusiva porque vulnera el principio de buena fe y equidad en las relaciones contractuales, al permitir al propietario ejercer un poder excesivo sobre el inquilino sin justificación ni plazo razonable. Además, limita los derechos fundamentales del inquilino a la seguridad y estabilidad en su vivienda, imponiendo condiciones desproporcionadas que favorecen únicamente al propietario.', 'clause_type': 'Terminación'}
INFO 2025-07-11 16:12:58,537 ml_service 4152 7652 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 16:12:58,538 ml_service 4152 7652 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 16:12:59,810 ml_service 4152 7652 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Pago'}
INFO 2025-07-11 16:12:59,831 ml_service 4152 7652 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 16:12:59,832 ml_service 4152 7652 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 16:13:02,306 ml_service 4152 7652 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'Esta cláusula es abusiva ya que permite al PROPIETARIO modificar unilateralmente el contrato sin consentimiento de la INQUILINA, creando un desequilibrio significativo de derechos.', 'abusive_reason': 'La cláusula es abusiva porque vulnera el principio de buena fe y equidad entre las partes, al permitir al PROPIETARIO modificar unilateralmente el contrato sin previo aviso ni acuerdo con la INQUILINA, creando un desequilibrio significativo entre las partes. Esto limita los derechos fundamentales de la INQUILINA a la seguridad jurídica y a la protección de sus intereses como parte contratante. En República Dominicana, esta cláusula podría ser considerada abusiva según el Código Civil y la Ley de Arrendamientos Inmobiliarios.', 'clause_type': 'Otro'}
INFO 2025-07-11 16:13:02,325 ml_service 4152 7652 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 16:13:02,325 ml_service 4152 7652 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 16:13:04,553 ml_service 4152 7652 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'La cláusula es abusiva ya que limita los derechos de la inquilina y crea un desequilibrio significativo a favor del propietario.', 'abusive_reason': 'La cláusula es abusiva porque limita los derechos fundamentales de la inquilina al renunciar a cualquier acción legal contra el propietario y aceptar que cualquier disputa se resolverá exclusivamente según la voluntad del propietario. Esto crea un desequilibrio significativo entre las partes, violando los principios de buena fe y equidad. En República Dominicana, esta cláusula podría ser considerada abusiva por vulnerar el principio de igualdad de las partes en un contrato, así como el principio de protección al consumidor.', 'clause_type': 'Resolución de Disputas'}
INFO 2025-07-11 16:13:04,569 ml_service 4152 7652 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 16:13:04,570 ml_service 4152 7652 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 16:13:08,035 ml_service 4152 7652 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'La cláusula es abusiva ya que limita derechos fundamentales de la inquilina y crea un desequilibrio significativo entre las partes.', 'abusive_reason': 'La cláusula es abusiva porque obliga a la inquilina a renunciar a servicios básicos esenciales como agua potable, electricidad o gas, lo cual limita sus derechos fundamentales y crea un desequilibrio significativo entre las partes. Esta disposición vulnera el principio de buena fe y equidad, así como el derecho a condiciones de vida dignas, contraviniendo la normativa de protección al consumidor y los principios de igualdad y equidad consagrados en la legislación dominicana.', 'clause_type': 'Obligaciones'}
INFO 2025-07-11 16:13:08,049 ml_service 4152 7652 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 16:13:08,050 ml_service 4152 7652 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 16:13:09,364 ml_service 4152 7652 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': '', 'abusive_reason': '', 'clause_type': 'Pago'}
INFO 2025-07-11 16:13:09,380 ml_service 4152 7652 Iniciando análisis OpenAI para 15 cláusulas
DEBUG 2025-07-11 16:13:09,381 ml_service 4152 7652 Enviando solicitud a OpenAI API para análisis general
DEBUG 2025-07-11 16:13:11,214 ml_service 4152 7652 Análisis recibido: {'resumen': 'Las cláusulas del contrato presentan un desequilibrio significativo de derechos en favor del propietario, exponiendo a la inquilina a riesgos de desalojo injustificado, responsabilidades excesivas y falta de garantías básicas.', 'recomendaciones': ['Negociar cláusulas más equitativas que respeten los derechos y obligaciones de ambas partes.', 'Consultar a un abogado especializado en arrendamientos para revisar y modificar el contrato antes de firmarlo.', 'Buscar alternativas de vivienda que ofrezcan condiciones más justas y respetuosas de los derechos del inquilino.']}
INFO 2025-07-11 16:13:11,215 ml_service 4152 7652 Análisis completado en 42.59 segundos.
INFO 2025-07-11 16:13:11,339 basehttp 4152 7652 "POST /api/contracts/ HTTP/1.1" 201 4151
INFO 2025-07-11 16:13:11,717 basehttp 4152 13020 "OPTIONS /api/clauses/?contract=e5aa864b-6409-4124-98ac-5465dd780189 HTTP/1.1" 200 0
INFO 2025-07-11 16:13:11,718 basehttp 4152 10032 "OPTIONS /api/contracts/e5aa864b-6409-4124-98ac-5465dd780189/ HTTP/1.1" 200 0
INFO 2025-07-11 16:13:14,065 basehttp 4152 728 "GET /api/contracts/e5aa864b-6409-4124-98ac-5465dd780189/ HTTP/1.1" 200 20353
INFO 2025-07-11 16:13:14,068 basehttp 4152 7652 "GET /api/clauses/?contract=e5aa864b-6409-4124-98ac-5465dd780189 HTTP/1.1" 200 19138
INFO 2025-07-11 16:14:11,220 basehttp 4152 7652 "DELETE /api/contracts/e5aa864b-6409-4124-98ac-5465dd780189/ HTTP/1.1" 204 0
INFO 2025-07-11 16:14:14,109 basehttp 4152 7652 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 200 1931
INFO 2025-07-11 16:14:14,132 basehttp 4152 728 "GET /api/contracts/?page_size=5 HTTP/1.1" 200 6953
INFO 2025-07-11 16:14:16,765 basehttp 4152 7652 "GET /api/contracts/c4389473-5e6e-4089-89ae-bb63087bb653/ HTTP/1.1" 200 13510
INFO 2025-07-11 16:14:16,799 basehttp 4152 728 "GET /api/clauses/?contract=c4389473-5e6e-4089-89ae-bb63087bb653 HTTP/1.1" 200 18683
INFO 2025-07-11 16:14:18,652 basehttp 4152 17888 "DELETE /api/contracts/c4389473-5e6e-4089-89ae-bb63087bb653/ HTTP/1.1" 204 0
INFO 2025-07-11 16:14:21,462 basehttp 4152 17888 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 200 1940
INFO 2025-07-11 16:14:21,465 basehttp 4152 728 "GET /api/contracts/?page_size=5 HTTP/1.1" 200 6582
INFO 2025-07-11 16:16:09,431 ml_service 4152 728 Iniciando análisis de contrato...
INFO 2025-07-11 16:16:09,432 ml_service 4152 728 Iniciando extracción de cláusulas con GPT
INFO 2025-07-11 16:16:16,342 ml_service 4152 728 Cláusulas extraídas exitosamente con GPT: 13 cláusulas.
INFO 2025-07-11 16:16:16,346 ml_service 4152 728 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 16:16:16,346 ml_service 4152 728 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 16:16:17,000 ml_service 4152 728 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': '', 'abusive_reason': '', 'clause_type': 'Obligaciones'}
INFO 2025-07-11 16:16:17,076 ml_service 4152 728 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 16:16:17,077 ml_service 4152 728 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 16:16:17,882 ml_service 4152 728 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Duración'}
INFO 2025-07-11 16:16:17,906 ml_service 4152 728 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 16:16:17,907 ml_service 4152 728 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 16:16:18,686 ml_service 4152 728 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': '', 'abusive_reason': '', 'clause_type': 'Obligaciones'}
INFO 2025-07-11 16:16:18,720 ml_service 4152 728 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 16:16:18,720 ml_service 4152 728 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 16:16:19,735 ml_service 4152 728 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': '', 'abusive_reason': '', 'clause_type': 'Obligaciones'}
INFO 2025-07-11 16:16:19,752 ml_service 4152 728 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 16:16:19,753 ml_service 4152 728 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 16:16:20,963 ml_service 4152 728 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Pago'}
INFO 2025-07-11 16:16:20,989 ml_service 4152 728 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 16:16:20,991 ml_service 4152 728 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 16:16:21,988 ml_service 4152 728 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Duración'}
INFO 2025-07-11 16:16:22,013 ml_service 4152 728 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 16:16:22,013 ml_service 4152 728 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 16:16:22,776 ml_service 4152 728 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': '', 'abusive_reason': '', 'clause_type': 'Obligaciones'}
INFO 2025-07-11 16:16:22,805 ml_service 4152 728 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 16:16:22,805 ml_service 4152 728 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 16:16:24,443 ml_service 4152 728 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Obligaciones'}
INFO 2025-07-11 16:16:24,472 ml_service 4152 728 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 16:16:24,472 ml_service 4152 728 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 16:16:25,356 ml_service 4152 728 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': '', 'abusive_reason': '', 'clause_type': 'Obligaciones'}
INFO 2025-07-11 16:16:25,392 ml_service 4152 728 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 16:16:25,393 ml_service 4152 728 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 16:16:26,593 ml_service 4152 728 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': '', 'abusive_reason': '', 'clause_type': 'Obligaciones'}
INFO 2025-07-11 16:16:26,616 ml_service 4152 728 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 16:16:26,617 ml_service 4152 728 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 16:16:27,826 ml_service 4152 728 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': '', 'abusive_reason': '', 'clause_type': 'Pago'}
INFO 2025-07-11 16:16:27,852 ml_service 4152 728 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 16:16:27,853 ml_service 4152 728 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 16:16:28,667 ml_service 4152 728 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Terminación'}
INFO 2025-07-11 16:16:28,682 ml_service 4152 728 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 16:16:28,683 ml_service 4152 728 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 16:16:29,763 ml_service 4152 728 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Resolución de Disputas'}
INFO 2025-07-11 16:16:29,788 ml_service 4152 728 Iniciando análisis OpenAI para 9 cláusulas
DEBUG 2025-07-11 16:16:29,788 ml_service 4152 728 Enviando solicitud a OpenAI API para análisis general
DEBUG 2025-07-11 16:16:32,431 ml_service 4152 728 Análisis recibido: {'resumen': 'Las cláusulas del contrato presentan desequilibrio de derechos en favor de la propietaria, imponiendo cargas excesivas al inquilino y limitando su libertad de acción.', 'recomendaciones': ['Negociar cláusulas más equitativas que balanceen los derechos y obligaciones de ambas partes.', 'Revisar la cláusula de penalidad por rescisión anticipada para asegurar que sea razonable y proporcional.', 'Consultar con un abogado especializado en arrendamientos para asesoramiento legal antes de firmar el contrato.']}
INFO 2025-07-11 16:16:32,433 ml_service 4152 728 Análisis completado en 23.00 segundos.
INFO 2025-07-11 16:16:32,563 basehttp 4152 728 "POST /api/contracts/ HTTP/1.1" 201 3918
INFO 2025-07-11 16:16:32,647 basehttp 4152 10032 "OPTIONS /api/contracts/eb8427d5-2b9c-4f2e-8a6d-384c6583e2ed/ HTTP/1.1" 200 0
INFO 2025-07-11 16:16:32,648 basehttp 4152 13020 "OPTIONS /api/clauses/?contract=eb8427d5-2b9c-4f2e-8a6d-384c6583e2ed HTTP/1.1" 200 0
INFO 2025-07-11 16:16:35,394 basehttp 4152 728 "GET /api/contracts/eb8427d5-2b9c-4f2e-8a6d-384c6583e2ed/ HTTP/1.1" 200 13534
INFO 2025-07-11 16:16:35,441 basehttp 4152 17888 "GET /api/clauses/?contract=eb8427d5-2b9c-4f2e-8a6d-384c6583e2ed HTTP/1.1" 200 18694
INFO 2025-07-11 16:17:24,636 basehttp 4152 17888 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 200 1944
INFO 2025-07-11 16:17:24,703 basehttp 4152 728 "GET /api/contracts/?page_size=5 HTTP/1.1" 200 6966
INFO 2025-07-11 16:17:34,448 basehttp 4152 13020 "OPTIONS /api/contracts/2813e974-0795-47ac-8858-ab1b63f6b04b/ HTTP/1.1" 200 0
INFO 2025-07-11 16:17:34,448 basehttp 4152 10032 "OPTIONS /api/clauses/?contract=2813e974-0795-47ac-8858-ab1b63f6b04b HTTP/1.1" 200 0
INFO 2025-07-11 16:17:37,002 basehttp 4152 728 "GET /api/contracts/2813e974-0795-47ac-8858-ab1b63f6b04b/ HTTP/1.1" 200 2644
INFO 2025-07-11 16:17:37,044 basehttp 4152 17888 "GET /api/clauses/?contract=2813e974-0795-47ac-8858-ab1b63f6b04b HTTP/1.1" 200 18694
INFO 2025-07-11 16:17:41,201 basehttp 4152 17888 "DELETE /api/contracts/2813e974-0795-47ac-8858-ab1b63f6b04b/ HTTP/1.1" 204 0
INFO 2025-07-11 16:17:44,286 basehttp 4152 17888 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 200 1991
INFO 2025-07-11 16:17:44,321 basehttp 4152 728 "GET /api/contracts/?page_size=5 HTTP/1.1" 200 6633
INFO 2025-07-11 16:17:46,028 basehttp 4152 10032 "OPTIONS /api/contracts/866a9ffd-a36a-4cb1-bf46-e301246765fe/ HTTP/1.1" 200 0
INFO 2025-07-11 16:17:46,030 basehttp 4152 13020 "OPTIONS /api/clauses/?contract=866a9ffd-a36a-4cb1-bf46-e301246765fe HTTP/1.1" 200 0
INFO 2025-07-11 16:17:48,783 basehttp 4152 728 "GET /api/clauses/?contract=866a9ffd-a36a-4cb1-bf46-e301246765fe HTTP/1.1" 200 18694
INFO 2025-07-11 16:17:48,831 basehttp 4152 17888 "GET /api/contracts/866a9ffd-a36a-4cb1-bf46-e301246765fe/ HTTP/1.1" 200 19646
INFO 2025-07-11 16:17:50,625 basehttp 4152 17888 "GET /api/clauses/?contract=866a9ffd-a36a-4cb1-bf46-e301246765fe HTTP/1.1" 200 18694
INFO 2025-07-11 16:17:53,120 basehttp 4152 17888 "DELETE /api/contracts/866a9ffd-a36a-4cb1-bf46-e301246765fe/ HTTP/1.1" 204 0
INFO 2025-07-11 16:17:56,433 basehttp 4152 18848 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 200 1990
INFO 2025-07-11 16:17:56,485 basehttp 4152 1916 "GET /api/contracts/?page_size=5 HTTP/1.1" 200 6257
INFO 2025-07-11 16:17:58,851 basehttp 4152 1684 "OPTIONS /api/contracts/4ffce7e5-c829-4037-9955-590675170096/ HTTP/1.1" 200 0
INFO 2025-07-11 16:17:58,855 basehttp 4152 3416 "OPTIONS /api/clauses/?contract=4ffce7e5-c829-4037-9955-590675170096 HTTP/1.1" 200 0
INFO 2025-07-11 16:18:01,755 basehttp 4152 18848 "GET /api/clauses/?contract=4ffce7e5-c829-4037-9955-590675170096 HTTP/1.1" 200 15718
INFO 2025-07-11 16:18:01,767 basehttp 4152 1916 "GET /api/contracts/4ffce7e5-c829-4037-9955-590675170096/ HTTP/1.1" 200 1333
INFO 2025-07-11 16:18:03,951 basehttp 4152 1916 "GET /api/clauses/?contract=4ffce7e5-c829-4037-9955-590675170096 HTTP/1.1" 200 15718
INFO 2025-07-11 16:18:05,779 basehttp 4152 18848 "DELETE /api/contracts/4ffce7e5-c829-4037-9955-590675170096/ HTTP/1.1" 204 0
INFO 2025-07-11 16:18:08,614 basehttp 4152 18848 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 200 1990
INFO 2025-07-11 16:18:08,650 basehttp 4152 1916 "GET /api/contracts/?page_size=5 HTTP/1.1" 200 5891
INFO 2025-07-11 16:18:29,734 basehttp 4152 1684 "OPTIONS /api/clauses/?contract=1d098808-c734-4754-9bd6-d17046ef2153 HTTP/1.1" 200 0
INFO 2025-07-11 16:18:29,734 basehttp 4152 3416 "OPTIONS /api/contracts/1d098808-c734-4754-9bd6-d17046ef2153/ HTTP/1.1" 200 0
INFO 2025-07-11 16:18:33,010 basehttp 4152 1916 "GET /api/contracts/1d098808-c734-4754-9bd6-d17046ef2153/ HTTP/1.1" 200 1333
INFO 2025-07-11 16:18:33,094 basehttp 4152 18848 "GET /api/clauses/?contract=1d098808-c734-4754-9bd6-d17046ef2153 HTTP/1.1" 200 15718
INFO 2025-07-11 16:18:37,098 basehttp 4152 18848 "DELETE /api/contracts/1d098808-c734-4754-9bd6-d17046ef2153/ HTTP/1.1" 204 0
INFO 2025-07-11 16:18:40,393 basehttp 4152 18848 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 200 1990
INFO 2025-07-11 16:18:40,410 basehttp 4152 1916 "GET /api/contracts/?page_size=5 HTTP/1.1" 200 5525
INFO 2025-07-11 16:18:44,167 basehttp 4152 18848 "GET /api/contracts/?page_size=5 HTTP/1.1" 200 5525
INFO 2025-07-11 16:18:44,180 basehttp 4152 1916 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 200 1990
INFO 2025-07-11 16:18:55,005 basehttp 4152 18848 "GET /api/clauses/?contract=eb8427d5-2b9c-4f2e-8a6d-384c6583e2ed HTTP/1.1" 200 15718
INFO 2025-07-11 16:18:55,044 basehttp 4152 1916 "GET /api/contracts/eb8427d5-2b9c-4f2e-8a6d-384c6583e2ed/ HTTP/1.1" 200 13534
INFO 2025-07-11 16:18:56,863 basehttp 4152 1916 "GET /api/clauses/?contract=eb8427d5-2b9c-4f2e-8a6d-384c6583e2ed HTTP/1.1" 200 15718
INFO 2025-07-11 16:18:59,159 basehttp 4152 1916 "DELETE /api/contracts/eb8427d5-2b9c-4f2e-8a6d-384c6583e2ed/ HTTP/1.1" 204 0
INFO 2025-07-11 16:19:02,024 basehttp 4152 1916 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 200 1958
INFO 2025-07-11 16:19:02,029 basehttp 4152 18848 "GET /api/contracts/?page_size=5 HTTP/1.1" 200 5141
INFO 2025-07-11 16:19:23,794 basehttp 4152 18848 "GET /api/contract-types/ HTTP/1.1" 200 1236
INFO 2025-07-11 16:19:43,493 ml_service 4152 18848 Iniciando análisis de contrato...
INFO 2025-07-11 16:19:43,493 ml_service 4152 18848 Iniciando extracción de cláusulas con GPT
INFO 2025-07-11 16:19:51,801 ml_service 4152 18848 Cláusulas extraídas exitosamente con GPT: 13 cláusulas.
INFO 2025-07-11 16:19:51,803 ml_service 4152 18848 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 16:19:51,805 ml_service 4152 18848 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 16:19:52,730 ml_service 4152 18848 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Obligaciones'}
INFO 2025-07-11 16:19:52,764 ml_service 4152 18848 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 16:19:52,765 ml_service 4152 18848 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 16:19:53,843 ml_service 4152 18848 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Duración'}
INFO 2025-07-11 16:19:53,880 ml_service 4152 18848 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 16:19:53,883 ml_service 4152 18848 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 16:19:55,185 ml_service 4152 18848 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Obligaciones'}
INFO 2025-07-11 16:19:55,396 ml_service 4152 18848 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 16:19:55,420 ml_service 4152 18848 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 16:19:56,402 ml_service 4152 18848 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Obligaciones'}
INFO 2025-07-11 16:19:56,422 ml_service 4152 18848 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 16:19:56,422 ml_service 4152 18848 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 16:19:57,136 ml_service 4152 18848 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Pago'}
INFO 2025-07-11 16:19:57,170 ml_service 4152 18848 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 16:19:57,171 ml_service 4152 18848 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 16:19:58,354 ml_service 4152 18848 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Duración'}
INFO 2025-07-11 16:19:58,370 ml_service 4152 18848 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 16:19:58,371 ml_service 4152 18848 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 16:20:03,621 ml_service 4152 18848 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': '', 'abusive_reason': '', 'clause_type': 'Obligaciones'}
INFO 2025-07-11 16:20:03,641 ml_service 4152 18848 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 16:20:03,641 ml_service 4152 18848 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 16:20:04,798 ml_service 4152 18848 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Pago'}
INFO 2025-07-11 16:20:04,823 ml_service 4152 18848 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 16:20:04,823 ml_service 4152 18848 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 16:20:05,625 ml_service 4152 18848 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': '', 'abusive_reason': '', 'clause_type': 'Obligaciones'}
INFO 2025-07-11 16:20:05,658 ml_service 4152 18848 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 16:20:05,659 ml_service 4152 18848 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 16:20:06,856 ml_service 4152 18848 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Obligaciones'}
INFO 2025-07-11 16:20:06,878 ml_service 4152 18848 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 16:20:06,879 ml_service 4152 18848 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 16:20:07,876 ml_service 4152 18848 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Pago'}
INFO 2025-07-11 16:20:07,902 ml_service 4152 18848 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 16:20:07,904 ml_service 4152 18848 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 16:20:09,106 ml_service 4152 18848 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Terminación'}
INFO 2025-07-11 16:20:09,130 ml_service 4152 18848 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 16:20:09,130 ml_service 4152 18848 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 16:20:10,531 ml_service 4152 18848 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': '', 'abusive_reason': '', 'clause_type': 'Resolución de Disputas'}
INFO 2025-07-11 16:20:10,546 ml_service 4152 18848 Iniciando análisis OpenAI para 9 cláusulas
DEBUG 2025-07-11 16:20:10,547 ml_service 4152 18848 Enviando solicitud a OpenAI API para análisis general
DEBUG 2025-07-11 16:20:14,533 ml_service 4152 18848 Análisis recibido: {'resumen': 'Las cláusulas del contrato presentan riesgos para el inquilino al limitar su libertad de subarrendar, imponer responsabilidades excesivas de mantenimiento y establecer penalidades severas por incumplimiento o rescisión anticipada.', 'recomendaciones': ['Solicitar modificar la cláusula de penalidad por rescisión anticipada para que sea proporcional y justa.', 'Negociar la posibilidad de subarrendar el inmueble con consentimiento previo y razonable de la propietaria.', 'Revisar detenidamente las responsabilidades de mantenimiento para asegurar que sean equitativas y claras para ambas partes.']}
INFO 2025-07-11 16:20:14,535 ml_service 4152 18848 Análisis completado en 31.04 segundos.
INFO 2025-07-11 16:20:14,653 basehttp 4152 18848 "POST /api/contracts/ HTTP/1.1" 201 3918
INFO 2025-07-11 16:20:14,702 basehttp 4152 1684 "OPTIONS /api/contracts/c7042283-37cf-41d9-940b-e0c18439f00c/ HTTP/1.1" 200 0
INFO 2025-07-11 16:20:14,712 basehttp 4152 3416 "OPTIONS /api/clauses/?contract=c7042283-37cf-41d9-940b-e0c18439f00c HTTP/1.1" 200 0
INFO 2025-07-11 16:20:17,856 basehttp 4152 18848 "GET /api/contracts/c7042283-37cf-41d9-940b-e0c18439f00c/ HTTP/1.1" 200 13526
INFO 2025-07-11 16:20:17,893 basehttp 4152 1916 "GET /api/clauses/?contract=c7042283-37cf-41d9-940b-e0c18439f00c HTTP/1.1" 200 15710
INFO 2025-07-11 16:21:04,577 ml_service 4152 1916 Iniciando análisis de contrato...
INFO 2025-07-11 16:21:04,578 ml_service 4152 1916 Iniciando extracción de cláusulas con GPT
INFO 2025-07-11 16:21:36,631 ml_service 4152 1916 Cláusulas extraídas exitosamente con GPT: 15 cláusulas.
INFO 2025-07-11 16:21:36,634 ml_service 4152 1916 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 16:21:36,634 ml_service 4152 1916 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 16:21:38,853 ml_service 4152 1916 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'La cláusula es abusiva porque limita el derecho del inquilino a recibir un recibo o constancia escrita de los pagos realizados, lo cual puede generar problemas de falta de evidencia en caso de disputas.', 'abusive_reason': 'La cláusula es abusiva porque limita el derecho fundamental del inquilino a recibir un recibo o constancia escrita de los pagos realizados, lo cual puede generar desequilibrio entre las partes al no contar con evidencia de los pagos realizados. Esta limitación vulnera el principio de buena fe y equidad, así como el derecho a la seguridad jurídica del inquilino. En República Dominicana, la Ley No. 288-04 sobre Arrendamientos Inmobiliarios prohíbe cláusulas abusivas que limiten derechos fundamentales de las partes en un contrato de arrendamiento.', 'clause_type': 'Pago'}
INFO 2025-07-11 16:21:38,872 ml_service 4152 1916 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 16:21:38,873 ml_service 4152 1916 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 16:21:40,620 ml_service 4152 1916 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'Esta cláusula es abusiva ya que limita los derechos fundamentales de la inquilina y crea un desequilibrio significativo entre las partes.', 'abusive_reason': 'La cláusula es abusiva porque vulnera el principio de la buena fe y equidad, al permitir al propietario ingresar a la propiedad sin previo aviso ni consentimiento de la inquilina, lo cual limita los derechos fundamentales de esta última. Además, crea un desequilibrio significativo entre las partes al otorgar al propietario un poder excesivo sobre la propiedad arrendada.', 'clause_type': 'Otro'}
INFO 2025-07-11 16:21:40,634 ml_service 4152 1916 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 16:21:40,634 ml_service 4152 1916 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 16:21:41,470 ml_service 4152 1916 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': '', 'abusive_reason': '', 'clause_type': 'Obligaciones'}
INFO 2025-07-11 16:21:41,489 ml_service 4152 1916 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 16:21:41,491 ml_service 4152 1916 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 16:21:42,411 ml_service 4152 1916 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Obligaciones'}
INFO 2025-07-11 16:21:42,422 ml_service 4152 1916 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 16:21:42,423 ml_service 4152 1916 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 16:21:44,622 ml_service 4152 1916 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'La cláusula es abusiva porque limita los derechos fundamentales de la inquilina y crea un desequilibrio significativo entre las partes.', 'abusive_reason': 'La cláusula es abusiva porque permite al propietario desalojar a la inquilina inmediatamente y sin necesidad de proceso legal en caso de retraso en el pago. Esto limita los derechos fundamentales de la inquilina a un debido proceso y a la seguridad de la tenencia. Además, crea un desequilibrio significativo entre las partes, ya que otorga al propietario un poder excesivo sobre la inquilina. Esta cláusula viola los principios de buena fe y equidad, así como el derecho a la vivienda digna consagrado en la Constitución de la República Dominicana.', 'clause_type': 'Pago'}
INFO 2025-07-11 16:21:44,643 ml_service 4152 1916 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 16:21:44,644 ml_service 4152 1916 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 16:21:46,509 ml_service 4152 1916 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'La cláusula es abusiva porque limita los derechos del contratante al permitir al PROPIETARIO finalizar el contrato sin previo aviso ni justificación, creando un desequilibrio significativo entre las partes.', 'abusive_reason': 'La cláusula es abusiva porque otorga al PROPIETARIO un poder unilateral para finalizar el contrato sin justificación, lo cual limita los derechos del contratante de manera desproporcionada y viola el principio de buena fe y equidad. En República Dominicana, esta cláusula podría ser considerada abusiva por vulnerar el principio de equilibrio contractual y la buena fe, protegidos por el Código Civil y la Ley de Contratos de la República Dominicana.', 'clause_type': 'Terminación'}
INFO 2025-07-11 16:21:46,516 ml_service 4152 1916 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 16:21:46,516 ml_service 4152 1916 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 16:21:50,129 ml_service 4152 1916 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'La cláusula es abusiva porque impone un aumento automático del alquiler sin posibilidad de negociación, creando un desequilibrio significativo a favor del arrendador.', 'abusive_reason': 'La cláusula es abusiva porque vulnera el principio de buena fe y equidad entre las partes, al imponer un aumento automático del alquiler sin posibilidad de negociación por parte del inquilino. Esto crea un desequilibrio significativo en los derechos y obligaciones de las partes, limitando la capacidad de la inquilina para negociar condiciones justas. En República Dominicana, esta cláusula podría ser considerada abusiva según el Código Civil y la Ley de Arrendamientos Urbanos y Suburbanos.', 'clause_type': 'Duración'}
INFO 2025-07-11 16:21:50,138 ml_service 4152 1916 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 16:21:50,139 ml_service 4152 1916 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 16:21:51,272 ml_service 4152 1916 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Pago'}
INFO 2025-07-11 16:21:51,282 ml_service 4152 1916 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 16:21:51,282 ml_service 4152 1916 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 16:21:52,160 ml_service 4152 1916 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Obligaciones'}
INFO 2025-07-11 16:21:52,179 ml_service 4152 1916 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 16:21:52,179 ml_service 4152 1916 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 16:21:56,322 ml_service 4152 1916 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'Esta cláusula es abusiva porque limita los derechos del inquilino al permitir al propietario solicitar la entrega del inmueble en cualquier momento sin justificación y con un aviso verbal de solo 12 horas.', 'abusive_reason': 'La cláusula es abusiva porque crea un desequilibrio significativo entre las partes al otorgar al propietario un poder excesivo sobre el inquilino, limitando sus derechos fundamentales a la seguridad y estabilidad en el uso del inmueble. Además, impone condiciones desproporcionadas al no requerir justificación para la solicitud de entrega y al establecer un aviso verbal de corta duración. Esta cláusula vulnera los principios de buena fe y equidad, así como el derecho a la vivienda digna reconocido en la Constitución de la República Dominicana.', 'clause_type': 'Terminación'}
INFO 2025-07-11 16:21:56,330 ml_service 4152 1916 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 16:21:56,330 ml_service 4152 1916 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 16:21:59,206 ml_service 4152 1916 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'La cláusula es abusiva porque impone una penalidad desproporcionada a la inquilina en caso de rescisión anticipada del contrato.', 'abusive_reason': 'La cláusula es abusiva porque impone una penalidad excesiva a la inquilina en caso de rescisión anticipada del contrato, lo cual crea un desequilibrio significativo entre las partes. Esta penalidad desproporcionada podría considerarse una limitación de derechos fundamentales, ya que dificulta el ejercicio del derecho a rescindir el contrato. Además, vulnera el principio de buena fe y equidad al imponer una carga excesiva a una de las partes.', 'clause_type': 'Pago'}
INFO 2025-07-11 16:21:59,223 ml_service 4152 1916 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 16:21:59,223 ml_service 4152 1916 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 16:22:01,280 ml_service 4152 1916 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'Esta cláusula es abusiva ya que crea un desequilibrio significativo entre las partes al permitir al PROPIETARIO modificar unilateralmente el contrato sin consentimiento de LA INQUILINA.', 'abusive_reason': 'La cláusula es abusiva porque vulnera el principio de buena fe y equidad entre las partes, al permitir al PROPIETARIO modificar unilateralmente el contrato sin previo aviso ni acuerdo con LA INQUILINA, creando un desequilibrio significativo de derechos. En República Dominicana, esto contraviene el principio de igualdad de las partes en los contratos, así como el deber de respetar los derechos fundamentales de los contratantes.', 'clause_type': 'Otro'}
INFO 2025-07-11 16:22:01,291 ml_service 4152 1916 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 16:22:01,292 ml_service 4152 1916 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 16:22:04,042 ml_service 4152 1916 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'La cláusula es abusiva porque crea un desequilibrio significativo entre las partes y limita los derechos fundamentales de la inquilina.', 'abusive_reason': 'La cláusula es abusiva porque vulnera el principio de igualdad de las partes, al darle todo el poder de decisión al propietario y limitar la capacidad de la inquilina para ejercer acciones legales. Además, restringe el acceso a la justicia y la posibilidad de resolver disputas de manera equitativa. En República Dominicana, esta cláusula podría considerarse abusiva por violar el principio de igualdad de las partes en los contratos, así como el derecho de acceso a la justicia y a un proceso justo.', 'clause_type': 'Resolución de Disputas'}
INFO 2025-07-11 16:22:04,057 ml_service 4152 1916 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 16:22:04,058 ml_service 4152 1916 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 16:22:05,890 ml_service 4152 1916 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'La cláusula es abusiva ya que limita derechos fundamentales de la inquilina.', 'abusive_reason': 'La cláusula es abusiva porque obliga a la inquilina a renunciar a servicios básicos esenciales como agua potable, electricidad o gas, lo cual limita sus derechos fundamentales y crea un desequilibrio significativo entre las partes. Esta cláusula vulnera el principio de buena fe y equidad, así como el derecho a condiciones de vida dignas, contraviniendo la Ley No. 481-08 sobre Protección de los Derechos del Consumidor en la República Dominicana.', 'clause_type': 'Obligaciones'}
INFO 2025-07-11 16:22:05,902 ml_service 4152 1916 Iniciando validación GPT para cláusula
DEBUG 2025-07-11 16:22:05,903 ml_service 4152 1916 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-11 16:22:10,509 ml_service 4152 1916 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'Esta cláusula es abusiva ya que impone una carga desproporcionada a los familiares en caso de fallecimiento de la inquilina.', 'abusive_reason': 'La cláusula es abusiva porque crea un desequilibrio significativo entre las partes al imponer una obligación desproporcionada a los familiares de la inquilina en caso de fallecimiento. Además, limita los derechos fundamentales de los familiares al obligarlos a continuar pagando el alquiler sin considerar su situación económica o interés en el contrato. Esta cláusula vulnera los principios de buena fe y equidad, así como el principio de protección al consumidor establecido en la Ley 358-05 de Protección al Consumidor en República Dominicana.', 'clause_type': 'Pago'}
INFO 2025-07-11 16:22:10,520 ml_service 4152 1916 Iniciando análisis OpenAI para 15 cláusulas
DEBUG 2025-07-11 16:22:10,520 ml_service 4152 1916 Enviando solicitud a OpenAI API para análisis general
DEBUG 2025-07-11 16:22:12,280 ml_service 4152 1916 Análisis recibido: {'resumen': 'Las cláusulas del contrato son altamente abusivas y desequilibradas, otorgando poder ilimitado al propietario y dejando a la inquilina en una posición vulnerable.', 'recomendaciones': ['Negociar la eliminación o modificación de cláusulas abusivas antes de firmar el contrato.', 'Consultar con un abogado especializado en arrendamientos para proteger los derechos de la inquilina.', 'Buscar un contrato de arrendamiento más equitativo que cumpla con la legislación vigente en República Dominicana.']}
INFO 2025-07-11 16:22:12,282 ml_service 4152 1916 Análisis completado en 67.70 segundos.
INFO 2025-07-11 16:22:12,351 basehttp 4152 1916 "POST /api/contracts/ HTTP/1.1" 201 4163
INFO 2025-07-11 16:22:12,386 basehttp 4152 3416 "OPTIONS /api/contracts/d450ca85-47ae-4446-a100-a71e2c89e54e/ HTTP/1.1" 200 0
INFO 2025-07-11 16:22:12,388 basehttp 4152 1684 "OPTIONS /api/clauses/?contract=d450ca85-47ae-4446-a100-a71e2c89e54e HTTP/1.1" 200 0
INFO 2025-07-11 16:22:14,244 basehttp 4152 18848 "GET /api/clauses/?contract=d450ca85-47ae-4446-a100-a71e2c89e54e HTTP/1.1" 200 20218
INFO 2025-07-11 16:22:14,280 basehttp 4152 1916 "GET /api/contracts/d450ca85-47ae-4446-a100-a71e2c89e54e/ HTTP/1.1" 200 21445
INFO 2025-07-11 16:22:15,846 basehttp 4152 1916 "GET /api/clauses/?contract=d450ca85-47ae-4446-a100-a71e2c89e54e HTTP/1.1" 200 20218
INFO 2025-07-13 18:18:51,429 autoreload 10192 25944 Watching for file changes with StatReloader
INFO 2025-07-13 18:19:54,555 basehttp 10192 10960 "GET /admin HTTP/1.1" 301 0
INFO 2025-07-13 18:19:54,816 basehttp 10192 25320 "GET /admin/ HTTP/1.1" 302 0
INFO 2025-07-13 18:19:54,864 basehttp 10192 25320 "GET /admin/login/?next=/admin/ HTTP/1.1" 200 4173
INFO 2025-07-13 18:19:55,028 basehttp 10192 14268 "GET /static/admin/css/dark_mode.css HTTP/1.1" 200 2808
INFO 2025-07-13 18:19:55,029 basehttp 10192 25320 "GET /static/admin/css/base.css HTTP/1.1" 200 22120
INFO 2025-07-13 18:19:55,033 basehttp 10192 25320 "GET /static/admin/css/login.css HTTP/1.1" 200 951
INFO 2025-07-13 18:19:55,034 basehttp 10192 14268 "GET /static/admin/css/nav_sidebar.css HTTP/1.1" 200 2810
INFO 2025-07-13 18:19:55,039 basehttp 10192 14268 "GET /static/admin/js/theme.js HTTP/1.1" 200 1653
INFO 2025-07-13 18:19:55,039 basehttp 10192 25320 "GET /static/admin/css/responsive.css HTTP/1.1" 200 16565
INFO 2025-07-13 18:19:55,045 basehttp 10192 25320 "GET /static/admin/js/nav_sidebar.js HTTP/1.1" 200 3063
WARNING 2025-07-13 18:19:55,113 log 10192 25320 Not Found: /favicon.ico
WARNING 2025-07-13 18:19:55,114 basehttp 10192 25320 "GET /favicon.ico HTTP/1.1" 404 3107
INFO 2025-07-13 18:20:05,883 basehttp 10192 25320 "POST /admin/login/?next=/admin/ HTTP/1.1" 200 4341
INFO 2025-07-13 18:20:35,738 basehttp 10192 25320 "POST /admin/login/?next=/admin/ HTTP/1.1" 200 4341
INFO 2025-07-13 18:23:00,617 autoreload 17948 16076 Watching for file changes with StatReloader
INFO 2025-07-13 18:23:16,244 basehttp 17948 28780 "POST /admin/login/?next=/admin/ HTTP/1.1" 200 4341
INFO 2025-07-13 18:23:22,195 basehttp 17948 28780 "GET /admin/ HTTP/1.1" 302 0
INFO 2025-07-13 18:23:22,208 basehttp 17948 28780 "GET /admin/login/?next=/admin/ HTTP/1.1" 200 4173
INFO 2025-07-13 18:23:39,003 basehttp 17948 28780 "POST /admin/login/?next=/admin/ HTTP/1.1" 302 0
INFO 2025-07-13 18:23:39,261 basehttp 17948 28780 "GET /admin/ HTTP/1.1" 200 6100
INFO 2025-07-13 18:23:39,372 basehttp 17948 28780 "GET /static/admin/css/dashboard.css HTTP/1.1" 200 441
INFO 2025-07-13 18:23:39,383 basehttp 17948 6648 "GET /static/admin/img/icon-changelink.svg HTTP/1.1" 200 380
INFO 2025-07-13 18:23:39,383 basehttp 17948 28780 "GET /static/admin/img/icon-addlink.svg HTTP/1.1" 200 331
INFO 2025-07-13 18:24:00,576 basehttp 17948 28780 "GET /admin/auth/group/ HTTP/1.1" 200 7734
INFO 2025-07-13 18:24:00,632 basehttp 17948 28780 "GET /static/admin/css/changelists.css HTTP/1.1" 200 6878
INFO 2025-07-13 18:24:00,654 basehttp 17948 28780 "GET /static/admin/js/vendor/jquery/jquery.js HTTP/1.1" 200 285314
INFO 2025-07-13 18:24:00,657 basehttp 17948 28780 "GET /static/admin/js/jquery.init.js HTTP/1.1" 200 347
INFO 2025-07-13 18:24:00,661 basehttp 17948 28780 "GET /static/admin/js/core.js HTTP/1.1" 200 6208
INFO 2025-07-13 18:24:00,665 basehttp 17948 28780 "GET /static/admin/js/admin/RelatedObjectLookups.js HTTP/1.1" 200 9777
INFO 2025-07-13 18:24:00,669 basehttp 17948 28780 "GET /static/admin/js/actions.js HTTP/1.1" 200 8076
INFO 2025-07-13 18:24:00,672 basehttp 17948 28780 "GET /static/admin/js/urlify.js HTTP/1.1" 200 7887
INFO 2025-07-13 18:24:00,676 basehttp 17948 28780 "GET /static/admin/js/prepopulate.js HTTP/1.1" 200 1531
INFO 2025-07-13 18:24:00,683 basehttp 17948 28780 "GET /static/admin/js/vendor/xregexp/xregexp.js HTTP/1.1" 200 325171
INFO 2025-07-13 18:24:00,686 basehttp 17948 28780 "GET /static/admin/img/search.svg HTTP/1.1" 200 458
INFO 2025-07-13 18:24:00,692 basehttp 17948 28780 "GET /static/admin/js/filters.js HTTP/1.1" 200 978
INFO 2025-07-13 18:24:01,324 basehttp 17948 6648 "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-07-13 18:24:01,357 basehttp 17948 6648 "GET /static/admin/img/tooltag-add.svg HTTP/1.1" 200 331
INFO 2025-07-13 18:24:05,415 basehttp 17948 6648 "GET /admin/auth/user/ HTTP/1.1" 200 11328
INFO 2025-07-13 18:24:05,456 basehttp 17948 6648 "GET /static/admin/img/icon-yes.svg HTTP/1.1" 200 436
INFO 2025-07-13 18:24:05,592 basehttp 17948 28780 "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-07-13 18:24:05,619 basehttp 17948 6648 "GET /static/admin/img/icon-viewlink.svg HTTP/1.1" 200 581
INFO 2025-07-13 18:24:05,620 basehttp 17948 28780 "GET /static/admin/img/sorting-icons.svg HTTP/1.1" 200 1097
WARNING 2025-07-13 18:24:13,206 log 17948 28780 Not Found: /
WARNING 2025-07-13 18:24:13,207 basehttp 17948 28780 "GET / HTTP/1.1" 404 3056
INFO 2025-07-13 18:24:17,663 basehttp 17948 28780 "GET /admin/auth/user/ HTTP/1.1" 200 11328
WARNING 2025-07-13 18:24:27,634 log 17948 28780 Not Found: /
WARNING 2025-07-13 18:24:27,634 basehttp 17948 28780 "GET / HTTP/1.1" 404 3056
INFO 2025-07-13 18:24:31,392 basehttp 17948 28780 "GET /admin/auth/user/ HTTP/1.1" 200 11328
INFO 2025-07-13 18:24:35,851 basehttp 17948 28780 "GET /admin/ HTTP/1.1" 200 6100
INFO 2025-07-13 18:30:50,002 basehttp 17948 29200 "GET /admin/ HTTP/1.1" 200 6100
INFO 2025-07-13 18:30:55,662 basehttp 17948 29200 "GET /admin/ HTTP/1.1" 200 6100
INFO 2025-07-13 18:31:11,419 autoreload 17948 16076 C:\Users\User\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py changed, reloading.
INFO 2025-07-13 18:31:13,777 autoreload 1604 17324 Watching for file changes with StatReloader
INFO 2025-07-13 18:31:49,412 basehttp 1604 29096 "GET /admin/ HTTP/1.1" 200 6100
INFO 2025-07-13 18:32:05,405 autoreload 10576 14608 Watching for file changes with StatReloader
INFO 2025-07-13 18:32:41,845 basehttp 10576 19748 "GET /admin/ HTTP/1.1" 200 9074
INFO 2025-07-13 18:32:48,396 basehttp 10576 19748 "GET /admin/contracts/contract/ HTTP/1.1" 200 11044
INFO 2025-07-13 18:32:48,604 basehttp 10576 19748 "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-07-13 18:32:51,023 basehttp 10576 19748 "GET /admin/contracts/clause/ HTTP/1.1" 200 11717
INFO 2025-07-13 18:32:51,224 basehttp 10576 19748 "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-07-13 18:32:53,401 basehttp 10576 19748 "GET /admin/contracts/entity/ HTTP/1.1" 200 11067
INFO 2025-07-13 18:32:53,563 basehttp 10576 19748 "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-07-13 18:32:57,253 basehttp 10576 19748 "GET /admin/contracts/contracttype/ HTTP/1.1" 200 10047
INFO 2025-07-13 18:32:57,804 basehttp 10576 19748 "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-07-13 18:34:25,618 basehttp 10576 19748 "GET /admin/contracts/contract/ HTTP/1.1" 200 11044
INFO 2025-07-13 18:34:25,807 basehttp 10576 19748 "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-07-13 18:34:29,454 basehttp 10576 19748 - Broken pipe from ('127.0.0.1', 62816)
INFO 2025-07-13 18:34:30,470 basehttp 10576 25828 - Broken pipe from ('127.0.0.1', 63301)
INFO 2025-07-13 18:34:31,091 basehttp 10576 12936 "GET /admin/contracts/contract/?status__exact=pending HTTP/1.1" 200 11282
INFO 2025-07-13 18:34:31,267 basehttp 10576 12936 "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-07-13 18:34:33,209 basehttp 10576 12936 "GET /admin/contracts/contract/?_facets=True&status__exact=pending HTTP/1.1" 200 11479
INFO 2025-07-13 18:34:33,411 basehttp 10576 12936 "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-07-13 18:34:33,520 basehttp 10576 12936 "GET /static/admin/img/icon-hidelink.svg HTTP/1.1" 200 784
INFO 2025-07-13 18:34:35,174 basehttp 10576 12936 "GET /admin/contracts/contract/?_facets=True HTTP/1.1" 200 11247
INFO 2025-07-13 18:34:35,341 basehttp 10576 12936 "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-07-13 18:37:23,427 autoreload 21312 20204 Watching for file changes with StatReloader
INFO 2025-07-13 18:38:08,114 basehttp 21312 1264 "GET /admin/contracts/contract/?_facets=True HTTP/1.1" 200 12272
INFO 2025-07-13 18:38:08,405 basehttp 21312 1264 "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-07-13 18:38:11,784 basehttp 21312 1264 "GET /admin/contracts/contract/ HTTP/1.1" 200 11889
INFO 2025-07-13 18:38:11,974 basehttp 21312 1264 "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-07-13 18:38:14,339 basehttp 21312 1264 "GET /admin/contracts/clause/ HTTP/1.1" 200 11717
INFO 2025-07-13 18:38:14,511 basehttp 21312 1264 "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-07-13 18:38:15,997 basehttp 21312 1264 "GET /admin/contracts/contract/ HTTP/1.1" 200 11889
INFO 2025-07-13 18:38:16,168 basehttp 21312 1264 "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-07-13 18:38:17,569 basehttp 21312 1264 "GET /admin/contracts/entity/ HTTP/1.1" 200 11067
INFO 2025-07-13 18:38:17,748 basehttp 21312 1264 "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-07-13 18:38:19,062 basehttp 21312 1264 "GET /admin/contracts/contracttype/ HTTP/1.1" 200 14572
INFO 2025-07-13 18:38:19,267 basehttp 21312 1264 "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-07-13 18:38:27,279 basehttp 21312 1264 "GET /admin/contracts/ HTTP/1.1" 200 7392
INFO 2025-07-13 18:38:28,888 basehttp 21312 1264 "GET /admin/ HTTP/1.1" 200 9074
INFO 2025-07-13 18:38:31,532 basehttp 21312 1264 "GET /admin/contracts/clause/ HTTP/1.1" 200 11717
INFO 2025-07-13 18:38:31,712 basehttp 21312 1264 "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-07-13 18:38:33,873 basehttp 21312 1264 "GET /admin/contracts/contract/ HTTP/1.1" 200 11889
INFO 2025-07-13 18:38:34,061 basehttp 21312 1264 "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-07-13 18:38:35,129 basehttp 21312 1264 "GET /admin/contracts/contracttype/ HTTP/1.1" 200 14572
INFO 2025-07-13 18:38:35,324 basehttp 21312 1264 "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-07-13 20:25:05,398 autoreload 25988 19944 Watching for file changes with StatReloader
INFO 2025-07-13 20:27:21,273 basehttp 25988 7144 "OPTIONS /api/contract-types/ HTTP/1.1" 200 0
WARNING 2025-07-13 20:27:23,127 log 25988 16768 Unauthorized: /api/contract-types/
WARNING 2025-07-13 20:27:23,128 basehttp 25988 16768 "GET /api/contract-types/ HTTP/1.1" 401 39
WARNING 2025-07-13 20:27:35,158 log 25988 16768 Unauthorized: /api/contract-types/
WARNING 2025-07-13 20:27:35,159 basehttp 25988 16768 "GET /api/contract-types/ HTTP/1.1" 401 39
WARNING 2025-07-13 20:27:45,941 log 25988 16768 Unauthorized: /api/contract-types/
WARNING 2025-07-13 20:27:45,942 basehttp 25988 16768 "GET /api/contract-types/ HTTP/1.1" 401 39
WARNING 2025-07-13 20:28:02,622 log 25988 16768 Unauthorized: /api/contract-types/
WARNING 2025-07-13 20:28:02,623 basehttp 25988 16768 "GET /api/contract-types/ HTTP/1.1" 401 39
INFO 2025-07-13 20:28:06,416 basehttp 25988 7144 "GET /api/contract-types/ HTTP/1.1" 200 1236
INFO 2025-07-13 20:28:51,191 basehttp 25988 7144 "OPTIONS /api/contracts/ HTTP/1.1" 200 0
WARNING 2025-07-13 20:28:51,824 log 25988 16768 Unauthorized: /api/contracts/
WARNING 2025-07-13 20:28:51,824 basehttp 25988 16768 "POST /api/contracts/ HTTP/1.1" 401 39
WARNING 2025-07-13 20:29:08,026 log 25988 16768 Unauthorized: /api/contracts/
WARNING 2025-07-13 20:29:08,027 basehttp 25988 16768 "POST /api/contracts/ HTTP/1.1" 401 39
WARNING 2025-07-13 20:29:22,080 log 25988 16768 Unauthorized: /api/contracts/
WARNING 2025-07-13 20:29:22,081 basehttp 25988 16768 "POST /api/contracts/ HTTP/1.1" 401 39
WARNING 2025-07-13 20:29:25,467 log 25988 16768 Unauthorized: /api/contracts/
WARNING 2025-07-13 20:29:25,468 basehttp 25988 16768 "POST /api/contracts/ HTTP/1.1" 401 39
WARNING 2025-07-13 20:29:34,358 log 25988 16768 Unauthorized: /api/contracts/
WARNING 2025-07-13 20:29:34,359 basehttp 25988 16768 "POST /api/contracts/ HTTP/1.1" 401 39
WARNING 2025-07-13 20:30:00,831 log 25988 16768 Unauthorized: /api/contracts/
WARNING 2025-07-13 20:30:00,832 basehttp 25988 16768 "POST /api/contracts/ HTTP/1.1" 401 39
WARNING 2025-07-13 20:30:16,324 log 25988 16768 Unauthorized: /api/contracts/
WARNING 2025-07-13 20:30:16,325 basehttp 25988 16768 "POST /api/contracts/ HTTP/1.1" 401 39
INFO 2025-07-13 20:30:53,030 basehttp 25988 6316 "GET /admin/auth/user/ HTTP/1.1" 200 13578
INFO 2025-07-13 20:30:53,230 basehttp 25988 6316 "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-07-13 20:30:56,999 basehttp 25988 6316 "GET /admin/auth/user/1/change/ HTTP/1.1" 200 25364
INFO 2025-07-13 20:30:57,118 basehttp 25988 6316 "GET /static/admin/css/forms.css HTTP/1.1" 200 8525
INFO 2025-07-13 20:30:57,121 basehttp 25988 6316 "GET /static/admin/js/calendar.js HTTP/1.1" 200 9141
INFO 2025-07-13 20:30:57,125 basehttp 25988 6316 "GET /static/admin/css/widgets.css HTTP/1.1" 200 11991
INFO 2025-07-13 20:30:57,128 basehttp 25988 6316 "GET /static/admin/js/admin/DateTimeShortcuts.js HTTP/1.1" 200 19319
INFO 2025-07-13 20:30:57,131 basehttp 25988 6316 "GET /static/admin/js/SelectBox.js HTTP/1.1" 200 4530
INFO 2025-07-13 20:30:57,258 basehttp 25988 6316 "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-07-13 20:30:57,263 basehttp 25988 6316 "GET /static/admin/js/SelectFilter2.js HTTP/1.1" 200 15845
INFO 2025-07-13 20:30:57,268 basehttp 25988 6316 "GET /static/admin/js/prepopulate_init.js HTTP/1.1" 200 586
INFO 2025-07-13 20:30:57,274 basehttp 25988 6316 "GET /static/admin/js/change_form.js HTTP/1.1" 200 606
INFO 2025-07-13 20:30:57,325 basehttp 25988 6316 "GET /static/admin/img/selector-icons.svg HTTP/1.1" 200 3291
INFO 2025-07-13 20:30:57,328 basehttp 25988 6316 "GET /static/admin/img/icon-calendar.svg HTTP/1.1" 200 1086
INFO 2025-07-13 20:30:57,333 basehttp 25988 6316 "GET /static/admin/img/icon-clock.svg HTTP/1.1" 200 677
WARNING 2025-07-13 20:31:25,948 log 25988 16768 Unauthorized: /api/contracts/
WARNING 2025-07-13 20:31:25,949 basehttp 25988 16768 "POST /api/contracts/ HTTP/1.1" 401 39
WARNING 2025-07-13 20:31:35,271 log 25988 16768 Unauthorized: /api/contracts/
WARNING 2025-07-13 20:31:35,272 basehttp 25988 16768 "POST /api/contracts/ HTTP/1.1" 401 39
INFO 2025-07-13 20:31:42,373 basehttp 25988 6316 "GET /admin/auth/user/1/password/ HTTP/1.1" 200 11146
INFO 2025-07-13 20:31:42,427 basehttp 25988 6316 "GET /static/admin/css/unusable_password_field.css HTTP/1.1" 200 663
INFO 2025-07-13 20:31:42,427 basehttp 25988 17544 "GET /static/admin/js/unusable_password_field.js HTTP/1.1" 200 1480
INFO 2025-07-13 20:31:54,494 basehttp 25988 17544 "POST /admin/auth/user/1/password/ HTTP/1.1" 200 11395
INFO 2025-07-13 20:32:07,054 basehttp 25988 17544 "POST /admin/auth/user/1/password/ HTTP/1.1" 302 0
INFO 2025-07-13 20:32:07,927 basehttp 25988 17544 "GET /admin/auth/user/1/change/ HTTP/1.1" 200 25500
INFO 2025-07-13 20:32:08,108 basehttp 25988 17544 "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-07-13 20:32:15,144 basehttp 25988 17544 "POST /admin/logout/ HTTP/1.1" 200 3568
INFO 2025-07-13 20:32:16,660 basehttp 25988 17544 "GET /admin/ HTTP/1.1" 302 0
INFO 2025-07-13 20:32:16,675 basehttp 25988 17544 "GET /admin/login/?next=/admin/ HTTP/1.1" 200 4173
INFO 2025-07-13 20:32:21,346 basehttp 25988 17544 "POST /admin/login/?next=/admin/ HTTP/1.1" 302 0
INFO 2025-07-13 20:32:21,601 basehttp 25988 17544 "GET /admin/ HTTP/1.1" 200 9452
WARNING 2025-07-13 20:32:56,952 log 25988 16768 Unauthorized: /api/contracts/
WARNING 2025-07-13 20:32:56,952 basehttp 25988 16768 "POST /api/contracts/ HTTP/1.1" 401 39
INFO 2025-07-13 20:34:14,550 autoreload 25988 19944 C:\Users\User\Documents\GitHub\Proyecto-grado-ICC\backend\backend\settings.py changed, reloading.
INFO 2025-07-13 20:34:16,619 autoreload 28508 26932 Watching for file changes with StatReloader
INFO 2025-07-13 20:34:25,143 autoreload 28508 26932 C:\Users\User\Documents\GitHub\Proyecto-grado-ICC\backend\backend\urls.py changed, reloading.
INFO 2025-07-13 20:34:26,788 autoreload 26072 2124 Watching for file changes with StatReloader
INFO 2025-07-13 20:39:16,716 autoreload 12328 29320 Watching for file changes with StatReloader
WARNING 2025-07-13 20:40:04,380 log 12328 22664 Unauthorized: /api/contract-types/
WARNING 2025-07-13 20:40:04,381 basehttp 12328 22664 "GET /api/contract-types/ HTTP/1.1" 401 39
WARNING 2025-07-13 20:40:14,763 log 12328 22664 Unauthorized: /api/contract-types/
WARNING 2025-07-13 20:40:14,763 basehttp 12328 22664 "GET /api/contract-types/ HTTP/1.1" 401 39
WARNING 2025-07-13 20:40:34,961 log 12328 22664 Unauthorized: /api/contract-types/
WARNING 2025-07-13 20:40:34,963 basehttp 12328 22664 "GET /api/contract-types/ HTTP/1.1" 401 39
INFO 2025-07-13 20:41:27,041 autoreload 12328 29320 C:\Users\User\Documents\GitHub\Proyecto-grado-ICC\backend\contracts\views.py changed, reloading.
INFO 2025-07-13 20:41:28,592 autoreload 27656 27448 Watching for file changes with StatReloader
INFO 2025-07-13 20:42:09,080 autoreload 27656 27448 C:\Users\User\Documents\GitHub\Proyecto-grado-ICC\backend\contracts\views.py changed, reloading.
INFO 2025-07-13 20:42:10,630 autoreload 13616 19144 Watching for file changes with StatReloader
INFO 2025-07-13 20:42:27,203 autoreload 17552 24980 Watching for file changes with StatReloader
WARNING 2025-07-13 20:43:31,597 log 17552 12308 Unauthorized: /api/contract-types/
WARNING 2025-07-13 20:43:31,598 basehttp 17552 12308 "GET /api/contract-types/ HTTP/1.1" 401 39
INFO 2025-07-13 20:43:41,869 basehttp 17552 29912 "GET /api/contract-types/ HTTP/1.1" 200 1236
WARNING 2025-07-13 20:44:04,208 log 17552 12308 Unauthorized: /api/contracts/
WARNING 2025-07-13 20:44:04,209 basehttp 17552 12308 "POST /api/contracts/ HTTP/1.1" 401 39
INFO 2025-07-13 20:44:46,589 autoreload 17552 24980 C:\Users\User\Documents\GitHub\Proyecto-grado-ICC\backend\backend\settings.py changed, reloading.
INFO 2025-07-13 20:44:48,208 autoreload 2748 6352 Watching for file changes with StatReloader
INFO 2025-07-13 20:44:59,175 autoreload 2748 6352 C:\Users\User\Documents\GitHub\Proyecto-grado-ICC\backend\contracts\views.py changed, reloading.
INFO 2025-07-13 20:45:00,740 autoreload 7796 10268 Watching for file changes with StatReloader
WARNING 2025-07-13 20:45:15,810 log 7796 20756 Unauthorized: /api/contracts/
WARNING 2025-07-13 20:45:54,664 log 7796 26476 Unauthorized: /api/contract-types/
INFO 2025-07-13 20:46:09,345 basehttp 7796 20756 - Broken pipe from ('127.0.0.1', 52320)
WARNING 2025-07-13 20:46:09,346 basehttp 7796 26476 "GET /api/contract-types/ HTTP/1.1" 401 39
INFO 2025-07-13 20:46:18,698 autoreload 17188 17372 Watching for file changes with StatReloader
WARNING 2025-07-13 20:46:59,379 log 17188 5988 Unauthorized: /api/contract-types/
WARNING 2025-07-13 20:46:59,379 basehttp 17188 5988 "GET /api/contract-types/ HTTP/1.1" 401 39
INFO 2025-07-13 20:48:53,432 autoreload 8220 8016 Watching for file changes with StatReloader
INFO 2025-07-13 20:49:13,716 basehttp 8220 12312 "GET /api/contract-types/ HTTP/1.1" 200 1236
ERROR 2025-07-13 20:49:34,146 log 8220 12312 Internal Server Error: /api/contracts/
Traceback (most recent call last):
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\mixins.py", line 19, in create
    self.perform_create(serializer)
  File "C:\Users\User\Documents\GitHub\Proyecto-grado-ICC\backend\contracts\views.py", line 61, in perform_create
    contract = serializer.save(uploaded_by=default_user)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\Documents\GitHub\Proyecto-grado-ICC\backend\contracts\serializers.py", line 134, in create
    return super().create(validated_data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\serializers.py", line 989, in create
    instance = ModelClass._default_manager.create(**validated_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 661, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\base.py", line 545, in __init__
    _setattr(self, field.name, rel_obj)
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\fields\related_descriptors.py", line 291, in __set__
    raise ValueError(
ValueError: Cannot assign "<django.contrib.auth.models.AnonymousUser object at 0x0000017B31655F50>": "Contract.uploaded_by" must be a "User" instance.
ERROR 2025-07-13 20:49:34,163 basehttp 8220 12312 "POST /api/contracts/ HTTP/1.1" 500 185034
INFO 2025-07-13 20:50:14,636 autoreload 8220 8016 C:\Users\User\Documents\GitHub\Proyecto-grado-ICC\backend\contracts\serializers.py changed, reloading.
INFO 2025-07-13 20:50:16,162 autoreload 18120 7160 Watching for file changes with StatReloader
INFO 2025-07-13 20:50:31,350 autoreload 2044 16928 Watching for file changes with StatReloader
INFO 2025-07-13 20:50:44,276 basehttp 2044 18940 "GET /api/contract-types/ HTTP/1.1" 200 1236
INFO 2025-07-13 20:51:03,955 ml_service 2044 18940 Iniciando análisis de contrato...
INFO 2025-07-13 20:51:03,956 ml_service 2044 18940 Iniciando extracción de cláusulas con GPT
INFO 2025-07-13 20:51:17,831 ml_service 2044 18940 Cláusulas extraídas exitosamente con GPT: 16 cláusulas.
INFO 2025-07-13 20:51:17,840 ml_service 2044 18940 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 20:51:17,841 ml_service 2044 18940 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 20:51:18,870 ml_service 2044 18940 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'General'}
INFO 2025-07-13 20:51:18,937 ml_service 2044 18940 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 20:51:18,937 ml_service 2044 18940 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 20:51:20,298 ml_service 2044 18940 Resultado del análisis GPT: {'is_valid_clause': False, 'is_abusive': False, 'explanation': '', 'abusive_reason': '', 'clause_type': 'Otro'}
INFO 2025-07-13 20:51:20,300 ml_service 2044 18940 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 20:51:20,301 ml_service 2044 18940 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 20:51:21,677 ml_service 2044 18940 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': '', 'abusive_reason': '', 'clause_type': 'Obligaciones'}
INFO 2025-07-13 20:51:21,698 ml_service 2044 18940 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 20:51:21,699 ml_service 2044 18940 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 20:51:22,913 ml_service 2044 18940 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Duración'}
INFO 2025-07-13 20:51:22,923 ml_service 2044 18940 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 20:51:22,924 ml_service 2044 18940 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 20:51:24,283 ml_service 2044 18940 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': '', 'abusive_reason': '', 'clause_type': 'Obligaciones'}
INFO 2025-07-13 20:51:24,318 ml_service 2044 18940 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 20:51:24,318 ml_service 2044 18940 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 20:51:25,682 ml_service 2044 18940 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Obligaciones'}
INFO 2025-07-13 20:51:25,696 ml_service 2044 18940 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 20:51:25,697 ml_service 2044 18940 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 20:51:26,513 ml_service 2044 18940 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Pago'}
INFO 2025-07-13 20:51:26,546 ml_service 2044 18940 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 20:51:26,546 ml_service 2044 18940 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 20:51:27,351 ml_service 2044 18940 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': '', 'abusive_reason': '', 'clause_type': 'Duración'}
INFO 2025-07-13 20:51:27,367 ml_service 2044 18940 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 20:51:27,367 ml_service 2044 18940 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 20:51:28,295 ml_service 2044 18940 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Duración'}
INFO 2025-07-13 20:51:28,339 ml_service 2044 18940 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 20:51:28,340 ml_service 2044 18940 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 20:51:29,382 ml_service 2044 18940 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Pago'}
INFO 2025-07-13 20:51:29,409 ml_service 2044 18940 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 20:51:29,410 ml_service 2044 18940 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 20:51:30,185 ml_service 2044 18940 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Obligaciones'}
INFO 2025-07-13 20:51:30,207 ml_service 2044 18940 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 20:51:30,208 ml_service 2044 18940 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 20:51:31,072 ml_service 2044 18940 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Obligaciones'}
INFO 2025-07-13 20:51:31,088 ml_service 2044 18940 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 20:51:31,088 ml_service 2044 18940 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 20:51:32,007 ml_service 2044 18940 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Pago'}
INFO 2025-07-13 20:51:32,019 ml_service 2044 18940 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 20:51:32,020 ml_service 2044 18940 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 20:51:32,805 ml_service 2044 18940 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': '', 'abusive_reason': '', 'clause_type': 'General'}
INFO 2025-07-13 20:51:32,834 ml_service 2044 18940 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 20:51:32,835 ml_service 2044 18940 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 20:51:33,840 ml_service 2044 18940 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Resolución de Disputas'}
INFO 2025-07-13 20:51:33,866 ml_service 2044 18940 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 20:51:33,867 ml_service 2044 18940 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 20:51:34,548 ml_service 2044 18940 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'General'}
INFO 2025-07-13 20:51:34,565 ml_service 2044 18940 Iniciando análisis OpenAI para 10 cláusulas
DEBUG 2025-07-13 20:51:34,565 ml_service 2044 18940 Enviando solicitud a OpenAI API para análisis general
DEBUG 2025-07-13 20:51:37,709 ml_service 2044 18940 Análisis recibido: {'resumen': 'Las cláusulas del contrato contienen disposiciones que podrían limitar los derechos del inquilino y favorecer en exceso a la propietaria, generando desequilibrio en la relación contractual.', 'recomendaciones': ['Solicitar una revisión detallada de las cláusulas por parte de un abogado especializado en arrendamientos para identificar posibles abusos y sugerir modificaciones equitativas.', 'Negociar con la propietaria para eliminar o modificar cláusulas que impongan cargas excesivas al inquilino, como la penalidad por rescisión anticipada o la obligación de pagar recargos por mora.', 'Buscar asesoramiento sobre la legalidad y equidad de la cláusula que establece al fiador solidario, considerando alternativas para proteger los intereses del inquilino sin imponer una carga excesiva al fiador.']}
INFO 2025-07-13 20:51:37,709 ml_service 2044 18940 Análisis completado en 33.75 segundos.
ERROR 2025-07-13 20:51:37,931 views 2044 18940 Error en análisis síncrono: value too long for type character varying(20)

Traceback (most recent call last):
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.StringDataRightTruncation: value too long for type character varying(20)


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\User\Documents\GitHub\Proyecto-grado-ICC\backend\contracts\views.py", line 246, in trigger_analysis_sync
    Clause.objects.create(
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 663, in create
    obj.save(force_insert=True, using=self.db)
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\base.py", line 1008, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\base.py", line 1169, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\base.py", line 1210, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 1868, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\sql\compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.DataError: value too long for type character varying(20)


INFO 2025-07-13 20:51:37,934 basehttp 2044 18940 "POST /api/contracts/ HTTP/1.1" 201 3745
INFO 2025-07-13 20:51:41,578 basehttp 2044 21136 "OPTIONS /api/contracts/2d02be01-6536-4fe9-8506-77c493d193d0/ HTTP/1.1" 200 0
INFO 2025-07-13 20:51:41,580 basehttp 2044 12956 "OPTIONS /api/clauses/?contract=2d02be01-6536-4fe9-8506-77c493d193d0 HTTP/1.1" 200 0
WARNING 2025-07-13 20:51:41,588 log 2044 7948 Forbidden: /api/clauses/
WARNING 2025-07-13 20:51:41,588 basehttp 2044 7948 "GET /api/clauses/?contract=2d02be01-6536-4fe9-8506-77c493d193d0 HTTP/1.1" 403 63
INFO 2025-07-13 20:51:42,000 basehttp 2044 18940 "GET /api/contracts/2d02be01-6536-4fe9-8506-77c493d193d0/ HTTP/1.1" 200 5348
WARNING 2025-07-13 20:51:42,600 log 2044 18940 Forbidden: /api/clauses/
WARNING 2025-07-13 20:51:42,602 basehttp 2044 18940 "GET /api/clauses/?contract=2d02be01-6536-4fe9-8506-77c493d193d0 HTTP/1.1" 403 63
WARNING 2025-07-13 20:51:44,614 log 2044 18940 Forbidden: /api/clauses/
WARNING 2025-07-13 20:51:44,615 basehttp 2044 18940 "GET /api/clauses/?contract=2d02be01-6536-4fe9-8506-77c493d193d0 HTTP/1.1" 403 63
INFO 2025-07-13 20:53:04,299 autoreload 2044 16928 C:\Users\User\Documents\GitHub\Proyecto-grado-ICC\backend\contracts\models.py changed, reloading.
INFO 2025-07-13 20:53:05,901 autoreload 27288 14384 Watching for file changes with StatReloader
INFO 2025-07-13 20:54:45,991 autoreload 7076 7872 Watching for file changes with StatReloader
INFO 2025-07-13 20:55:07,472 basehttp 7076 21996 "OPTIONS /api/contracts/2d02be01-6536-4fe9-8506-77c493d193d0/analyze/ HTTP/1.1" 200 0
INFO 2025-07-13 20:55:08,889 ml_service 7076 5620 Iniciando análisis de contrato...
INFO 2025-07-13 20:55:08,890 ml_service 7076 5620 Iniciando extracción de cláusulas con GPT
INFO 2025-07-13 20:55:22,123 ml_service 7076 5620 Cláusulas extraídas exitosamente con GPT: 16 cláusulas.
INFO 2025-07-13 20:55:22,125 ml_service 7076 5620 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 20:55:22,125 ml_service 7076 5620 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 20:55:23,993 ml_service 7076 5620 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'General'}
INFO 2025-07-13 20:55:24,048 ml_service 7076 5620 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 20:55:24,049 ml_service 7076 5620 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 20:55:28,828 ml_service 7076 5620 Resultado del análisis GPT: {'is_valid_clause': False, 'is_abusive': False, 'explanation': '', 'abusive_reason': '', 'clause_type': 'Otro'}
INFO 2025-07-13 20:55:28,833 ml_service 7076 5620 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 20:55:28,834 ml_service 7076 5620 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 20:55:34,933 ml_service 7076 5620 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Obligaciones'}
INFO 2025-07-13 20:55:34,968 ml_service 7076 5620 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 20:55:34,969 ml_service 7076 5620 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 20:55:37,041 ml_service 7076 5620 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Duración'}
INFO 2025-07-13 20:55:37,052 ml_service 7076 5620 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 20:55:37,052 ml_service 7076 5620 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 20:55:37,924 ml_service 7076 5620 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Obligaciones'}
INFO 2025-07-13 20:55:37,948 ml_service 7076 5620 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 20:55:37,949 ml_service 7076 5620 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 20:55:39,821 ml_service 7076 5620 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Obligaciones'}
INFO 2025-07-13 20:55:39,833 ml_service 7076 5620 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 20:55:39,833 ml_service 7076 5620 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 20:55:40,935 ml_service 7076 5620 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Pago'}
INFO 2025-07-13 20:55:40,971 ml_service 7076 5620 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 20:55:40,972 ml_service 7076 5620 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 20:55:41,703 ml_service 7076 5620 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Duración'}
INFO 2025-07-13 20:55:41,737 ml_service 7076 5620 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 20:55:41,738 ml_service 7076 5620 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 20:55:45,358 ml_service 7076 5620 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Duración'}
INFO 2025-07-13 20:55:45,387 ml_service 7076 5620 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 20:55:45,387 ml_service 7076 5620 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 20:55:46,130 ml_service 7076 5620 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Pago'}
INFO 2025-07-13 20:55:46,163 ml_service 7076 5620 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 20:55:46,164 ml_service 7076 5620 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 20:55:46,937 ml_service 7076 5620 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Obligaciones'}
INFO 2025-07-13 20:55:46,974 ml_service 7076 5620 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 20:55:46,975 ml_service 7076 5620 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 20:55:47,748 ml_service 7076 5620 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': '', 'abusive_reason': '', 'clause_type': 'Obligaciones'}
INFO 2025-07-13 20:55:47,763 ml_service 7076 5620 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 20:55:47,763 ml_service 7076 5620 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 20:55:48,540 ml_service 7076 5620 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Pago'}
INFO 2025-07-13 20:55:48,565 ml_service 7076 5620 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 20:55:48,566 ml_service 7076 5620 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 20:55:49,875 ml_service 7076 5620 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': '', 'abusive_reason': '', 'clause_type': 'Terminación'}
INFO 2025-07-13 20:55:49,902 ml_service 7076 5620 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 20:55:49,903 ml_service 7076 5620 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 20:55:50,757 ml_service 7076 5620 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Resolución de Disputas'}
INFO 2025-07-13 20:55:50,783 ml_service 7076 5620 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 20:55:50,784 ml_service 7076 5620 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 20:55:51,510 ml_service 7076 5620 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': '', 'abusive_reason': '', 'clause_type': 'General'}
INFO 2025-07-13 20:55:51,539 ml_service 7076 5620 Iniciando análisis OpenAI para 10 cláusulas
DEBUG 2025-07-13 20:55:51,540 ml_service 7076 5620 Enviando solicitud a OpenAI API para análisis general
DEBUG 2025-07-13 20:55:54,253 ml_service 7076 5620 Análisis recibido: {'resumen': 'Las cláusulas del contrato presentan riesgos para el inquilino al limitar su libertad de subarrendar, imponer penalidades por rescisión anticipada y establecer obligaciones financieras y de mantenimiento desproporcionadas.', 'recomendaciones': ['Negociar la cláusula de penalidad por rescisión anticipada para que sea más equitativa y proporcional a los daños reales sufridos por la propietaria.', 'Revisar y ajustar las responsabilidades financieras y de mantenimiento del inquilino para garantizar que sean justas y razonables.', 'Evaluar la inclusión de cláusulas que protejan los derechos del inquilino, como la posibilidad de ceder el contrato con autorización previa.']}
INFO 2025-07-13 20:55:54,254 ml_service 7076 5620 Análisis completado en 45.37 segundos.
ERROR 2025-07-13 20:55:54,465 views 7076 5620 Error en análisis síncrono: value too long for type character varying(20)

Traceback (most recent call last):
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.StringDataRightTruncation: value too long for type character varying(20)


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\User\Documents\GitHub\Proyecto-grado-ICC\backend\contracts\views.py", line 246, in trigger_analysis_sync
    Clause.objects.create(
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 663, in create
    obj.save(force_insert=True, using=self.db)
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\base.py", line 1008, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\base.py", line 1169, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\base.py", line 1210, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 1868, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\sql\compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.DataError: value too long for type character varying(20)


INFO 2025-07-13 20:55:54,534 basehttp 7076 5620 "POST /api/contracts/2d02be01-6536-4fe9-8506-77c493d193d0/analyze/ HTTP/1.1" 200 122
INFO 2025-07-13 20:55:54,938 basehttp 7076 5620 "GET /api/contracts/2d02be01-6536-4fe9-8506-77c493d193d0/ HTTP/1.1" 200 5348
INFO 2025-07-13 20:56:56,347 autoreload 7076 7872 C:\Users\User\Documents\GitHub\Proyecto-grado-ICC\backend\contracts\models.py changed, reloading.
INFO 2025-07-13 20:56:58,054 autoreload 27696 9568 Watching for file changes with StatReloader
INFO 2025-07-13 21:00:44,628 autoreload 27696 9568 C:\Users\User\Documents\GitHub\Proyecto-grado-ICC\backend\contracts\models.py changed, reloading.
INFO 2025-07-13 21:00:46,297 autoreload 22080 14276 Watching for file changes with StatReloader
INFO 2025-07-13 21:03:24,564 autoreload 25388 22724 Watching for file changes with StatReloader
INFO 2025-07-13 21:03:38,568 ml_service 25388 15160 Iniciando análisis de contrato...
INFO 2025-07-13 21:03:38,568 ml_service 25388 15160 Iniciando extracción de cláusulas con GPT
INFO 2025-07-13 21:04:03,527 ml_service 25388 15160 Cláusulas extraídas exitosamente con GPT: 16 cláusulas.
INFO 2025-07-13 21:04:03,534 ml_service 25388 15160 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 21:04:03,535 ml_service 25388 15160 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 21:04:04,426 ml_service 25388 15160 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'General'}
INFO 2025-07-13 21:04:04,488 ml_service 25388 15160 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 21:04:04,488 ml_service 25388 15160 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 21:04:05,424 ml_service 25388 15160 Resultado del análisis GPT: {'is_valid_clause': False, 'is_abusive': False, 'explanation': '', 'abusive_reason': '', 'clause_type': 'General'}
INFO 2025-07-13 21:04:05,429 ml_service 25388 15160 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 21:04:05,430 ml_service 25388 15160 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 21:04:06,242 ml_service 25388 15160 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Obligaciones'}
INFO 2025-07-13 21:04:06,280 ml_service 25388 15160 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 21:04:06,281 ml_service 25388 15160 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 21:04:07,231 ml_service 25388 15160 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Duración'}
INFO 2025-07-13 21:04:07,254 ml_service 25388 15160 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 21:04:07,255 ml_service 25388 15160 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 21:04:08,329 ml_service 25388 15160 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Obligaciones'}
INFO 2025-07-13 21:04:08,369 ml_service 25388 15160 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 21:04:08,369 ml_service 25388 15160 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 21:04:09,464 ml_service 25388 15160 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Obligaciones'}
INFO 2025-07-13 21:04:09,479 ml_service 25388 15160 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 21:04:09,480 ml_service 25388 15160 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 21:04:10,460 ml_service 25388 15160 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Pago'}
INFO 2025-07-13 21:04:10,479 ml_service 25388 15160 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 21:04:10,480 ml_service 25388 15160 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 21:04:11,463 ml_service 25388 15160 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Duración'}
INFO 2025-07-13 21:04:11,486 ml_service 25388 15160 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 21:04:11,486 ml_service 25388 15160 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 21:04:12,407 ml_service 25388 15160 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': '', 'abusive_reason': '', 'clause_type': 'Duración'}
INFO 2025-07-13 21:04:12,445 ml_service 25388 15160 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 21:04:12,446 ml_service 25388 15160 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 21:04:13,404 ml_service 25388 15160 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Pago'}
INFO 2025-07-13 21:04:13,434 ml_service 25388 15160 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 21:04:13,435 ml_service 25388 15160 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 21:04:14,540 ml_service 25388 15160 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': '', 'abusive_reason': '', 'clause_type': 'Obligaciones'}
INFO 2025-07-13 21:04:14,576 ml_service 25388 15160 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 21:04:14,577 ml_service 25388 15160 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 21:04:15,832 ml_service 25388 15160 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Obligaciones'}
INFO 2025-07-13 21:04:15,860 ml_service 25388 15160 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 21:04:15,861 ml_service 25388 15160 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 21:04:17,939 ml_service 25388 15160 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Pago'}
INFO 2025-07-13 21:04:17,957 ml_service 25388 15160 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 21:04:17,957 ml_service 25388 15160 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 21:04:18,753 ml_service 25388 15160 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Terminación'}
INFO 2025-07-13 21:04:18,769 ml_service 25388 15160 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 21:04:18,770 ml_service 25388 15160 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 21:04:19,898 ml_service 25388 15160 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Resolución de Disputas'}
INFO 2025-07-13 21:04:19,930 ml_service 25388 15160 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 21:04:19,930 ml_service 25388 15160 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 21:04:20,994 ml_service 25388 15160 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': '', 'abusive_reason': '', 'clause_type': 'General'}
INFO 2025-07-13 21:04:21,023 ml_service 25388 15160 Iniciando análisis OpenAI para 10 cláusulas
DEBUG 2025-07-13 21:04:21,024 ml_service 25388 15160 Enviando solicitud a OpenAI API para análisis general
DEBUG 2025-07-13 21:04:23,162 ml_service 25388 15160 Análisis recibido: {'resumen': 'Las cláusulas del contrato presentan desequilibrio de derechos a favor de la propietaria, imponiendo cargas excesivas al inquilino y limitando su libertad de acción.', 'recomendaciones': ['Negociar cláusulas más equitativas que protejan los derechos e intereses del inquilino.', 'Revisar la cláusula de penalidad por rescisión anticipada para asegurar que sea razonable y proporcional.', 'Consultar con un abogado especializado en arrendamientos para verificar la legalidad y equidad de las cláusulas del contrato.']}
INFO 2025-07-13 21:04:23,163 ml_service 25388 15160 Análisis completado en 44.59 segundos.
INFO 2025-07-13 21:04:24,309 basehttp 25388 15160 "POST /api/contracts/2d02be01-6536-4fe9-8506-77c493d193d0/analyze/ HTTP/1.1" 200 139
INFO 2025-07-13 21:04:25,631 basehttp 25388 15160 "GET /api/contracts/2d02be01-6536-4fe9-8506-77c493d193d0/ HTTP/1.1" 200 15674
WARNING 2025-07-13 21:04:25,670 log 25388 15160 Forbidden: /api/clauses/
WARNING 2025-07-13 21:04:25,671 basehttp 25388 15160 "GET /api/clauses/?contract=2d02be01-6536-4fe9-8506-77c493d193d0 HTTP/1.1" 403 63
WARNING 2025-07-13 21:04:26,691 log 25388 15160 Forbidden: /api/clauses/
WARNING 2025-07-13 21:04:26,692 basehttp 25388 15160 "GET /api/clauses/?contract=2d02be01-6536-4fe9-8506-77c493d193d0 HTTP/1.1" 403 63
WARNING 2025-07-13 21:04:28,709 log 25388 15160 Forbidden: /api/clauses/
WARNING 2025-07-13 21:04:28,711 basehttp 25388 15160 "GET /api/clauses/?contract=2d02be01-6536-4fe9-8506-77c493d193d0 HTTP/1.1" 403 63
INFO 2025-07-13 21:05:39,778 autoreload 25388 22724 C:\Users\User\Documents\GitHub\Proyecto-grado-ICC\backend\contracts\views.py changed, reloading.
INFO 2025-07-13 21:05:41,487 autoreload 14240 17576 Watching for file changes with StatReloader
INFO 2025-07-13 21:06:17,079 basehttp 14240 22240 "GET /api/clauses/?contract=2d02be01-6536-4fe9-8506-77c493d193d0 HTTP/1.1" 200 11518
INFO 2025-07-13 21:06:17,202 basehttp 14240 30224 "GET /api/contracts/2d02be01-6536-4fe9-8506-77c493d193d0/ HTTP/1.1" 200 15674
INFO 2025-07-13 21:06:18,489 basehttp 14240 30224 "GET /api/clauses/?contract=2d02be01-6536-4fe9-8506-77c493d193d0 HTTP/1.1" 200 11518
INFO 2025-07-13 21:09:29,098 basehttp 14240 22440 "OPTIONS /api/contracts/dashboard_stats/ HTTP/1.1" 200 0
INFO 2025-07-13 21:09:29,101 basehttp 14240 25072 "OPTIONS /api/contracts/?page_size=5 HTTP/1.1" 200 0
INFO 2025-07-13 21:09:29,376 basehttp 14240 22240 "GET /api/contracts/?page_size=5 HTTP/1.1" 200 429
INFO 2025-07-13 21:09:29,765 basehttp 14240 30224 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 200 512
INFO 2025-07-13 21:09:36,289 basehttp 14240 22240 "GET /api/clauses/?contract=2d02be01-6536-4fe9-8506-77c493d193d0 HTTP/1.1" 200 11518
INFO 2025-07-13 21:09:36,411 basehttp 14240 30224 "GET /api/contracts/2d02be01-6536-4fe9-8506-77c493d193d0/ HTTP/1.1" 200 15674
INFO 2025-07-13 21:11:59,204 basehttp 14240 30224 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 200 512
INFO 2025-07-13 21:12:01,357 basehttp 14240 30224 "GET /api/contract-types/ HTTP/1.1" 200 1236
INFO 2025-07-13 21:12:26,313 ml_service 14240 30224 Iniciando análisis de contrato...
INFO 2025-07-13 21:12:26,313 ml_service 14240 30224 Iniciando extracción de cláusulas con GPT
INFO 2025-07-13 21:12:39,821 ml_service 14240 30224 Cláusulas extraídas exitosamente con GPT: 16 cláusulas.
INFO 2025-07-13 21:12:39,828 ml_service 14240 30224 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 21:12:39,829 ml_service 14240 30224 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 21:12:41,061 ml_service 14240 30224 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': '', 'abusive_reason': '', 'clause_type': 'General'}
INFO 2025-07-13 21:12:41,107 ml_service 14240 30224 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 21:12:41,107 ml_service 14240 30224 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 21:12:42,103 ml_service 14240 30224 Resultado del análisis GPT: {'is_valid_clause': False, 'is_abusive': False, 'explanation': '', 'abusive_reason': '', 'clause_type': 'Otro'}
INFO 2025-07-13 21:12:42,106 ml_service 14240 30224 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 21:12:42,112 ml_service 14240 30224 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 21:12:43,164 ml_service 14240 30224 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Pago'}
INFO 2025-07-13 21:12:43,181 ml_service 14240 30224 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 21:12:43,181 ml_service 14240 30224 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 21:12:43,976 ml_service 14240 30224 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': '', 'abusive_reason': '', 'clause_type': 'Obligaciones'}
INFO 2025-07-13 21:12:44,007 ml_service 14240 30224 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 21:12:44,008 ml_service 14240 30224 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 21:12:44,887 ml_service 14240 30224 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': '', 'abusive_reason': '', 'clause_type': 'Obligaciones'}
INFO 2025-07-13 21:12:44,909 ml_service 14240 30224 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 21:12:44,909 ml_service 14240 30224 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 21:12:46,111 ml_service 14240 30224 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': '', 'abusive_reason': '', 'clause_type': 'Obligaciones'}
INFO 2025-07-13 21:12:46,135 ml_service 14240 30224 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 21:12:46,136 ml_service 14240 30224 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 21:12:48,794 ml_service 14240 30224 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'La cláusula es abusiva porque limita los derechos del inquilino de acceder a la propiedad al cambiar las cerraduras sin previo aviso.', 'abusive_reason': 'La cláusula es abusiva porque crea un desequilibrio significativo entre las partes al otorgar un poder excesivo a la propietaria, limitando el derecho fundamental del inquilino de acceder a la propiedad. Esto vulnera el principio de equidad y buena fe, así como el derecho a la propiedad y a la inviolabilidad del domicilio establecidos en la Constitución de la República Dominicana.', 'clause_type': 'Pago'}
INFO 2025-07-13 21:12:48,824 ml_service 14240 30224 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 21:12:48,825 ml_service 14240 30224 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 21:12:49,637 ml_service 14240 30224 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': '', 'abusive_reason': '', 'clause_type': 'Duración'}
INFO 2025-07-13 21:12:49,661 ml_service 14240 30224 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 21:12:49,661 ml_service 14240 30224 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 21:12:51,989 ml_service 14240 30224 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'La cláusula es abusiva porque impone un aumento automático del 30% en el alquiler sin previo aviso, creando un desequilibrio significativo en perjuicio del inquilino.', 'abusive_reason': 'La cláusula es abusiva porque impone una modificación unilateral del contrato sin consentimiento del inquilino, lo cual vulnera el principio de buena fe y equidad establecido en el Código Civil Dominicano. Además, al no requerir previo aviso, limita los derechos del inquilino a conocer y negociar las condiciones de renovación del contrato.', 'clause_type': 'Obligaciones'}
INFO 2025-07-13 21:12:52,003 ml_service 14240 30224 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 21:12:52,004 ml_service 14240 30224 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 21:12:53,167 ml_service 14240 30224 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Pago'}
INFO 2025-07-13 21:12:53,187 ml_service 14240 30224 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 21:12:53,188 ml_service 14240 30224 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 21:12:53,896 ml_service 14240 30224 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Obligaciones'}
INFO 2025-07-13 21:12:53,923 ml_service 14240 30224 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 21:12:53,924 ml_service 14240 30224 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 21:12:55,169 ml_service 14240 30224 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Terminación'}
INFO 2025-07-13 21:12:55,199 ml_service 14240 30224 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 21:12:55,200 ml_service 14240 30224 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 21:12:55,950 ml_service 14240 30224 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': None, 'abusive_reason': None, 'clause_type': 'Pago'}
INFO 2025-07-13 21:12:55,977 ml_service 14240 30224 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 21:12:55,978 ml_service 14240 30224 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 21:12:57,864 ml_service 14240 30224 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'La cláusula es abusiva ya que permite a una sola parte, LA PROPIETARIA, modificar las condiciones del contrato sin previo aviso, creando un desequilibrio significativo en favor de dicha parte.', 'abusive_reason': 'Esta cláusula es abusiva porque otorga un poder unilateral a LA PROPIETARIA para modificar las condiciones del contrato sin previo aviso, lo cual crea un desequilibrio significativo entre las partes. Esta situación vulnera el principio de buena fe y equidad, así como el derecho a la seguridad jurídica de la otra parte contratante, contraviniendo el artículo 1134 del Código Civil Dominicano que establece la obligación de cumplir con lo pactado de buena fe.', 'clause_type': 'Otro'}
INFO 2025-07-13 21:12:57,878 ml_service 14240 30224 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 21:12:57,878 ml_service 14240 30224 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 21:12:59,635 ml_service 14240 30224 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'La cláusula es abusiva ya que limita los derechos del inquilino de manera desproporcionada.', 'abusive_reason': 'La cláusula es abusiva porque al renunciar expresamente a cualquier reclamación legal o disputa, el inquilino se ve privado de sus derechos fundamentales a recurrir a la justicia en caso de incumplimiento del contrato. Esto crea un desequilibrio significativo entre las partes y viola el principio de equidad y buena fe. En República Dominicana, esta cláusula podría considerarse abusiva por vulnerar el principio de igualdad de las partes en la relación contractual, así como el derecho a la tutela judicial efectiva.', 'clause_type': 'General'}
INFO 2025-07-13 21:12:59,655 ml_service 14240 30224 Iniciando validación GPT para cláusula
DEBUG 2025-07-13 21:12:59,656 ml_service 14240 30224 Enviando solicitud a OpenAI API con prompt: 
            Analiza el siguiente texto de un contrato legal y responde en formato JSON con las sigu...
DEBUG 2025-07-13 21:13:00,778 ml_service 14240 30224 Resultado del análisis GPT: {'is_valid_clause': True, 'is_abusive': False, 'explanation': '', 'abusive_reason': '', 'clause_type': 'General'}
INFO 2025-07-13 21:13:00,804 ml_service 14240 30224 Iniciando análisis OpenAI para 14 cláusulas
DEBUG 2025-07-13 21:13:00,805 ml_service 14240 30224 Enviando solicitud a OpenAI API para análisis general
DEBUG 2025-07-13 21:13:02,770 ml_service 14240 30224 Análisis recibido: {'resumen': 'Las cláusulas del contrato presentan desequilibrios significativos de derechos a favor de la propietaria, imponiendo cargas excesivas al inquilino y limitando sus derechos fundamentales.', 'recomendaciones': ['Negociar cláusulas más equitativas que respeten los derechos y obligaciones de ambas partes.', 'Consultar con un abogado especializado en arrendamientos para revisar y modificar las cláusulas abusivas.', 'Informarse sobre la normativa vigente en República Dominicana que protege a los inquilinos y establece límites a las cláusulas abusivas en contratos de arrendamiento.']}
INFO 2025-07-13 21:13:02,770 ml_service 14240 30224 Análisis completado en 36.46 segundos.
INFO 2025-07-13 21:13:03,913 basehttp 14240 30224 "POST /api/contracts/ HTTP/1.1" 201 3392
INFO 2025-07-13 21:13:04,020 basehttp 14240 25072 "OPTIONS /api/contracts/25d87e04-7f09-4399-9609-26231fbf196a/ HTTP/1.1" 200 0
INFO 2025-07-13 21:13:04,031 basehttp 14240 22440 "OPTIONS /api/clauses/?contract=25d87e04-7f09-4399-9609-26231fbf196a HTTP/1.1" 200 0
INFO 2025-07-13 21:13:05,304 basehttp 14240 22240 "GET /api/clauses/?contract=25d87e04-7f09-4399-9609-26231fbf196a HTTP/1.1" 200 13218
INFO 2025-07-13 21:13:05,422 basehttp 14240 30224 "GET /api/contracts/25d87e04-7f09-4399-9609-26231fbf196a/ HTTP/1.1" 200 17021
INFO 2025-07-13 21:13:06,717 basehttp 14240 30224 "GET /api/clauses/?contract=25d87e04-7f09-4399-9609-26231fbf196a HTTP/1.1" 200 13218
INFO 2025-07-13 21:21:47,978 basehttp 14240 23972 "GET /admin/contracts/clause/ HTTP/1.1" 200 36631
INFO 2025-07-13 21:21:48,117 basehttp 14240 11040 "GET /static/admin/img/icon-no.svg HTTP/1.1" 200 560
INFO 2025-07-13 21:21:48,175 basehttp 14240 23972 "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-07-13 21:21:53,773 basehttp 14240 23972 "GET /admin/contracts/contract/ HTTP/1.1" 200 15344
INFO 2025-07-13 21:21:53,962 basehttp 14240 23972 "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-07-16 12:03:52,899 autoreload 20116 11072 Watching for file changes with StatReloader
INFO 2025-07-16 12:25:57,587 ml_service 7000 19924 Iniciando extracción de cláusulas con LLM
DEBUG 2025-07-16 12:25:57,588 ml_service 7000 19924 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
ERROR 2025-07-16 12:26:43,081 ml_service 7000 19924 Error en el análisis del LLM: HTTPSConnectionPool(host='api.together.xyz', port=443): Read timed out. (read timeout=45)
Traceback (most recent call last):
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\urllib3\connectionpool.py", line 534, in _make_request
    response = conn.getresponse()
               ^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\urllib3\connection.py", line 565, in getresponse
    httplib_response = super().getresponse()
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\http\client.py", line 1395, in getresponse
    response.begin()
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\http\client.py", line 325, in begin
    version, status, reason = self._read_status()
                              ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\http\client.py", line 286, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\socket.py", line 718, in readinto
    return self._sock.recv_into(b)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\ssl.py", line 1314, in recv_into
    return self.read(nbytes, buffer)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\ssl.py", line 1166, in read
    return self._sslobj.read(len, buffer)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TimeoutError: The read operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\urllib3\util\retry.py", line 474, in increment
    raise reraise(type(error), error, _stacktrace)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\urllib3\util\util.py", line 39, in reraise
    raise value
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\urllib3\connectionpool.py", line 536, in _make_request
    self._raise_timeout(err=e, url=url, timeout_value=read_timeout)
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\urllib3\connectionpool.py", line 367, in _raise_timeout
    raise ReadTimeoutError(
urllib3.exceptions.ReadTimeoutError: HTTPSConnectionPool(host='api.together.xyz', port=443): Read timed out. (read timeout=45)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\User\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 107, in _call_llm_api
    response = requests.post(base_url, headers=headers, json=data, timeout=45)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\requests\adapters.py", line 713, in send
    raise ReadTimeout(e, request=request)
requests.exceptions.ReadTimeout: HTTPSConnectionPool(host='api.together.xyz', port=443): Read timed out. (read timeout=45)
ERROR 2025-07-16 12:26:43,104 ml_service 7000 19924 No se pudieron extraer cláusulas con el LLM.
Traceback (most recent call last):
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\urllib3\connectionpool.py", line 534, in _make_request
    response = conn.getresponse()
               ^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\urllib3\connection.py", line 565, in getresponse
    httplib_response = super().getresponse()
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\http\client.py", line 1395, in getresponse
    response.begin()
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\http\client.py", line 325, in begin
    version, status, reason = self._read_status()
                              ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\http\client.py", line 286, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\socket.py", line 718, in readinto
    return self._sock.recv_into(b)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\ssl.py", line 1314, in recv_into
    return self.read(nbytes, buffer)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\ssl.py", line 1166, in read
    return self._sslobj.read(len, buffer)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TimeoutError: The read operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\urllib3\util\retry.py", line 474, in increment
    raise reraise(type(error), error, _stacktrace)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\urllib3\util\util.py", line 39, in reraise
    raise value
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\urllib3\connectionpool.py", line 536, in _make_request
    self._raise_timeout(err=e, url=url, timeout_value=read_timeout)
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\urllib3\connectionpool.py", line 367, in _raise_timeout
    raise ReadTimeoutError(
urllib3.exceptions.ReadTimeoutError: HTTPSConnectionPool(host='api.together.xyz', port=443): Read timed out. (read timeout=45)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\User\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 192, in _extract_clauses_with_llm
    analysis = self._call_llm_api(prompt, system_message)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 107, in _call_llm_api
    response = requests.post(base_url, headers=headers, json=data, timeout=45)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\requests\adapters.py", line 713, in send
    raise ReadTimeout(e, request=request)
requests.exceptions.ReadTimeout: HTTPSConnectionPool(host='api.together.xyz', port=443): Read timed out. (read timeout=45)
INFO 2025-07-16 12:27:48,231 ml_service 4248 9004 Iniciando extracción de cláusulas con LLM
DEBUG 2025-07-16 12:27:48,231 ml_service 4248 9004 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-07-16 12:27:52,873 ml_service 4248 9004 Análisis LLM recibido: {'clauses': [{'clause_number': 'PRIMERO', 'text': 'El Propietario, Juan Pérez, alquila a la Inquilina, María Gómez, el apartamento 3B del residencial Los Prados, Santo Domingo.'}, {'clause_number': 'SEGUNDO', 'text': 'El precio mensual del alquiler se fija en veinte mil pesos dominicanos (RD$20,000.00).'}, {'clause_number': 'TERCERO', 'text': 'La Inquilina se compromete a no tener mascotas de ningún tipo. La violación de esta cláusula dará derecho al Propietario a terminar el contrato y la inquilina deberá pagar el doble del alquiler por cada mes que tuvo la mascota.'}, {'clause_number': 'CUARTO', 'text': 'Este contrato durará un año y se renovará automáticamente bajo las mismas condiciones, a menos que una de las partes notifique lo contrario con 30 días de antelación.'}]}
INFO 2025-07-16 12:27:52,874 ml_service 4248 9004 Validando cláusula con LLM: 'La Inquilina se compromete a no tener mascotas de ningún tipo. La violación de e...'
DEBUG 2025-07-16 12:27:52,875 ml_service 4248 9004 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-07-16 12:27:55,308 ml_service 4248 9004 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'La cláusula impone una sanción desproporcionada y punitiva al inquilino por tener una mascota, lo que podría considerarse abusivo.', 'suggested_fix': 'El inquilino que viole esta cláusula deberá pagar una tarifa razonable por mes adicional de alquiler por cada mes que tuvo la mascota, en lugar del doble del alquiler.'}
INFO 2025-07-16 12:27:55,312 ml_service 4248 9004 Iniciando análisis LLM para 1 cláusulas
DEBUG 2025-07-16 12:27:55,312 ml_service 4248 9004 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-07-16 12:27:59,209 ml_service 4248 9004 Análisis LLM recibido: {'resumen': 'La primera cláusula limita la libertad de la inquilina en tener mascotas, con sanciones económicas severas en caso de incumplimiento. Esto podría considerarse abusivo y generar disputas. La violación de la cláusula también permite al propietario terminar el contrato abruptamente.', 'recomendaciones': ['Considerar la negociación de la cláusula para permitir la tenencia de mascotas bajo términos más razonables.', 'Si se mantiene la cláusula, evaluar la posibilidad de buscar otro alojamiento que acepte mascotas para evitar riesgos innecesarios.', 'Documentar cualquier acuerdo alcanzado durante las negociaciones y asegurarse de que se refleje en la versión final del contrato antes de firmar.']}
INFO 2025-07-16 14:43:54,840 autoreload 5440 4432 Watching for file changes with StatReloader
INFO 2025-07-16 14:47:53,157 basehttp 5440 13068 "OPTIONS /api/contracts/dashboard_stats/ HTTP/1.1" 200 0
INFO 2025-07-16 14:47:53,158 basehttp 5440 21120 "OPTIONS /api/contracts/?page_size=5 HTTP/1.1" 200 0
INFO 2025-07-16 14:47:54,450 basehttp 5440 16632 "GET /api/contracts/?page_size=5 HTTP/1.1" 200 806
INFO 2025-07-16 14:47:54,932 basehttp 5440 10644 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 200 889
INFO 2025-07-16 14:47:58,013 basehttp 5440 21120 "OPTIONS /api/contract-types/ HTTP/1.1" 200 0
INFO 2025-07-16 14:47:58,157 basehttp 5440 10644 "GET /api/contract-types/ HTTP/1.1" 200 1236
INFO 2025-07-16 14:48:46,725 basehttp 5440 21120 "OPTIONS /api/contracts/ HTTP/1.1" 200 0
INFO 2025-07-16 14:48:47,218 ml_service 5440 10644 Iniciando extracción de cláusulas con LLM
DEBUG 2025-07-16 14:48:47,218 ml_service 5440 10644 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-07-16 14:48:56,728 ml_service 5440 10644 Análisis LLM recibido: {'clauses': [{'clause_number': 'PRIMERO', 'text': 'Por medio del presente acto, EL VENDEDOR, CARLOS EDUARDO MENÉNDEZ TORRES, VENDE, CEDE Y TRASPASA sin ninguna garantía ni verificación de autenticidad, a favor de EL COMPRADOR, JOSÉ ANTONIO PÉREZ CASTILLO, lo que se describe a continuación: "Un arma de fuego de origen desconocido, marca ilegible, calibre no determinado, sin número de serie visible, cuya legalidad no ha sido confirmada ni registrada en ninguna institución competente.",0'}, {'clause_number': 'SEGUNDO', 'text': 'El precio convenido y pactado entre las partes ha sido establecido en la suma de CIEN MIL PESOS DOMINICANOS (RD$100,000.00), monto que EL VENDEDOR declara haber recibido en efectivo, sin constancia escrita ni recibo de pago, y sin ninguna obligación de devolución.,0'}, {'clause_number': 'TERCERO', 'text': 'EL VENDEDOR no garantiza la legalidad ni la funcionalidad del arma, dejando en manos de EL COMPRADOR cualquier trámite relacionado con permisos, licencias o regulación ante las autoridades pertinentes.,0'}, {'clause_number': 'CUARTO', 'text': 'Ambas partes acuerdan que, en caso de disputa o inconveniente con respecto al presente contrato, ninguna de ellas podrá recurrir a instancias judiciales ni exigir responsabilidades legales a la otra parte.,0'}]}
INFO 2025-07-16 14:48:56,735 ml_service 5440 10644 Validando cláusula con LLM: 'Por medio del presente acto, EL VENDEDOR, CARLOS EDUARDO MENÉNDEZ TORRES, VENDE,...'
DEBUG 2025-07-16 14:48:56,736 ml_service 5440 10644 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-07-16 14:48:59,318 ml_service 5440 10644 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'La cláusula vende un bien sin garantías, origen, marca, calibre o número de serie, lo que podría ser ilegal o peligroso.', 'suggested_fix': 'El vendedor debe proporcionar información verificable y garantías sobre el bien que se vende, de acuerdo con la ley.'}
INFO 2025-07-16 14:48:59,408 ml_service 5440 10644 Validando cláusula con LLM: 'El precio convenido y pactado entre las partes ha sido establecido en la suma de...'
DEBUG 2025-07-16 14:48:59,409 ml_service 5440 10644 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-07-16 14:49:00,888 ml_service 5440 10644 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula establece el precio de venta acordado entre las partes.', 'suggested_fix': ''}
INFO 2025-07-16 14:49:00,924 ml_service 5440 10644 Validando cláusula con LLM: 'EL VENDEDOR no garantiza la legalidad ni la funcionalidad del arma, dejando en m...'
DEBUG 2025-07-16 14:49:00,924 ml_service 5440 10644 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-07-16 14:49:02,974 ml_service 5440 10644 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula establece claramente que el comprador es responsable de obtener los permisos y licencias necesarios para el arma.', 'suggested_fix': ''}
INFO 2025-07-16 14:49:03,005 ml_service 5440 10644 Validando cláusula con LLM: 'Ambas partes acuerdan que, en caso de disputa o inconveniente con respecto al pr...'
DEBUG 2025-07-16 14:49:03,005 ml_service 5440 10644 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-07-16 14:49:05,956 ml_service 5440 10644 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'Esta cláusula niega a ambas partes el derecho a la justicia legal en caso de disputa, lo que es abusivo e injusto.', 'suggested_fix': 'Las partes acuerdan someter cualquier disputa o inconveniente relacionado con este contrato a arbitraje vinculante, respetando siempre los derechos de cada parte a recurrir a instancias judiciales según lo establecido en la legislación dominicana.'}
INFO 2025-07-16 14:49:05,975 ml_service 5440 10644 Iniciando análisis LLM para 2 cláusulas
DEBUG 2025-07-16 14:49:05,975 ml_service 5440 10644 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-07-16 14:49:11,990 ml_service 5440 10644 Análisis LLM recibido: {'resumen': 'El contrato contiene dos cláusulas potencialmente abusivas. La primera cláusula, al vender un arma de fuego de origen desconocido y sin legalidad confirmada, implica un riesgo de incumplimiento a la ley y a regulaciones sobre armas de fuego. La segunda cláusula, que prohíbe recurrir a instancias judiciales en caso de disputa, limita los derechos legales de las partes y puede generar riesgos en caso de controversias.', 'recomendaciones': ['Revisar la cláusula relacionada con la venta de un arma de fuego y asegurarse de cumplir con las leyes y regulaciones locales sobre armas.', 'Considerar la eliminación o modificación de la cláusula que prohíbe recurrir a instancias judiciales en caso de disputa, con el fin de garantizar el ejercicio de los derechos legales y el acceso a la justicia en caso de controversias.', 'Consultar con un abogado especializado en derecho de República Dominicana para revisar el contrato y minimizar los riesgos potenciales.']}
INFO 2025-07-16 14:49:12,332 basehttp 5440 10644 "POST /api/contracts/ HTTP/1.1" 201 2134
INFO 2025-07-16 14:49:12,413 basehttp 5440 21120 "OPTIONS /api/contracts/a8556cd5-4810-44d4-9b81-00e7bb56c5aa/ HTTP/1.1" 200 0
INFO 2025-07-16 14:49:12,413 basehttp 5440 13068 "OPTIONS /api/clauses/?contract=a8556cd5-4810-44d4-9b81-00e7bb56c5aa HTTP/1.1" 200 0
INFO 2025-07-16 14:49:12,877 basehttp 5440 16632 "GET /api/clauses/?contract=a8556cd5-4810-44d4-9b81-00e7bb56c5aa HTTP/1.1" 200 3520
INFO 2025-07-16 14:49:13,031 basehttp 5440 10644 "GET /api/contracts/a8556cd5-4810-44d4-9b81-00e7bb56c5aa/ HTTP/1.1" 200 6064
INFO 2025-07-16 14:49:13,511 basehttp 5440 10644 "GET /api/clauses/?contract=a8556cd5-4810-44d4-9b81-00e7bb56c5aa HTTP/1.1" 200 3520
INFO 2025-07-16 15:05:13,401 basehttp 5440 3640 "GET /api/contract-types/ HTTP/1.1" 200 1236
INFO 2025-07-16 15:05:38,083 ml_service 5440 3640 Iniciando extracción de cláusulas con LLM
DEBUG 2025-07-16 15:05:38,084 ml_service 5440 3640 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-07-16 15:05:46,137 ml_service 5440 3640 Análisis LLM recibido: {'clauses': [{'clause_number': 'PRIMERO', 'text': 'Por medio del presente acto, EL VENDEDOR, LUIS ALFONSO MARTÍNEZ RAMOS, de generales que constan, VENDE, CEDE Y TRASPASA con todas las garantías legales habidas y por haber, a favor de EL COMPRADOR, JUAN ESTEBAN GÓMEZ REYES, de generales que también constan y quien lo acepta, lo que se describe a continuación: "Una pistola marca Sig Sauer, calibre nueve milímetros (9mm), propiedad de EL VENDEDOR según consta en la Licencia No.22560000234-8 expedida por la Secretaría de Estado de Interior y Policía en fecha a los 15 días del mes de mayo del Dos mil veinticuatro (2024).",1'}, {'clause_number': 'SEGUNDO', 'text': 'El precio convenido y pactado entre las partes por el objeto del presente acto, ha sido establecido en la suma de QUINIENTOS CINCUENTA MIL PESOS DOMINICANOS (RD$550,000.00), moneda de curso legal, valor que declara EL VENDEDOR haber recibido de manos de EL COMPRADOR, en efectivo, a su entera satisfacción y contento, por lo que le otorga carta de pago y descargo conforme a la ley.,1'}, {'clause_number': 'TERCERO', 'text': 'Por este acto, EL VENDEDOR autoriza formalmente a la Secretaría de Estado de Interior y Policía a tramitar el correspondiente traspaso de la Licencia ya descrita, en beneficio de EL COMPRADOR, previo cumplimiento de los requisitos y formalidades de ley por parte de EL COMPRADOR.,1'}, {'clause_number': 'CUARTO', 'text': 'Para lo no previsto en el presente acto, las partes acuerdan remitirse al Derecho Común.,1'}]}
INFO 2025-07-16 15:05:46,142 ml_service 5440 3640 Validando cláusula con LLM: 'Por medio del presente acto, EL VENDEDOR, LUIS ALFONSO MARTÍNEZ RAMOS, de genera...'
DEBUG 2025-07-16 15:05:46,143 ml_service 5440 3640 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-07-16 15:05:47,761 ml_service 5440 3640 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula es una venta legal de un arma de fuego con las garantías adecuadas.', 'suggested_fix': ''}
INFO 2025-07-16 15:05:47,809 ml_service 5440 3640 Validando cláusula con LLM: 'El precio convenido y pactado entre las partes por el objeto del presente acto, ...'
DEBUG 2025-07-16 15:05:47,810 ml_service 5440 3640 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-07-16 15:05:49,618 ml_service 5440 3640 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula establece el precio de venta acordado entre las partes y no parece ser abusiva.', 'suggested_fix': ''}
INFO 2025-07-16 15:05:49,647 ml_service 5440 3640 Validando cláusula con LLM: 'Por este acto, EL VENDEDOR autoriza formalmente a la Secretaría de Estado de Int...'
DEBUG 2025-07-16 15:05:49,647 ml_service 5440 3640 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-07-16 15:05:51,223 ml_service 5440 3640 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'Esta cláusula es una estipulación común en la transferencia de propiedad y autoriza a las autoridades pertinentes a procesar el traspaso de la licencia.', 'suggested_fix': ''}
INFO 2025-07-16 15:05:51,253 ml_service 5440 3640 Validando cláusula con LLM: 'Para lo no previsto en el presente acto, las partes acuerdan remitirse al Derech...'
DEBUG 2025-07-16 15:05:51,253 ml_service 5440 3640 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-07-16 15:05:52,636 ml_service 5440 3640 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'Esta cláusula establece una cláusula de remisión al Derecho Común, lo que es común en los contratos.', 'suggested_fix': ''}
INFO 2025-07-16 15:05:52,661 ml_service 5440 3640 No hay cláusulas para analizar con LLM
INFO 2025-07-16 15:05:53,014 basehttp 5440 3640 "POST /api/contracts/ HTTP/1.1" 201 1753
INFO 2025-07-16 15:05:53,385 basehttp 5440 15896 "OPTIONS /api/contracts/585198fc-cf33-4929-9057-c079da6062c2/ HTTP/1.1" 200 0
INFO 2025-07-16 15:05:53,387 basehttp 5440 18680 "OPTIONS /api/clauses/?contract=585198fc-cf33-4929-9057-c079da6062c2 HTTP/1.1" 200 0
INFO 2025-07-16 15:05:54,046 basehttp 5440 3640 "GET /api/contracts/585198fc-cf33-4929-9057-c079da6062c2/ HTTP/1.1" 200 5830
INFO 2025-07-16 15:05:54,402 basehttp 5440 16608 "GET /api/clauses/?contract=585198fc-cf33-4929-9057-c079da6062c2 HTTP/1.1" 200 3667
INFO 2025-07-16 16:22:14,369 autoreload 19104 21700 Watching for file changes with StatReloader
INFO 2025-07-16 16:22:45,233 basehttp 19104 13808 "GET /api/contracts/?page=1 HTTP/1.1" 200 1590
INFO 2025-07-16 16:22:45,319 basehttp 19104 10228 "GET /api/contracts/?page_size=5 HTTP/1.1" 200 1590
INFO 2025-07-16 16:22:45,736 basehttp 19104 19928 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 200 1673
INFO 2025-07-16 16:22:47,933 basehttp 19104 10228 "GET /api/clauses/?contract=585198fc-cf33-4929-9057-c079da6062c2 HTTP/1.1" 200 3667
INFO 2025-07-16 16:22:48,049 basehttp 19104 19928 "GET /api/contracts/585198fc-cf33-4929-9057-c079da6062c2/ HTTP/1.1" 200 5830
INFO 2025-07-16 16:22:48,668 basehttp 19104 19928 "GET /api/clauses/?contract=585198fc-cf33-4929-9057-c079da6062c2 HTTP/1.1" 200 3667
INFO 2025-07-16 16:22:49,303 basehttp 19104 10228 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 200 1673
INFO 2025-07-16 16:23:36,270 basehttp 19104 19928 "GET /api/clauses/?contract=a8556cd5-4810-44d4-9b81-00e7bb56c5aa HTTP/1.1" 200 3520
INFO 2025-07-16 16:23:36,481 basehttp 19104 10228 "GET /api/contracts/a8556cd5-4810-44d4-9b81-00e7bb56c5aa/ HTTP/1.1" 200 6064
INFO 2025-07-16 16:23:37,131 basehttp 19104 10228 "GET /api/clauses/?contract=a8556cd5-4810-44d4-9b81-00e7bb56c5aa HTTP/1.1" 200 3520
INFO 2025-07-16 16:23:37,817 basehttp 19104 19928 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 200 1673
INFO 2025-07-16 16:24:56,037 basehttp 19104 19928 "GET /api/contract-types/ HTTP/1.1" 200 1236
INFO 2025-07-16 16:33:07,416 basehttp 19104 18428 "GET /api/contracts/?page_size=5 HTTP/1.1" 200 1590
INFO 2025-07-16 16:33:07,478 basehttp 19104 20180 "GET /api/contracts/?page=1 HTTP/1.1" 200 1590
INFO 2025-07-16 16:33:07,783 basehttp 19104 2012 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 200 1673
INFO 2025-07-16 16:33:09,690 ml_service 19104 2012 Iniciando extracción de cláusulas con LLM
DEBUG 2025-07-16 16:33:09,692 ml_service 19104 2012 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-07-16 16:33:16,317 ml_service 19104 2012 Análisis LLM recibido: {'clauses': [{'clause_number': 'PRIMERO', 'text': 'Por medio del presente acto, EL VENDEDOR, LUIS ALFONSO MARTÍNEZ RAMOS, de generales que constan, VENDE, CEDE Y TRASPASA con todas las garantías legales habidas y por haber, a favor de EL COMPRADOR, JUAN ESTEBAN GÓMEZ REYES, de generales que también constan y quien lo acepta, lo que se describe a continuación: "Una pistola marca Sig Sauer, calibre nueve milímetros (9mm), propiedad de EL VENDEDOR según consta en la Licencia No.22560000234-8 expedida por la Secretaría de Estado de Interior y Policía en fecha a los 15 días del mes de mayo del Dos mil veinticuatro (2024).",1'}, {'clause_number': 'SEGUNDO', 'text': 'El precio convenido y pactado entre las partes por el objeto del presente acto, ha sido establecido en la suma de QUINIENTOS CINCUENTA MIL PESOS DOMINICANOS (RD$550,000.00), moneda de curso legal, valor que declara EL VENDEDOR haber recibido de manos de EL COMPRADOR, en efectivo, a su entera satisfacción y contento, por lo que le otorga carta de pago y descargo conforme a la ley.,1'}, {'clause_number': 'TERCERO', 'text': 'Por este acto, EL VENDEDOR autoriza formalmente a la Secretaría de Estado de Interior y Policía a tramitar el correspondiente traspaso de la Licencia ya descrita, en beneficio de EL COMPRADOR, previo cumplimiento de los requisitos y formalidades de ley por parte de EL COMPRADOR.,1'}, {'clause_number': 'CUARTO', 'text': 'Para lo no previsto en el presente acto, las partes acuerdan remitirse al Derecho Común.,1'}]}
INFO 2025-07-16 16:33:16,345 ml_service 19104 2012 Validando cláusula con LLM: 'Por medio del presente acto, EL VENDEDOR, LUIS ALFONSO MARTÍNEZ RAMOS, de genera...'
DEBUG 2025-07-16 16:33:16,347 ml_service 19104 2012 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-07-16 16:33:17,337 ml_service 19104 2012 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula es una transferencia de propiedad legal de un arma de fuego, pero no es abusiva.', 'suggested_fix': ''}
INFO 2025-07-16 16:33:17,462 ml_service 19104 2012 Validando cláusula con LLM: 'El precio convenido y pactado entre las partes por el objeto del presente acto, ...'
DEBUG 2025-07-16 16:33:17,462 ml_service 19104 2012 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-07-16 16:33:19,327 ml_service 19104 2012 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'This clause is a standard payment clause, stating the agreed price for the object of the contract.', 'suggested_fix': ''}
INFO 2025-07-16 16:33:19,392 ml_service 19104 2012 Validando cláusula con LLM: 'Por este acto, EL VENDEDOR autoriza formalmente a la Secretaría de Estado de Int...'
DEBUG 2025-07-16 16:33:19,392 ml_service 19104 2012 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-07-16 16:33:21,332 ml_service 19104 2012 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'Esta cláusula es una estipulación común en la transferencia de propiedad y autoriza a la autoridad gubernamental pertinente a procesar el traspaso de la licencia.', 'suggested_fix': ''}
INFO 2025-07-16 16:33:21,380 ml_service 19104 2012 Validando cláusula con LLM: 'Para lo no previsto en el presente acto, las partes acuerdan remitirse al Derech...'
DEBUG 2025-07-16 16:33:21,380 ml_service 19104 2012 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-07-16 16:33:22,761 ml_service 19104 2012 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'Esta cláusula se refiere a la aplicación del Derecho Común en caso de no estar previsto algo en el contrato.', 'suggested_fix': ''}
INFO 2025-07-16 16:33:22,793 ml_service 19104 2012 No hay cláusulas para analizar con LLM
INFO 2025-07-16 16:33:23,143 basehttp 19104 2012 "POST /api/contracts/ HTTP/1.1" 201 1778
INFO 2025-07-16 16:33:24,025 basehttp 19104 2012 "GET /api/contracts/?page_size=5 HTTP/1.1" 200 1998
INFO 2025-07-16 16:33:24,077 basehttp 19104 20180 "GET /api/contracts/?page=1 HTTP/1.1" 200 1998
INFO 2025-07-16 16:33:24,505 basehttp 19104 18428 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 200 2081
INFO 2025-07-16 16:33:24,572 basehttp 19104 10644 "GET /api/contracts/4818080c-d7da-4704-bbd9-1eb49af38344/ HTTP/1.1" 200 5889
INFO 2025-07-16 16:33:24,641 basehttp 19104 6052 "GET /api/clauses/?contract=4818080c-d7da-4704-bbd9-1eb49af38344 HTTP/1.1" 200 3701
INFO 2025-07-16 16:33:25,857 basehttp 19104 6052 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 200 2081
INFO 2025-07-16 16:33:27,655 basehttp 19104 18428 "GET /api/clauses/?contract=4818080c-d7da-4704-bbd9-1eb49af38344 HTTP/1.1" 200 3701
INFO 2025-07-16 16:33:27,804 basehttp 19104 10644 "GET /api/contracts/4818080c-d7da-4704-bbd9-1eb49af38344/ HTTP/1.1" 200 5889
INFO 2025-07-16 16:33:27,947 basehttp 19104 6052 "GET /api/contracts/?page=1 HTTP/1.1" 200 1998
ERROR 2025-07-16 17:52:19,917 log 19104 14104 Internal Server Error: /api/contracts/dashboard_stats/
Traceback (most recent call last):
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\postgresql\base.py", line 332, in get_new_connection
    connection = self.Database.connect(**conn_params)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\psycopg2\__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: could not translate host name "db.hzkfwulyrzfpiyzdnxcb.supabase.co" to address: Unknown host


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\contracts\views.py", line 148, in dashboard_stats
    'total_contracts': user_contracts.count(),
                       ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 604, in count
    return self.query.get_count(using=self.db)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\sql\query.py", line 644, in get_count
    return obj.get_aggregation(using, {"__count": Count("*")})["__count"]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\sql\query.py", line 626, in get_aggregation
    result = compiler.execute_sql(SINGLE)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\sql\compiler.py", line 1621, in execute_sql
    cursor = self.connection.cursor()
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 320, in cursor
    return self._cursor()
           ^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 296, in _cursor
    self.ensure_connection()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 278, in ensure_connection
    with self.wrap_database_errors:
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\postgresql\base.py", line 332, in get_new_connection
    connection = self.Database.connect(**conn_params)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\psycopg2\__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.OperationalError: could not translate host name "db.hzkfwulyrzfpiyzdnxcb.supabase.co" to address: Unknown host

ERROR 2025-07-16 17:52:19,917 log 19104 5260 Internal Server Error: /api/contracts/
Traceback (most recent call last):
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\postgresql\base.py", line 332, in get_new_connection
    connection = self.Database.connect(**conn_params)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\psycopg2\__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: could not translate host name "db.hzkfwulyrzfpiyzdnxcb.supabase.co" to address: Unknown host


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\mixins.py", line 40, in list
    page = self.paginate_queryset(queryset)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\generics.py", line 175, in paginate_queryset
    return self.paginator.paginate_queryset(queryset, self.request, view=self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\pagination.py", line 211, in paginate_queryset
    self.page = paginator.page(page_number)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\paginator.py", line 89, in page
    number = self.validate_number(number)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\paginator.py", line 70, in validate_number
    if number > self.num_pages:
                ^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\paginator.py", line 116, in num_pages
    if self.count == 0 and not self.allow_empty_first_page:
       ^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\paginator.py", line 110, in count
    return c()
           ^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 604, in count
    return self.query.get_count(using=self.db)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\sql\query.py", line 644, in get_count
    return obj.get_aggregation(using, {"__count": Count("*")})["__count"]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\sql\query.py", line 626, in get_aggregation
    result = compiler.execute_sql(SINGLE)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\sql\compiler.py", line 1621, in execute_sql
    cursor = self.connection.cursor()
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 320, in cursor
    return self._cursor()
           ^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 296, in _cursor
    self.ensure_connection()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 278, in ensure_connection
    with self.wrap_database_errors:
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\postgresql\base.py", line 332, in get_new_connection
    connection = self.Database.connect(**conn_params)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\psycopg2\__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.OperationalError: could not translate host name "db.hzkfwulyrzfpiyzdnxcb.supabase.co" to address: Unknown host

ERROR 2025-07-16 17:52:19,917 log 19104 19348 Internal Server Error: /api/contracts/
Traceback (most recent call last):
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\postgresql\base.py", line 332, in get_new_connection
    connection = self.Database.connect(**conn_params)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\psycopg2\__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: could not translate host name "db.hzkfwulyrzfpiyzdnxcb.supabase.co" to address: Unknown host


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\mixins.py", line 40, in list
    page = self.paginate_queryset(queryset)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\generics.py", line 175, in paginate_queryset
    return self.paginator.paginate_queryset(queryset, self.request, view=self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\pagination.py", line 211, in paginate_queryset
    self.page = paginator.page(page_number)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\paginator.py", line 89, in page
    number = self.validate_number(number)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\paginator.py", line 70, in validate_number
    if number > self.num_pages:
                ^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\paginator.py", line 116, in num_pages
    if self.count == 0 and not self.allow_empty_first_page:
       ^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\paginator.py", line 110, in count
    return c()
           ^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 604, in count
    return self.query.get_count(using=self.db)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\sql\query.py", line 644, in get_count
    return obj.get_aggregation(using, {"__count": Count("*")})["__count"]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\sql\query.py", line 626, in get_aggregation
    result = compiler.execute_sql(SINGLE)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\sql\compiler.py", line 1621, in execute_sql
    cursor = self.connection.cursor()
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 320, in cursor
    return self._cursor()
           ^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 296, in _cursor
    self.ensure_connection()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 278, in ensure_connection
    with self.wrap_database_errors:
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\postgresql\base.py", line 332, in get_new_connection
    connection = self.Database.connect(**conn_params)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\psycopg2\__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.OperationalError: could not translate host name "db.hzkfwulyrzfpiyzdnxcb.supabase.co" to address: Unknown host

ERROR 2025-07-16 17:52:19,959 basehttp 19104 14104 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 500 198483
ERROR 2025-07-16 17:52:19,987 basehttp 19104 5260 "GET /api/contracts/?page=1 HTTP/1.1" 500 231931
ERROR 2025-07-16 17:52:20,004 basehttp 19104 19348 "GET /api/contracts/?page_size=5 HTTP/1.1" 500 231977
ERROR 2025-07-16 17:52:21,251 log 19104 19348 Internal Server Error: /api/contracts/dashboard_stats/
Traceback (most recent call last):
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\postgresql\base.py", line 332, in get_new_connection
    connection = self.Database.connect(**conn_params)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\psycopg2\__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: could not translate host name "db.hzkfwulyrzfpiyzdnxcb.supabase.co" to address: Unknown host


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\contracts\views.py", line 148, in dashboard_stats
    'total_contracts': user_contracts.count(),
                       ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 604, in count
    return self.query.get_count(using=self.db)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\sql\query.py", line 644, in get_count
    return obj.get_aggregation(using, {"__count": Count("*")})["__count"]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\sql\query.py", line 626, in get_aggregation
    result = compiler.execute_sql(SINGLE)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\sql\compiler.py", line 1621, in execute_sql
    cursor = self.connection.cursor()
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 320, in cursor
    return self._cursor()
           ^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 296, in _cursor
    self.ensure_connection()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 278, in ensure_connection
    with self.wrap_database_errors:
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\postgresql\base.py", line 332, in get_new_connection
    connection = self.Database.connect(**conn_params)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\psycopg2\__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.OperationalError: could not translate host name "db.hzkfwulyrzfpiyzdnxcb.supabase.co" to address: Unknown host

ERROR 2025-07-16 17:52:21,268 basehttp 19104 19348 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 500 198483
ERROR 2025-07-16 17:52:21,396 log 19104 5260 Internal Server Error: /api/contracts/
Traceback (most recent call last):
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\postgresql\base.py", line 332, in get_new_connection
    connection = self.Database.connect(**conn_params)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\psycopg2\__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: could not translate host name "db.hzkfwulyrzfpiyzdnxcb.supabase.co" to address: Unknown host


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\mixins.py", line 40, in list
    page = self.paginate_queryset(queryset)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\generics.py", line 175, in paginate_queryset
    return self.paginator.paginate_queryset(queryset, self.request, view=self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\pagination.py", line 211, in paginate_queryset
    self.page = paginator.page(page_number)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\paginator.py", line 89, in page
    number = self.validate_number(number)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\paginator.py", line 70, in validate_number
    if number > self.num_pages:
                ^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\paginator.py", line 116, in num_pages
    if self.count == 0 and not self.allow_empty_first_page:
       ^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\paginator.py", line 110, in count
    return c()
           ^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 604, in count
    return self.query.get_count(using=self.db)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\sql\query.py", line 644, in get_count
    return obj.get_aggregation(using, {"__count": Count("*")})["__count"]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\sql\query.py", line 626, in get_aggregation
    result = compiler.execute_sql(SINGLE)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\sql\compiler.py", line 1621, in execute_sql
    cursor = self.connection.cursor()
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 320, in cursor
    return self._cursor()
           ^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 296, in _cursor
    self.ensure_connection()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 278, in ensure_connection
    with self.wrap_database_errors:
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\postgresql\base.py", line 332, in get_new_connection
    connection = self.Database.connect(**conn_params)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\psycopg2\__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.OperationalError: could not translate host name "db.hzkfwulyrzfpiyzdnxcb.supabase.co" to address: Unknown host

ERROR 2025-07-16 17:52:21,514 log 19104 14104 Internal Server Error: /api/contracts/
Traceback (most recent call last):
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\postgresql\base.py", line 332, in get_new_connection
    connection = self.Database.connect(**conn_params)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\psycopg2\__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: could not translate host name "db.hzkfwulyrzfpiyzdnxcb.supabase.co" to address: Unknown host


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\mixins.py", line 40, in list
    page = self.paginate_queryset(queryset)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\generics.py", line 175, in paginate_queryset
    return self.paginator.paginate_queryset(queryset, self.request, view=self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\pagination.py", line 211, in paginate_queryset
    self.page = paginator.page(page_number)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\paginator.py", line 89, in page
    number = self.validate_number(number)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\paginator.py", line 70, in validate_number
    if number > self.num_pages:
                ^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\paginator.py", line 116, in num_pages
    if self.count == 0 and not self.allow_empty_first_page:
       ^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\paginator.py", line 110, in count
    return c()
           ^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 604, in count
    return self.query.get_count(using=self.db)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\sql\query.py", line 644, in get_count
    return obj.get_aggregation(using, {"__count": Count("*")})["__count"]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\sql\query.py", line 626, in get_aggregation
    result = compiler.execute_sql(SINGLE)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\sql\compiler.py", line 1621, in execute_sql
    cursor = self.connection.cursor()
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 320, in cursor
    return self._cursor()
           ^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 296, in _cursor
    self.ensure_connection()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 278, in ensure_connection
    with self.wrap_database_errors:
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\postgresql\base.py", line 332, in get_new_connection
    connection = self.Database.connect(**conn_params)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\psycopg2\__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.OperationalError: could not translate host name "db.hzkfwulyrzfpiyzdnxcb.supabase.co" to address: Unknown host

ERROR 2025-07-16 17:52:21,562 basehttp 19104 5260 "GET /api/contracts/?page=1 HTTP/1.1" 500 231931
ERROR 2025-07-16 17:52:21,585 basehttp 19104 14104 "GET /api/contracts/?page_size=5 HTTP/1.1" 500 231977
ERROR 2025-07-16 17:52:21,735 log 19104 19348 Internal Server Error: /api/contracts/4818080c-d7da-4704-bbd9-1eb49af38344/
Traceback (most recent call last):
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\postgresql\base.py", line 332, in get_new_connection
    connection = self.Database.connect(**conn_params)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\psycopg2\__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: could not translate host name "db.hzkfwulyrzfpiyzdnxcb.supabase.co" to address: Unknown host


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\mixins.py", line 54, in retrieve
    instance = self.get_object()
               ^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\generics.py", line 100, in get_object
    obj = get_object_or_404(queryset, **filter_kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\generics.py", line 19, in get_object_or_404
    return _get_object_or_404(queryset, *filter_args, **filter_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\shortcuts.py", line 90, in get_object_or_404
    return queryset.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 629, in get
    num = len(clone)
          ^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 366, in __len__
    self._fetch_all()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 1949, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
              ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\sql\compiler.py", line 1621, in execute_sql
    cursor = self.connection.cursor()
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 320, in cursor
    return self._cursor()
           ^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 296, in _cursor
    self.ensure_connection()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 278, in ensure_connection
    with self.wrap_database_errors:
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\postgresql\base.py", line 332, in get_new_connection
    connection = self.Database.connect(**conn_params)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\psycopg2\__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.OperationalError: could not translate host name "db.hzkfwulyrzfpiyzdnxcb.supabase.co" to address: Unknown host

ERROR 2025-07-16 17:52:21,775 basehttp 19104 19348 "GET /api/contracts/4818080c-d7da-4704-bbd9-1eb49af38344/ HTTP/1.1" 500 214150
ERROR 2025-07-16 17:52:21,865 log 19104 18600 Internal Server Error: /api/clauses/
Traceback (most recent call last):
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\postgresql\base.py", line 332, in get_new_connection
    connection = self.Database.connect(**conn_params)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\psycopg2\__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: could not translate host name "db.hzkfwulyrzfpiyzdnxcb.supabase.co" to address: Unknown host


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\mixins.py", line 38, in list
    queryset = self.filter_queryset(self.get_queryset())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\generics.py", line 154, in filter_queryset
    queryset = backend().filter_queryset(self.request, queryset, self)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\rest_framework\backends.py", line 70, in filter_queryset
    if not filterset.is_valid() and self.raise_exception:
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\filterset.py", line 215, in is_valid
    return self.is_bound and self.form.is_valid()
                             ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\forms\forms.py", line 206, in is_valid
    return self.is_bound and not self.errors
                                 ^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\forms\forms.py", line 201, in errors
    self.full_clean()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\forms\forms.py", line 337, in full_clean
    self._clean_fields()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\forms\forms.py", line 345, in _clean_fields
    self.cleaned_data[name] = field._clean_bound_field(bf)
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\forms\fields.py", line 273, in _clean_bound_field
    return self.clean(value)
           ^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\forms\fields.py", line 208, in clean
    value = self.to_python(value)
            ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\fields.py", line 311, in to_python
    return super().to_python(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\forms\models.py", line 1564, in to_python
    value = self.queryset.get(**{key: value})
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 629, in get
    num = len(clone)
          ^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 366, in __len__
    self._fetch_all()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 1949, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
              ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\sql\compiler.py", line 1621, in execute_sql
    cursor = self.connection.cursor()
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 320, in cursor
    return self._cursor()
           ^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 296, in _cursor
    self.ensure_connection()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 278, in ensure_connection
    with self.wrap_database_errors:
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\postgresql\base.py", line 332, in get_new_connection
    connection = self.Database.connect(**conn_params)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\psycopg2\__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.OperationalError: could not translate host name "db.hzkfwulyrzfpiyzdnxcb.supabase.co" to address: Unknown host

ERROR 2025-07-16 17:52:21,891 basehttp 19104 18600 "GET /api/clauses/?contract=4818080c-d7da-4704-bbd9-1eb49af38344 HTTP/1.1" 500 245783
ERROR 2025-07-16 17:52:23,015 log 19104 18600 Internal Server Error: /api/contracts/4818080c-d7da-4704-bbd9-1eb49af38344/
Traceback (most recent call last):
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\postgresql\base.py", line 332, in get_new_connection
    connection = self.Database.connect(**conn_params)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\psycopg2\__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: could not translate host name "db.hzkfwulyrzfpiyzdnxcb.supabase.co" to address: Unknown host


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\mixins.py", line 54, in retrieve
    instance = self.get_object()
               ^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\generics.py", line 100, in get_object
    obj = get_object_or_404(queryset, **filter_kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\generics.py", line 19, in get_object_or_404
    return _get_object_or_404(queryset, *filter_args, **filter_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\shortcuts.py", line 90, in get_object_or_404
    return queryset.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 629, in get
    num = len(clone)
          ^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 366, in __len__
    self._fetch_all()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 1949, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
              ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\sql\compiler.py", line 1621, in execute_sql
    cursor = self.connection.cursor()
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 320, in cursor
    return self._cursor()
           ^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 296, in _cursor
    self.ensure_connection()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 278, in ensure_connection
    with self.wrap_database_errors:
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\postgresql\base.py", line 332, in get_new_connection
    connection = self.Database.connect(**conn_params)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\psycopg2\__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.OperationalError: could not translate host name "db.hzkfwulyrzfpiyzdnxcb.supabase.co" to address: Unknown host

ERROR 2025-07-16 17:52:23,061 basehttp 19104 18600 "GET /api/contracts/4818080c-d7da-4704-bbd9-1eb49af38344/ HTTP/1.1" 500 214150
ERROR 2025-07-16 17:52:23,301 log 19104 19348 Internal Server Error: /api/clauses/
Traceback (most recent call last):
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\postgresql\base.py", line 332, in get_new_connection
    connection = self.Database.connect(**conn_params)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\psycopg2\__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: could not translate host name "db.hzkfwulyrzfpiyzdnxcb.supabase.co" to address: Unknown host


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\mixins.py", line 38, in list
    queryset = self.filter_queryset(self.get_queryset())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\generics.py", line 154, in filter_queryset
    queryset = backend().filter_queryset(self.request, queryset, self)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\rest_framework\backends.py", line 70, in filter_queryset
    if not filterset.is_valid() and self.raise_exception:
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\filterset.py", line 215, in is_valid
    return self.is_bound and self.form.is_valid()
                             ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\forms\forms.py", line 206, in is_valid
    return self.is_bound and not self.errors
                                 ^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\forms\forms.py", line 201, in errors
    self.full_clean()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\forms\forms.py", line 337, in full_clean
    self._clean_fields()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\forms\forms.py", line 345, in _clean_fields
    self.cleaned_data[name] = field._clean_bound_field(bf)
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\forms\fields.py", line 273, in _clean_bound_field
    return self.clean(value)
           ^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\forms\fields.py", line 208, in clean
    value = self.to_python(value)
            ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\fields.py", line 311, in to_python
    return super().to_python(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\forms\models.py", line 1564, in to_python
    value = self.queryset.get(**{key: value})
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 629, in get
    num = len(clone)
          ^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 366, in __len__
    self._fetch_all()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 1949, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
              ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\sql\compiler.py", line 1621, in execute_sql
    cursor = self.connection.cursor()
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 320, in cursor
    return self._cursor()
           ^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 296, in _cursor
    self.ensure_connection()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 278, in ensure_connection
    with self.wrap_database_errors:
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\postgresql\base.py", line 332, in get_new_connection
    connection = self.Database.connect(**conn_params)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\psycopg2\__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.OperationalError: could not translate host name "db.hzkfwulyrzfpiyzdnxcb.supabase.co" to address: Unknown host

ERROR 2025-07-16 17:52:23,330 basehttp 19104 19348 "GET /api/clauses/?contract=4818080c-d7da-4704-bbd9-1eb49af38344 HTTP/1.1" 500 245783
ERROR 2025-07-16 17:52:23,494 log 19104 18600 Internal Server Error: /api/contracts/dashboard_stats/
Traceback (most recent call last):
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\postgresql\base.py", line 332, in get_new_connection
    connection = self.Database.connect(**conn_params)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\psycopg2\__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: could not translate host name "db.hzkfwulyrzfpiyzdnxcb.supabase.co" to address: Unknown host


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\contracts\views.py", line 148, in dashboard_stats
    'total_contracts': user_contracts.count(),
                       ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 604, in count
    return self.query.get_count(using=self.db)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\sql\query.py", line 644, in get_count
    return obj.get_aggregation(using, {"__count": Count("*")})["__count"]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\sql\query.py", line 626, in get_aggregation
    result = compiler.execute_sql(SINGLE)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\sql\compiler.py", line 1621, in execute_sql
    cursor = self.connection.cursor()
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 320, in cursor
    return self._cursor()
           ^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 296, in _cursor
    self.ensure_connection()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 278, in ensure_connection
    with self.wrap_database_errors:
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\postgresql\base.py", line 332, in get_new_connection
    connection = self.Database.connect(**conn_params)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\psycopg2\__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.OperationalError: could not translate host name "db.hzkfwulyrzfpiyzdnxcb.supabase.co" to address: Unknown host

ERROR 2025-07-16 17:52:23,505 basehttp 19104 18600 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 500 198483
ERROR 2025-07-16 17:52:23,891 log 19104 18600 Internal Server Error: /api/contracts/
Traceback (most recent call last):
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\postgresql\base.py", line 332, in get_new_connection
    connection = self.Database.connect(**conn_params)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\psycopg2\__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: could not translate host name "db.hzkfwulyrzfpiyzdnxcb.supabase.co" to address: Unknown host


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\mixins.py", line 40, in list
    page = self.paginate_queryset(queryset)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\generics.py", line 175, in paginate_queryset
    return self.paginator.paginate_queryset(queryset, self.request, view=self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\pagination.py", line 211, in paginate_queryset
    self.page = paginator.page(page_number)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\paginator.py", line 89, in page
    number = self.validate_number(number)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\paginator.py", line 70, in validate_number
    if number > self.num_pages:
                ^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\paginator.py", line 116, in num_pages
    if self.count == 0 and not self.allow_empty_first_page:
       ^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\paginator.py", line 110, in count
    return c()
           ^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 604, in count
    return self.query.get_count(using=self.db)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\sql\query.py", line 644, in get_count
    return obj.get_aggregation(using, {"__count": Count("*")})["__count"]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\sql\query.py", line 626, in get_aggregation
    result = compiler.execute_sql(SINGLE)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\sql\compiler.py", line 1621, in execute_sql
    cursor = self.connection.cursor()
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 320, in cursor
    return self._cursor()
           ^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 296, in _cursor
    self.ensure_connection()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 278, in ensure_connection
    with self.wrap_database_errors:
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\postgresql\base.py", line 332, in get_new_connection
    connection = self.Database.connect(**conn_params)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\psycopg2\__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.OperationalError: could not translate host name "db.hzkfwulyrzfpiyzdnxcb.supabase.co" to address: Unknown host

ERROR 2025-07-16 17:52:23,941 log 19104 19348 Internal Server Error: /api/contracts/
Traceback (most recent call last):
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\postgresql\base.py", line 332, in get_new_connection
    connection = self.Database.connect(**conn_params)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\psycopg2\__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: could not translate host name "db.hzkfwulyrzfpiyzdnxcb.supabase.co" to address: Unknown host


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\mixins.py", line 40, in list
    page = self.paginate_queryset(queryset)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\generics.py", line 175, in paginate_queryset
    return self.paginator.paginate_queryset(queryset, self.request, view=self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\pagination.py", line 211, in paginate_queryset
    self.page = paginator.page(page_number)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\paginator.py", line 89, in page
    number = self.validate_number(number)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\paginator.py", line 70, in validate_number
    if number > self.num_pages:
                ^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\paginator.py", line 116, in num_pages
    if self.count == 0 and not self.allow_empty_first_page:
       ^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\paginator.py", line 110, in count
    return c()
           ^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 604, in count
    return self.query.get_count(using=self.db)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\sql\query.py", line 644, in get_count
    return obj.get_aggregation(using, {"__count": Count("*")})["__count"]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\sql\query.py", line 626, in get_aggregation
    result = compiler.execute_sql(SINGLE)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\sql\compiler.py", line 1621, in execute_sql
    cursor = self.connection.cursor()
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 320, in cursor
    return self._cursor()
           ^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 296, in _cursor
    self.ensure_connection()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 278, in ensure_connection
    with self.wrap_database_errors:
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\postgresql\base.py", line 332, in get_new_connection
    connection = self.Database.connect(**conn_params)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\psycopg2\__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.OperationalError: could not translate host name "db.hzkfwulyrzfpiyzdnxcb.supabase.co" to address: Unknown host

ERROR 2025-07-16 17:52:23,951 basehttp 19104 18600 "GET /api/contracts/?page=1 HTTP/1.1" 500 231931
ERROR 2025-07-16 17:52:23,960 basehttp 19104 19348 "GET /api/contracts/?page_size=5 HTTP/1.1" 500 231977
ERROR 2025-07-16 17:52:25,230 log 19104 19348 Internal Server Error: /api/contracts/4818080c-d7da-4704-bbd9-1eb49af38344/
Traceback (most recent call last):
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\postgresql\base.py", line 332, in get_new_connection
    connection = self.Database.connect(**conn_params)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\psycopg2\__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: could not translate host name "db.hzkfwulyrzfpiyzdnxcb.supabase.co" to address: Unknown host


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\mixins.py", line 54, in retrieve
    instance = self.get_object()
               ^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\generics.py", line 100, in get_object
    obj = get_object_or_404(queryset, **filter_kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\generics.py", line 19, in get_object_or_404
    return _get_object_or_404(queryset, *filter_args, **filter_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\shortcuts.py", line 90, in get_object_or_404
    return queryset.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 629, in get
    num = len(clone)
          ^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 366, in __len__
    self._fetch_all()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 1949, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
              ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\sql\compiler.py", line 1621, in execute_sql
    cursor = self.connection.cursor()
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 320, in cursor
    return self._cursor()
           ^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 296, in _cursor
    self.ensure_connection()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 278, in ensure_connection
    with self.wrap_database_errors:
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\postgresql\base.py", line 332, in get_new_connection
    connection = self.Database.connect(**conn_params)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\psycopg2\__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.OperationalError: could not translate host name "db.hzkfwulyrzfpiyzdnxcb.supabase.co" to address: Unknown host

ERROR 2025-07-16 17:52:25,237 basehttp 19104 19348 "GET /api/contracts/4818080c-d7da-4704-bbd9-1eb49af38344/ HTTP/1.1" 500 214150
ERROR 2025-07-16 17:52:25,501 log 19104 19348 Internal Server Error: /api/clauses/
Traceback (most recent call last):
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\postgresql\base.py", line 332, in get_new_connection
    connection = self.Database.connect(**conn_params)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\psycopg2\__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: could not translate host name "db.hzkfwulyrzfpiyzdnxcb.supabase.co" to address: Unknown host


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\mixins.py", line 38, in list
    queryset = self.filter_queryset(self.get_queryset())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\generics.py", line 154, in filter_queryset
    queryset = backend().filter_queryset(self.request, queryset, self)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\rest_framework\backends.py", line 70, in filter_queryset
    if not filterset.is_valid() and self.raise_exception:
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\filterset.py", line 215, in is_valid
    return self.is_bound and self.form.is_valid()
                             ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\forms\forms.py", line 206, in is_valid
    return self.is_bound and not self.errors
                                 ^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\forms\forms.py", line 201, in errors
    self.full_clean()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\forms\forms.py", line 337, in full_clean
    self._clean_fields()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\forms\forms.py", line 345, in _clean_fields
    self.cleaned_data[name] = field._clean_bound_field(bf)
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\forms\fields.py", line 273, in _clean_bound_field
    return self.clean(value)
           ^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\forms\fields.py", line 208, in clean
    value = self.to_python(value)
            ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\fields.py", line 311, in to_python
    return super().to_python(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\forms\models.py", line 1564, in to_python
    value = self.queryset.get(**{key: value})
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 629, in get
    num = len(clone)
          ^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 366, in __len__
    self._fetch_all()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 1949, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
              ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\sql\compiler.py", line 1621, in execute_sql
    cursor = self.connection.cursor()
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 320, in cursor
    return self._cursor()
           ^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 296, in _cursor
    self.ensure_connection()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 278, in ensure_connection
    with self.wrap_database_errors:
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\postgresql\base.py", line 332, in get_new_connection
    connection = self.Database.connect(**conn_params)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\psycopg2\__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.OperationalError: could not translate host name "db.hzkfwulyrzfpiyzdnxcb.supabase.co" to address: Unknown host

ERROR 2025-07-16 17:52:25,504 basehttp 19104 19348 "GET /api/clauses/?contract=4818080c-d7da-4704-bbd9-1eb49af38344 HTTP/1.1" 500 245783
ERROR 2025-07-16 17:52:27,778 log 19104 19348 Internal Server Error: /api/contracts/dashboard_stats/
Traceback (most recent call last):
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\postgresql\base.py", line 332, in get_new_connection
    connection = self.Database.connect(**conn_params)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\psycopg2\__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: could not translate host name "db.hzkfwulyrzfpiyzdnxcb.supabase.co" to address: Unknown host


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\Documents\GitHub\Proyecto-grado-ICC\backend\contracts\views.py", line 148, in dashboard_stats
    'total_contracts': user_contracts.count(),
                       ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 604, in count
    return self.query.get_count(using=self.db)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\sql\query.py", line 644, in get_count
    return obj.get_aggregation(using, {"__count": Count("*")})["__count"]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\sql\query.py", line 626, in get_aggregation
    result = compiler.execute_sql(SINGLE)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\sql\compiler.py", line 1621, in execute_sql
    cursor = self.connection.cursor()
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 320, in cursor
    return self._cursor()
           ^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 296, in _cursor
    self.ensure_connection()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 278, in ensure_connection
    with self.wrap_database_errors:
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\postgresql\base.py", line 332, in get_new_connection
    connection = self.Database.connect(**conn_params)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\psycopg2\__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.OperationalError: could not translate host name "db.hzkfwulyrzfpiyzdnxcb.supabase.co" to address: Unknown host

ERROR 2025-07-16 17:52:27,793 basehttp 19104 19348 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 500 198483
ERROR 2025-07-16 17:52:28,248 log 19104 19348 Internal Server Error: /api/contracts/
Traceback (most recent call last):
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\postgresql\base.py", line 332, in get_new_connection
    connection = self.Database.connect(**conn_params)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\psycopg2\__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: could not translate host name "db.hzkfwulyrzfpiyzdnxcb.supabase.co" to address: Unknown host


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\mixins.py", line 40, in list
    page = self.paginate_queryset(queryset)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\generics.py", line 175, in paginate_queryset
    return self.paginator.paginate_queryset(queryset, self.request, view=self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\pagination.py", line 211, in paginate_queryset
    self.page = paginator.page(page_number)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\paginator.py", line 89, in page
    number = self.validate_number(number)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\paginator.py", line 70, in validate_number
    if number > self.num_pages:
                ^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\paginator.py", line 116, in num_pages
    if self.count == 0 and not self.allow_empty_first_page:
       ^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\paginator.py", line 110, in count
    return c()
           ^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 604, in count
    return self.query.get_count(using=self.db)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\sql\query.py", line 644, in get_count
    return obj.get_aggregation(using, {"__count": Count("*")})["__count"]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\sql\query.py", line 626, in get_aggregation
    result = compiler.execute_sql(SINGLE)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\sql\compiler.py", line 1621, in execute_sql
    cursor = self.connection.cursor()
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 320, in cursor
    return self._cursor()
           ^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 296, in _cursor
    self.ensure_connection()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 278, in ensure_connection
    with self.wrap_database_errors:
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\postgresql\base.py", line 332, in get_new_connection
    connection = self.Database.connect(**conn_params)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\psycopg2\__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.OperationalError: could not translate host name "db.hzkfwulyrzfpiyzdnxcb.supabase.co" to address: Unknown host

ERROR 2025-07-16 17:52:28,277 log 19104 18600 Internal Server Error: /api/contracts/
Traceback (most recent call last):
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\postgresql\base.py", line 332, in get_new_connection
    connection = self.Database.connect(**conn_params)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\psycopg2\__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: could not translate host name "db.hzkfwulyrzfpiyzdnxcb.supabase.co" to address: Unknown host


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\mixins.py", line 40, in list
    page = self.paginate_queryset(queryset)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\generics.py", line 175, in paginate_queryset
    return self.paginator.paginate_queryset(queryset, self.request, view=self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\pagination.py", line 211, in paginate_queryset
    self.page = paginator.page(page_number)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\paginator.py", line 89, in page
    number = self.validate_number(number)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\paginator.py", line 70, in validate_number
    if number > self.num_pages:
                ^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\paginator.py", line 116, in num_pages
    if self.count == 0 and not self.allow_empty_first_page:
       ^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\paginator.py", line 110, in count
    return c()
           ^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 604, in count
    return self.query.get_count(using=self.db)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\sql\query.py", line 644, in get_count
    return obj.get_aggregation(using, {"__count": Count("*")})["__count"]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\sql\query.py", line 626, in get_aggregation
    result = compiler.execute_sql(SINGLE)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\sql\compiler.py", line 1621, in execute_sql
    cursor = self.connection.cursor()
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 320, in cursor
    return self._cursor()
           ^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 296, in _cursor
    self.ensure_connection()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 278, in ensure_connection
    with self.wrap_database_errors:
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\postgresql\base.py", line 332, in get_new_connection
    connection = self.Database.connect(**conn_params)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\psycopg2\__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.OperationalError: could not translate host name "db.hzkfwulyrzfpiyzdnxcb.supabase.co" to address: Unknown host

ERROR 2025-07-16 17:52:28,281 basehttp 19104 19348 "GET /api/contracts/?page=1 HTTP/1.1" 500 231931
ERROR 2025-07-16 17:52:28,289 basehttp 19104 18600 "GET /api/contracts/?page_size=5 HTTP/1.1" 500 231977
ERROR 2025-07-16 17:52:29,600 log 19104 18600 Internal Server Error: /api/contracts/4818080c-d7da-4704-bbd9-1eb49af38344/
Traceback (most recent call last):
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\postgresql\base.py", line 332, in get_new_connection
    connection = self.Database.connect(**conn_params)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\psycopg2\__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: could not translate host name "db.hzkfwulyrzfpiyzdnxcb.supabase.co" to address: Unknown host


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\mixins.py", line 54, in retrieve
    instance = self.get_object()
               ^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\generics.py", line 100, in get_object
    obj = get_object_or_404(queryset, **filter_kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\generics.py", line 19, in get_object_or_404
    return _get_object_or_404(queryset, *filter_args, **filter_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\shortcuts.py", line 90, in get_object_or_404
    return queryset.get(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 629, in get
    num = len(clone)
          ^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 366, in __len__
    self._fetch_all()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 1949, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
              ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\sql\compiler.py", line 1621, in execute_sql
    cursor = self.connection.cursor()
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 320, in cursor
    return self._cursor()
           ^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 296, in _cursor
    self.ensure_connection()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 278, in ensure_connection
    with self.wrap_database_errors:
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\postgresql\base.py", line 332, in get_new_connection
    connection = self.Database.connect(**conn_params)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\psycopg2\__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.OperationalError: could not translate host name "db.hzkfwulyrzfpiyzdnxcb.supabase.co" to address: Unknown host

ERROR 2025-07-16 17:52:29,669 basehttp 19104 18600 "GET /api/contracts/4818080c-d7da-4704-bbd9-1eb49af38344/ HTTP/1.1" 500 214150
ERROR 2025-07-16 17:52:29,865 log 19104 19348 Internal Server Error: /api/clauses/
Traceback (most recent call last):
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\postgresql\base.py", line 332, in get_new_connection
    connection = self.Database.connect(**conn_params)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\psycopg2\__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: could not translate host name "db.hzkfwulyrzfpiyzdnxcb.supabase.co" to address: Unknown host


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\mixins.py", line 38, in list
    queryset = self.filter_queryset(self.get_queryset())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\generics.py", line 154, in filter_queryset
    queryset = backend().filter_queryset(self.request, queryset, self)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\rest_framework\backends.py", line 70, in filter_queryset
    if not filterset.is_valid() and self.raise_exception:
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\filterset.py", line 215, in is_valid
    return self.is_bound and self.form.is_valid()
                             ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\forms\forms.py", line 206, in is_valid
    return self.is_bound and not self.errors
                                 ^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\forms\forms.py", line 201, in errors
    self.full_clean()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\forms\forms.py", line 337, in full_clean
    self._clean_fields()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\forms\forms.py", line 345, in _clean_fields
    self.cleaned_data[name] = field._clean_bound_field(bf)
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\forms\fields.py", line 273, in _clean_bound_field
    return self.clean(value)
           ^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\forms\fields.py", line 208, in clean
    value = self.to_python(value)
            ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\fields.py", line 311, in to_python
    return super().to_python(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\forms\models.py", line 1564, in to_python
    value = self.queryset.get(**{key: value})
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 629, in get
    num = len(clone)
          ^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 366, in __len__
    self._fetch_all()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 1949, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\query.py", line 91, in __iter__
    results = compiler.execute_sql(
              ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\models\sql\compiler.py", line 1621, in execute_sql
    cursor = self.connection.cursor()
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 320, in cursor
    return self._cursor()
           ^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 296, in _cursor
    self.ensure_connection()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 278, in ensure_connection
    with self.wrap_database_errors:
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\django\db\backends\postgresql\base.py", line 332, in get_new_connection
    connection = self.Database.connect(**conn_params)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zaloke\anaconda3\envs\contract-analysis\Lib\site-packages\psycopg2\__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.OperationalError: could not translate host name "db.hzkfwulyrzfpiyzdnxcb.supabase.co" to address: Unknown host

ERROR 2025-07-16 17:52:29,870 basehttp 19104 19348 "GET /api/clauses/?contract=4818080c-d7da-4704-bbd9-1eb49af38344 HTTP/1.1" 500 245783
INFO 2025-07-16 23:04:04,859 basehttp 19104 22632 "GET /api/clauses/?contract=4818080c-d7da-4704-bbd9-1eb49af38344 HTTP/1.1" 200 3701
INFO 2025-07-16 23:04:04,970 basehttp 19104 22788 "GET /api/contracts/4818080c-d7da-4704-bbd9-1eb49af38344/ HTTP/1.1" 200 5889
INFO 2025-07-16 23:04:05,081 basehttp 19104 24268 "GET /api/contracts/?page_size=5 HTTP/1.1" 200 1998
INFO 2025-07-16 23:04:05,214 basehttp 19104 22916 "GET /api/contracts/?page=1 HTTP/1.1" 200 1998
INFO 2025-07-16 23:04:05,417 basehttp 19104 23004 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 200 2081
INFO 2025-07-16 23:04:05,504 basehttp 19104 22788 "GET /api/clauses/?contract=4818080c-d7da-4704-bbd9-1eb49af38344 HTTP/1.1" 200 3701
INFO 2025-07-16 23:04:06,550 basehttp 19104 23004 "GET /api/contracts/dashboard_stats/ HTTP/1.1" 200 2081
INFO 2025-08-05 13:01:16,507 autoreload 13920 22680 Watching for file changes with StatReloader
INFO 2025-08-05 13:05:35,257 autoreload 17200 26184 Watching for file changes with StatReloader
INFO 2025-08-05 14:43:51,419 basehttp 17200 5056 "OPTIONS /api/contracts/?page_size=100 HTTP/1.1" 200 0
INFO 2025-08-05 14:43:51,422 basehttp 17200 18508 "OPTIONS /api/contracts/?page_size=5 HTTP/1.1" 200 0
ERROR 2025-08-05 14:43:53,152 log 17200 18508 Internal Server Error: /api/contracts/
Traceback (most recent call last):
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\mixins.py", line 38, in list
    queryset = self.filter_queryset(self.get_queryset())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\generics.py", line 154, in filter_queryset
    queryset = backend().filter_queryset(self.request, queryset, self)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\rest_framework\backends.py", line 94, in filter_queryset
    if not filterset.is_valid() and self.raise_exception:
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\filterset.py", line 212, in is_valid
    return self.is_bound and self.form.is_valid()
                             ^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\rest_framework\filterset.py", line 24, in form
    form = super().form
           ^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\filterset.py", line 264, in form
    Form = self.get_form_class()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\filterset.py", line 254, in get_form_class
    fields = OrderedDict([
                         ^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\filterset.py", line 255, in <listcomp>
    (name, filter_.field)
           ^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\filters.py", line 137, in field
    self._field = self.field_class(label=self.label, **field_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\fields.py", line 278, in __init__
    super().__init__(*args, **kwargs)
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\fields.py", line 259, in __init__
    super().__init__(*args, **kwargs)
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\forms\fields.py", line 895, in __init__
    self.choices = choices
    ^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\fields.py", line 265, in _set_choices
    super()._set_choices(value)
    ^^^^^^^^^^^^^^^^^^^^
AttributeError: 'super' object has no attribute '_set_choices'
ERROR 2025-08-05 14:43:53,176 log 17200 5056 Internal Server Error: /api/contracts/
Traceback (most recent call last):
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\mixins.py", line 38, in list
    queryset = self.filter_queryset(self.get_queryset())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\generics.py", line 154, in filter_queryset
    queryset = backend().filter_queryset(self.request, queryset, self)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\rest_framework\backends.py", line 94, in filter_queryset
    if not filterset.is_valid() and self.raise_exception:
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\filterset.py", line 212, in is_valid
    return self.is_bound and self.form.is_valid()
                             ^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\rest_framework\filterset.py", line 24, in form
    form = super().form
           ^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\filterset.py", line 264, in form
    Form = self.get_form_class()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\filterset.py", line 254, in get_form_class
    fields = OrderedDict([
                         ^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\filterset.py", line 255, in <listcomp>
    (name, filter_.field)
           ^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\filters.py", line 137, in field
    self._field = self.field_class(label=self.label, **field_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\fields.py", line 278, in __init__
    super().__init__(*args, **kwargs)
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\fields.py", line 259, in __init__
    super().__init__(*args, **kwargs)
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\forms\fields.py", line 895, in __init__
    self.choices = choices
    ^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\fields.py", line 265, in _set_choices
    super()._set_choices(value)
    ^^^^^^^^^^^^^^^^^^^^
AttributeError: 'super' object has no attribute '_set_choices'
ERROR 2025-08-05 14:43:53,184 basehttp 17200 18508 "GET /api/contracts/?page_size=5 HTTP/1.1" 500 151042
ERROR 2025-08-05 14:43:53,191 basehttp 17200 5056 "GET /api/contracts/?page_size=100 HTTP/1.1" 500 151070
ERROR 2025-08-05 14:43:55,359 log 17200 18508 Internal Server Error: /api/contracts/
Traceback (most recent call last):
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\mixins.py", line 38, in list
    queryset = self.filter_queryset(self.get_queryset())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\generics.py", line 154, in filter_queryset
    queryset = backend().filter_queryset(self.request, queryset, self)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\rest_framework\backends.py", line 94, in filter_queryset
    if not filterset.is_valid() and self.raise_exception:
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\filterset.py", line 212, in is_valid
    return self.is_bound and self.form.is_valid()
                             ^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\rest_framework\filterset.py", line 24, in form
    form = super().form
           ^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\filterset.py", line 264, in form
    Form = self.get_form_class()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\filterset.py", line 254, in get_form_class
    fields = OrderedDict([
                         ^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\filterset.py", line 255, in <listcomp>
    (name, filter_.field)
           ^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\filters.py", line 137, in field
    self._field = self.field_class(label=self.label, **field_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\fields.py", line 278, in __init__
    super().__init__(*args, **kwargs)
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\fields.py", line 259, in __init__
    super().__init__(*args, **kwargs)
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\forms\fields.py", line 895, in __init__
    self.choices = choices
    ^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\fields.py", line 265, in _set_choices
    super()._set_choices(value)
    ^^^^^^^^^^^^^^^^^^^^
AttributeError: 'super' object has no attribute '_set_choices'
ERROR 2025-08-05 14:43:55,363 basehttp 17200 18508 "GET /api/contracts/?page_size=100 HTTP/1.1" 500 151070
ERROR 2025-08-05 14:43:55,403 log 17200 5056 Internal Server Error: /api/contracts/
Traceback (most recent call last):
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\mixins.py", line 38, in list
    queryset = self.filter_queryset(self.get_queryset())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\generics.py", line 154, in filter_queryset
    queryset = backend().filter_queryset(self.request, queryset, self)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\rest_framework\backends.py", line 94, in filter_queryset
    if not filterset.is_valid() and self.raise_exception:
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\filterset.py", line 212, in is_valid
    return self.is_bound and self.form.is_valid()
                             ^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\rest_framework\filterset.py", line 24, in form
    form = super().form
           ^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\filterset.py", line 264, in form
    Form = self.get_form_class()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\filterset.py", line 254, in get_form_class
    fields = OrderedDict([
                         ^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\filterset.py", line 255, in <listcomp>
    (name, filter_.field)
           ^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\filters.py", line 137, in field
    self._field = self.field_class(label=self.label, **field_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\fields.py", line 278, in __init__
    super().__init__(*args, **kwargs)
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\fields.py", line 259, in __init__
    super().__init__(*args, **kwargs)
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\forms\fields.py", line 895, in __init__
    self.choices = choices
    ^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\fields.py", line 265, in _set_choices
    super()._set_choices(value)
    ^^^^^^^^^^^^^^^^^^^^
AttributeError: 'super' object has no attribute '_set_choices'
ERROR 2025-08-05 14:43:55,407 basehttp 17200 5056 "GET /api/contracts/?page_size=5 HTTP/1.1" 500 151042
ERROR 2025-08-05 14:43:58,548 log 17200 5056 Internal Server Error: /api/contracts/
Traceback (most recent call last):
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\mixins.py", line 38, in list
    queryset = self.filter_queryset(self.get_queryset())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\generics.py", line 154, in filter_queryset
    queryset = backend().filter_queryset(self.request, queryset, self)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\rest_framework\backends.py", line 94, in filter_queryset
    if not filterset.is_valid() and self.raise_exception:
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\filterset.py", line 212, in is_valid
    return self.is_bound and self.form.is_valid()
                             ^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\rest_framework\filterset.py", line 24, in form
    form = super().form
           ^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\filterset.py", line 264, in form
    Form = self.get_form_class()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\filterset.py", line 254, in get_form_class
    fields = OrderedDict([
                         ^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\filterset.py", line 255, in <listcomp>
    (name, filter_.field)
           ^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\filters.py", line 137, in field
    self._field = self.field_class(label=self.label, **field_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\fields.py", line 278, in __init__
    super().__init__(*args, **kwargs)
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\fields.py", line 259, in __init__
    super().__init__(*args, **kwargs)
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\forms\fields.py", line 895, in __init__
    self.choices = choices
    ^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\fields.py", line 265, in _set_choices
    super()._set_choices(value)
    ^^^^^^^^^^^^^^^^^^^^
AttributeError: 'super' object has no attribute '_set_choices'
ERROR 2025-08-05 14:43:58,571 log 17200 18508 Internal Server Error: /api/contracts/
Traceback (most recent call last):
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\mixins.py", line 38, in list
    queryset = self.filter_queryset(self.get_queryset())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\rest_framework\generics.py", line 154, in filter_queryset
    queryset = backend().filter_queryset(self.request, queryset, self)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\rest_framework\backends.py", line 94, in filter_queryset
    if not filterset.is_valid() and self.raise_exception:
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\filterset.py", line 212, in is_valid
    return self.is_bound and self.form.is_valid()
                             ^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\rest_framework\filterset.py", line 24, in form
    form = super().form
           ^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\filterset.py", line 264, in form
    Form = self.get_form_class()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\filterset.py", line 254, in get_form_class
    fields = OrderedDict([
                         ^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\filterset.py", line 255, in <listcomp>
    (name, filter_.field)
           ^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\filters.py", line 137, in field
    self._field = self.field_class(label=self.label, **field_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\fields.py", line 278, in __init__
    super().__init__(*args, **kwargs)
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\fields.py", line 259, in __init__
    super().__init__(*args, **kwargs)
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django\forms\fields.py", line 895, in __init__
    self.choices = choices
    ^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\site-packages\django_filters\fields.py", line 265, in _set_choices
    super()._set_choices(value)
    ^^^^^^^^^^^^^^^^^^^^
AttributeError: 'super' object has no attribute '_set_choices'
ERROR 2025-08-05 14:43:58,576 basehttp 17200 5056 "GET /api/contracts/?page_size=100 HTTP/1.1" 500 151070
ERROR 2025-08-05 14:43:58,583 basehttp 17200 18508 "GET /api/contracts/?page_size=5 HTTP/1.1" 500 151042
INFO 2025-08-05 14:46:33,467 autoreload 22628 25956 Watching for file changes with StatReloader
INFO 2025-08-05 14:47:44,492 basehttp 22628 29548 "GET /api/contracts/?page_size=5 HTTP/1.1" 200 2750
INFO 2025-08-05 14:47:44,638 basehttp 22628 7356 "GET /api/contracts/?page_size=100 HTTP/1.1" 200 2750
INFO 2025-08-05 14:47:50,250 basehttp 22628 7356 "OPTIONS /api/contract-types/ HTTP/1.1" 200 0
INFO 2025-08-05 14:47:50,392 basehttp 22628 7356 "GET /api/contract-types/ HTTP/1.1" 200 1236
INFO 2025-08-05 14:49:57,345 basehttp 22628 7356 "OPTIONS /api/contracts/ HTTP/1.1" 200 0
INFO 2025-08-05 14:49:57,824 ml_service 22628 7356 Iniciando extracción de cláusulas con LLM (prompt mejorado)
DEBUG 2025-08-05 14:49:57,825 ml_service 22628 7356 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
ERROR 2025-08-05 14:50:11,010 ml_service 22628 7356 Error en el análisis del LLM: Unterminated string starting at: line 45 column 15 (char 2800)
Traceback (most recent call last):
  File "C:\Users\User\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 112, in _call_llm_api
    analysis = json.loads(content)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\json\decoder.py", line 353, in raw_decode
    obj, end = self.scan_once(s, idx)
               ^^^^^^^^^^^^^^^^^^^^^^
json.decoder.JSONDecodeError: Unterminated string starting at: line 45 column 15 (char 2800)
ERROR 2025-08-05 14:50:11,020 ml_service 22628 7356 No se pudieron extraer cláusulas con el LLM.
Traceback (most recent call last):
  File "C:\Users\User\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 200, in _extract_clauses_with_llm
    analysis = self._call_llm_api(prompt, system_message)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 112, in _call_llm_api
    analysis = json.loads(content)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\json\decoder.py", line 353, in raw_decode
    obj, end = self.scan_once(s, idx)
               ^^^^^^^^^^^^^^^^^^^^^^
json.decoder.JSONDecodeError: Unterminated string starting at: line 45 column 15 (char 2800)
INFO 2025-08-05 14:50:11,027 ml_service 22628 7356 Usando método de extracción regex como respaldo.
INFO 2025-08-05 14:50:11,042 ml_service 22628 7356 Validando cláusula con LLM: 'PRIMERO: : EL PROPIETARIO da en alquiler a LA INQUILINA un apartamento en el ter...'
DEBUG 2025-08-05 14:50:11,043 ml_service 22628 7356 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 14:50:12,636 ml_service 22628 7356 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula establece los términos básicos de un contrato de arrendamiento.', 'suggested_fix': '', 'confidence': 0.95}
INFO 2025-08-05 14:50:12,700 ml_service 22628 7356 Validando cláusula con LLM: 'SEGUNDO: : EL PROPIETARIO garantiza a LA INQUILINA el uso y disfrute pacífico de...'
DEBUG 2025-08-05 14:50:12,701 ml_service 22628 7356 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 14:50:13,734 ml_service 22628 7356 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula establece el derecho de la inquilina al uso y disfrute pacífico del inmueble arrendado.', 'suggested_fix': '', 'confidence': 0.95}
INFO 2025-08-05 14:50:13,762 ml_service 22628 7356 Validando cláusula con LLM: 'TERCERO: : LA INQUILINA queda obligada a mantener el inmueble en perfectas condi...'
DEBUG 2025-08-05 14:50:13,763 ml_service 22628 7356 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 14:50:52,895 ml_service 22628 7356 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula establece las responsabilidades del inquilino en el mantenimiento del inmueble.', 'suggested_fix': '', 'confidence': 0.95}
INFO 2025-08-05 14:50:52,926 ml_service 22628 7356 Validando cláusula con LLM: 'CUARTO: : LA INQUILINA se compromete a no hacer modificaciones en el inmueble si...'
DEBUG 2025-08-05 14:50:52,926 ml_service 22628 7356 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 14:50:55,045 ml_service 22628 7356 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'Esta cláusula establece una restricción razonable sobre las modificaciones en el inmueble, requiriendo el consentimiento por escrito del propietario.', 'suggested_fix': '', 'confidence': 0.95}
INFO 2025-08-05 14:50:55,085 ml_service 22628 7356 Validando cláusula con LLM: 'QUINTO: : LA INQUILINA queda obligada a pagar la suma de VEINTINUEVE MIL PESOS D...'
DEBUG 2025-08-05 14:50:55,086 ml_service 22628 7356 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 14:50:56,997 ml_service 22628 7356 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula establece los términos de pago del alquiler y las consecuencias de un retraso, lo que es común en un contrato de arrendamiento.', 'suggested_fix': '', 'confidence': 0.95}
INFO 2025-08-05 14:50:57,044 ml_service 22628 7356 Validando cláusula con LLM: 'SEXTO: : El presente contrato tendrá una vigencia de UN (1) año a partir de la f...'
DEBUG 2025-08-05 14:50:57,045 ml_service 22628 7356 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
INFO 2025-08-05 14:50:58,508 autoreload 22628 25956 C:\Users\User\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py changed, reloading.
INFO 2025-08-05 14:51:00,467 autoreload 20084 16824 Watching for file changes with StatReloader
INFO 2025-08-05 14:52:52,113 ml_service 20084 14644 Iniciando extracción de cláusulas con LLM (prompt mejorado)
DEBUG 2025-08-05 14:52:52,114 ml_service 20084 14644 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
ERROR 2025-08-05 14:53:00,854 ml_service 20084 14644 Error en el análisis del LLM: Unterminated string starting at: line 45 column 15 (char 2800)
Traceback (most recent call last):
  File "C:\Users\User\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 112, in _call_llm_api
    analysis = json.loads(content)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\json\decoder.py", line 353, in raw_decode
    obj, end = self.scan_once(s, idx)
               ^^^^^^^^^^^^^^^^^^^^^^
json.decoder.JSONDecodeError: Unterminated string starting at: line 45 column 15 (char 2800)
ERROR 2025-08-05 14:53:00,861 ml_service 20084 14644 No se pudieron extraer cláusulas con el LLM.
Traceback (most recent call last):
  File "C:\Users\User\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 200, in _extract_clauses_with_llm
    analysis = self._call_llm_api(prompt, system_message)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 112, in _call_llm_api
    analysis = json.loads(content)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\json\decoder.py", line 353, in raw_decode
    obj, end = self.scan_once(s, idx)
               ^^^^^^^^^^^^^^^^^^^^^^
json.decoder.JSONDecodeError: Unterminated string starting at: line 45 column 15 (char 2800)
INFO 2025-08-05 14:53:00,868 ml_service 20084 14644 Usando método de extracción regex como respaldo.
INFO 2025-08-05 14:53:00,879 ml_service 20084 14644 Validando cláusula con LLM: 'PRIMERO: : EL PROPIETARIO da en alquiler a LA INQUILINA un apartamento en el ter...'
DEBUG 2025-08-05 14:53:00,880 ml_service 20084 14644 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 14:53:02,901 ml_service 20084 14644 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula parece ser una estipulación de alquiler común y no contiene elementos abusivos.', 'suggested_fix': '', 'confidence': 0.95}
INFO 2025-08-05 14:53:02,962 ml_service 20084 14644 Validando cláusula con LLM: 'SEGUNDO: : EL PROPIETARIO garantiza a LA INQUILINA el uso y disfrute pacífico de...'
DEBUG 2025-08-05 14:53:02,963 ml_service 20084 14644 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 14:53:04,215 ml_service 20084 14644 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula establece el derecho de la inquilina al uso y disfrute pacífico del inmueble arrendado.', 'suggested_fix': '', 'confidence': 0.95}
INFO 2025-08-05 14:53:04,243 ml_service 20084 14644 Validando cláusula con LLM: 'TERCERO: : LA INQUILINA queda obligada a mantener el inmueble en perfectas condi...'
DEBUG 2025-08-05 14:53:04,244 ml_service 20084 14644 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 14:53:05,843 ml_service 20084 14644 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula establece las responsabilidades del inquilino en relación al mantenimiento del inmueble.', 'suggested_fix': '', 'confidence': 0.95}
INFO 2025-08-05 14:53:05,889 ml_service 20084 14644 Validando cláusula con LLM: 'CUARTO: : LA INQUILINA se compromete a no hacer modificaciones en el inmueble si...'
DEBUG 2025-08-05 14:53:05,890 ml_service 20084 14644 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 14:53:07,573 ml_service 20084 14644 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula establece una condición común en los contratos de arrendamiento donde el arrendatario requiere permiso para realizar modificaciones en el inmueble.', 'suggested_fix': '', 'confidence': 0.95}
INFO 2025-08-05 14:53:07,605 ml_service 20084 14644 Validando cláusula con LLM: 'QUINTO: : LA INQUILINA queda obligada a pagar la suma de VEINTINUEVE MIL PESOS D...'
DEBUG 2025-08-05 14:53:07,606 ml_service 20084 14644 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 14:53:08,975 ml_service 20084 14644 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'Esta cláusula establece el monto y la fecha de pago del alquiler, así como las consecuencias de un retraso en el pago.', 'suggested_fix': '', 'confidence': 0.95}
INFO 2025-08-05 14:53:09,001 ml_service 20084 14644 Validando cláusula con LLM: 'SEXTO: : El presente contrato tendrá una vigencia de UN (1) año a partir de la f...'
DEBUG 2025-08-05 14:53:09,002 ml_service 20084 14644 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 14:53:10,746 ml_service 20084 14644 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula especifica los términos de vigencia y terminación del contrato.', 'suggested_fix': '', 'confidence': 0.95}
INFO 2025-08-05 14:53:32,609 basehttp 20084 27176 "GET /api/contracts/?page_size=5 HTTP/1.1" 200 3428
INFO 2025-08-05 14:53:32,708 basehttp 20084 10112 "GET /api/contracts/?page_size=100 HTTP/1.1" 200 3428
INFO 2025-08-05 14:53:47,770 basehttp 20084 9752 "OPTIONS /api/contracts/dc10945e-78df-4e07-932a-560a6aa77d34/ HTTP/1.1" 200 0
INFO 2025-08-05 14:53:47,770 basehttp 20084 23812 "OPTIONS /api/clauses/?contract=dc10945e-78df-4e07-932a-560a6aa77d34 HTTP/1.1" 200 0
INFO 2025-08-05 14:54:00,413 basehttp 20084 28932 "GET /api/clauses/?contract=dc10945e-78df-4e07-932a-560a6aa77d34 HTTP/1.1" 200 52
INFO 2025-08-05 14:54:00,592 basehttp 20084 18996 "GET /api/contracts/dc10945e-78df-4e07-932a-560a6aa77d34/ HTTP/1.1" 200 3305
INFO 2025-08-05 14:54:27,580 basehttp 20084 1556 "GET /api/contracts/dc10945e-78df-4e07-932a-560a6aa77d34/ HTTP/1.1" 200 3305
INFO 2025-08-05 14:54:35,037 basehttp 20084 27176 "OPTIONS /api/clauses/?contract=dc10945e-78df-4e07-932a-560a6aa77d34 HTTP/1.1" 200 0
INFO 2025-08-05 14:54:35,043 basehttp 20084 10112 "OPTIONS /api/contracts/dc10945e-78df-4e07-932a-560a6aa77d34/ HTTP/1.1" 200 0
INFO 2025-08-05 14:54:35,063 ml_service 20084 14644 Validando cláusula con LLM: 'SÉPTIMO: : En caso de renovación, el alquiler aumentará conforme a la tasa de in...'
DEBUG 2025-08-05 14:54:35,064 ml_service 20084 14644 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
INFO 2025-08-05 14:54:35,380 basehttp 20084 18996 - Broken pipe from ('127.0.0.1', 62501)
INFO 2025-08-05 14:54:35,388 basehttp 20084 28932 - Broken pipe from ('127.0.0.1', 62502)
INFO 2025-08-05 14:54:35,402 basehttp 20084 1556 "GET /api/contracts/dc10945e-78df-4e07-932a-560a6aa77d34/ HTTP/1.1" 200 3305
INFO 2025-08-05 14:54:35,656 basehttp 20084 9752 - Broken pipe from ('127.0.0.1', 62499)
INFO 2025-08-05 14:54:35,854 basehttp 20084 23812 - Broken pipe from ('127.0.0.1', 62500)
DEBUG 2025-08-05 14:54:36,395 ml_service 20084 14644 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula establece una fórmula para ajustar el alquiler en caso de renovación.', 'suggested_fix': '', 'confidence': 0.95}
INFO 2025-08-05 14:54:36,414 ml_service 20084 14644 Validando cláusula con LLM: 'OCTAVO: : LA INQUILINA asumirá el pago de los servicios de electricidad, teléfon...'
DEBUG 2025-08-05 14:54:36,415 ml_service 20084 14644 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 14:54:37,727 ml_service 20084 14644 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'Esta cláusula asigna responsabilidades claras de pago de servicios entre las partes.', 'suggested_fix': '', 'confidence': 0.95}
INFO 2025-08-05 14:54:37,750 ml_service 20084 14644 Validando cláusula con LLM: 'NOVENO: : LA INQUILINA presenta como su FIADOR SOLIDARIO E INDIVISIBLE a la seño...'
DEBUG 2025-08-05 14:54:37,751 ml_service 20084 14644 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
INFO 2025-08-05 14:54:38,776 basehttp 20084 1556 "GET /api/contracts/dc10945e-78df-4e07-932a-560a6aa77d34/ HTTP/1.1" 200 3305
DEBUG 2025-08-05 14:54:39,028 ml_service 20084 14644 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'Esta cláusula establece una garantía solidaria para el cumplimiento del contrato de arrendamiento.', 'suggested_fix': '', 'confidence': 0.95}
INFO 2025-08-05 14:54:39,079 ml_service 20084 14644 Validando cláusula con LLM: 'DÉCIMO: : LA INQUILINA se obliga a entregar el inmueble en perfecto estado al té...'
DEBUG 2025-08-05 14:54:39,080 ml_service 20084 14644 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 14:54:40,258 ml_service 20084 14644 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula establece la obligación del inquilino de devolver el inmueble en buen estado y dar por terminados los contratos de servicios. No parece abusiva.', 'suggested_fix': '', 'confidence': 0.95}
INFO 2025-08-05 14:54:40,284 ml_service 20084 14644 Validando cláusula con LLM: 'PRIMERO: : En caso de que LA INQUILINA rescinda el contrato antes de su vencimie...'
DEBUG 2025-08-05 14:54:40,285 ml_service 20084 14644 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 14:54:42,051 ml_service 20084 14644 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'La cláusula impone una penalidad desproporcionada y unívoca a la inquilina en caso de rescisión anticipada del contrato.', 'suggested_fix': 'La penalidad debería ser equivalente a los daños y perjuicios reales sufridos por la parte perjudicada, no una cantidad fija.', 'confidence': 0.9}
INFO 2025-08-05 14:54:42,084 ml_service 20084 14644 Validando cláusula con LLM: 'SEGUNDO: : Todas las condiciones del presente contrato son esenciales y su incum...'
DEBUG 2025-08-05 14:54:42,085 ml_service 20084 14644 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
INFO 2025-08-05 14:54:42,142 basehttp 20084 1556 "GET /api/contracts/dc10945e-78df-4e07-932a-560a6aa77d34/ HTTP/1.1" 200 3305
DEBUG 2025-08-05 14:54:43,571 ml_service 20084 14644 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'Esta cláusula establece las consecuencias en caso de incumplimiento de las condiciones contractuales.', 'suggested_fix': '', 'confidence': 0.95}
INFO 2025-08-05 14:54:43,592 ml_service 20084 14644 Validando cláusula con LLM: 'TERCERO: : Las partes se someten a la jurisdicción de los tribunales de Santo Do...'
DEBUG 2025-08-05 14:54:43,592 ml_service 20084 14644 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 14:54:44,869 ml_service 20084 14644 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'Cláusula común en contratos para establecer la jurisdicción competente en caso de disputa.', 'suggested_fix': '', 'confidence': 0.95}
INFO 2025-08-05 14:54:44,891 ml_service 20084 14644 Iniciando análisis LLM para 1 cláusulas
DEBUG 2025-08-05 14:54:44,892 ml_service 20084 14644 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
INFO 2025-08-05 14:54:45,509 basehttp 20084 1556 "GET /api/contracts/dc10945e-78df-4e07-932a-560a6aa77d34/ HTTP/1.1" 200 3305
DEBUG 2025-08-05 14:54:48,523 ml_service 20084 14644 Análisis LLM recibido: {'resumen': 'La cláusula primera del contrato podría generar una carga financiera excesiva para la inquilina, quien debería pagar no solo los alquileres vencidos sino también una penalidad completa de un mes de renta en caso de rescindir antes del vencimiento. Esto representa un riesgo desproporcionado y potencialmente abusivo para la inquilina.', 'recomendations': ['Negociar la modificación de la cláusula primera para reducir o eliminar la penalidad por rescisión anticipada, considerando una penalización proporcional al tiempo restante del contrato en lugar de un mes completo de renta.', 'Considerar la posibilidad de incluir una cláusula que permita la rescisión anticipada del contrato sin penalización en caso de presentarse situaciones justificadas, como por ejemplo, pérdida de empleo o traslado forzoso.', 'Buscar asesoramiento legal adicional antes de firmar el contrato para garantizar que los términos sean justos y equitativos para ambas partes.']}
INFO 2025-08-05 14:54:48,874 basehttp 20084 1556 "GET /api/contracts/dc10945e-78df-4e07-932a-560a6aa77d34/ HTTP/1.1" 200 3305
INFO 2025-08-05 14:54:49,491 basehttp 20084 14644 - Broken pipe from ('127.0.0.1', 62475)
INFO 2025-08-05 14:54:52,243 basehttp 20084 1556 "GET /api/contracts/dc10945e-78df-4e07-932a-560a6aa77d34/ HTTP/1.1" 200 3305
INFO 2025-08-05 14:54:55,615 basehttp 20084 1556 "GET /api/contracts/dc10945e-78df-4e07-932a-560a6aa77d34/ HTTP/1.1" 200 3305
INFO 2025-08-05 14:54:58,973 basehttp 20084 1556 "GET /api/contracts/dc10945e-78df-4e07-932a-560a6aa77d34/ HTTP/1.1" 200 3305
INFO 2025-08-05 14:55:02,332 basehttp 20084 1556 "GET /api/contracts/dc10945e-78df-4e07-932a-560a6aa77d34/ HTTP/1.1" 200 3305
INFO 2025-08-05 14:55:05,687 basehttp 20084 1556 "GET /api/contracts/dc10945e-78df-4e07-932a-560a6aa77d34/ HTTP/1.1" 200 3305
INFO 2025-08-05 14:55:09,058 basehttp 20084 1556 "GET /api/contracts/dc10945e-78df-4e07-932a-560a6aa77d34/ HTTP/1.1" 200 3305
INFO 2025-08-05 14:55:12,430 basehttp 20084 1556 "GET /api/contracts/dc10945e-78df-4e07-932a-560a6aa77d34/ HTTP/1.1" 200 3305
INFO 2025-08-05 14:55:15,798 basehttp 20084 1556 "GET /api/contracts/dc10945e-78df-4e07-932a-560a6aa77d34/ HTTP/1.1" 200 3305
INFO 2025-08-05 14:55:19,161 basehttp 20084 1556 "GET /api/contracts/dc10945e-78df-4e07-932a-560a6aa77d34/ HTTP/1.1" 200 3305
INFO 2025-08-05 14:55:33,599 basehttp 20084 1556 - Broken pipe from ('127.0.0.1', 62511)
INFO 2025-08-05 14:55:39,121 basehttp 20084 10112 "GET /api/contracts/dc10945e-78df-4e07-932a-560a6aa77d34/ HTTP/1.1" 200 3305
INFO 2025-08-05 14:55:43,772 basehttp 20084 10112 "GET /api/contracts/dc10945e-78df-4e07-932a-560a6aa77d34/ HTTP/1.1" 200 3305
INFO 2025-08-05 14:55:47,087 basehttp 20084 10112 "GET /api/contracts/dc10945e-78df-4e07-932a-560a6aa77d34/ HTTP/1.1" 200 3305
INFO 2025-08-05 14:55:50,415 basehttp 20084 10112 "GET /api/contracts/dc10945e-78df-4e07-932a-560a6aa77d34/ HTTP/1.1" 200 3305
INFO 2025-08-05 14:55:53,729 basehttp 20084 10112 "GET /api/contracts/dc10945e-78df-4e07-932a-560a6aa77d34/ HTTP/1.1" 200 3305
INFO 2025-08-05 14:55:57,054 basehttp 20084 10112 "GET /api/contracts/dc10945e-78df-4e07-932a-560a6aa77d34/ HTTP/1.1" 200 3305
INFO 2025-08-05 14:56:00,377 basehttp 20084 10112 "GET /api/contracts/dc10945e-78df-4e07-932a-560a6aa77d34/ HTTP/1.1" 200 3305
INFO 2025-08-05 14:56:03,691 basehttp 20084 10112 "GET /api/contracts/dc10945e-78df-4e07-932a-560a6aa77d34/ HTTP/1.1" 200 3305
INFO 2025-08-05 14:56:07,012 basehttp 20084 10112 "GET /api/contracts/dc10945e-78df-4e07-932a-560a6aa77d34/ HTTP/1.1" 200 3305
INFO 2025-08-05 14:56:10,322 basehttp 20084 10112 "GET /api/contracts/dc10945e-78df-4e07-932a-560a6aa77d34/ HTTP/1.1" 200 3305
INFO 2025-08-05 14:56:13,644 basehttp 20084 10112 "GET /api/contracts/dc10945e-78df-4e07-932a-560a6aa77d34/ HTTP/1.1" 200 3305
INFO 2025-08-05 14:56:16,970 basehttp 20084 10112 "GET /api/contracts/dc10945e-78df-4e07-932a-560a6aa77d34/ HTTP/1.1" 200 3305
INFO 2025-08-05 14:56:20,309 basehttp 20084 10112 "GET /api/contracts/dc10945e-78df-4e07-932a-560a6aa77d34/ HTTP/1.1" 200 3305
INFO 2025-08-05 14:56:23,632 basehttp 20084 10112 "GET /api/contracts/dc10945e-78df-4e07-932a-560a6aa77d34/ HTTP/1.1" 200 3305
INFO 2025-08-05 14:56:26,950 basehttp 20084 10112 "GET /api/contracts/dc10945e-78df-4e07-932a-560a6aa77d34/ HTTP/1.1" 200 3305
INFO 2025-08-05 14:56:30,296 basehttp 20084 10112 "GET /api/contracts/dc10945e-78df-4e07-932a-560a6aa77d34/ HTTP/1.1" 200 3305
INFO 2025-08-05 14:56:33,638 basehttp 20084 10112 "GET /api/contracts/dc10945e-78df-4e07-932a-560a6aa77d34/ HTTP/1.1" 200 3305
INFO 2025-08-05 14:56:36,967 basehttp 20084 10112 "GET /api/contracts/dc10945e-78df-4e07-932a-560a6aa77d34/ HTTP/1.1" 200 3305
INFO 2025-08-05 14:56:40,283 basehttp 20084 10112 "GET /api/contracts/dc10945e-78df-4e07-932a-560a6aa77d34/ HTTP/1.1" 200 3305
INFO 2025-08-05 14:56:43,605 basehttp 20084 10112 "GET /api/contracts/dc10945e-78df-4e07-932a-560a6aa77d34/ HTTP/1.1" 200 3305
INFO 2025-08-05 14:56:46,916 basehttp 20084 10112 "GET /api/contracts/dc10945e-78df-4e07-932a-560a6aa77d34/ HTTP/1.1" 200 3305
INFO 2025-08-05 14:56:51,091 basehttp 20084 10112 "GET /api/contracts/?page_size=100 HTTP/1.1" 200 3460
INFO 2025-08-05 14:56:51,706 basehttp 20084 10112 "OPTIONS /api/contracts/26e0196f-c27b-4924-87e9-be5241434ab6/ HTTP/1.1" 200 0
INFO 2025-08-05 14:56:51,706 basehttp 20084 27176 "OPTIONS /api/clauses/?contract=26e0196f-c27b-4924-87e9-be5241434ab6 HTTP/1.1" 200 0
INFO 2025-08-05 14:56:52,712 basehttp 20084 10112 "GET /api/clauses/?contract=26e0196f-c27b-4924-87e9-be5241434ab6 HTTP/1.1" 200 10203
INFO 2025-08-05 14:56:52,849 basehttp 20084 27176 "GET /api/contracts/26e0196f-c27b-4924-87e9-be5241434ab6/ HTTP/1.1" 200 13487
INFO 2025-08-05 14:56:53,901 basehttp 20084 27176 "GET /api/clauses/?contract=26e0196f-c27b-4924-87e9-be5241434ab6 HTTP/1.1" 200 10203
INFO 2025-08-05 14:57:25,088 basehttp 20084 27176 "GET /api/contracts/?page_size=100 HTTP/1.1" 200 3460
INFO 2025-08-05 14:57:25,245 basehttp 20084 27176 "GET /api/clauses/?contract=dc10945e-78df-4e07-932a-560a6aa77d34 HTTP/1.1" 200 52
INFO 2025-08-05 14:57:28,432 basehttp 20084 27176 "GET /api/contracts/dc10945e-78df-4e07-932a-560a6aa77d34/ HTTP/1.1" 200 3305
INFO 2025-08-05 14:57:31,771 basehttp 20084 27176 "GET /api/contracts/dc10945e-78df-4e07-932a-560a6aa77d34/ HTTP/1.1" 200 3305
INFO 2025-08-05 14:57:35,104 basehttp 20084 27176 "GET /api/contracts/dc10945e-78df-4e07-932a-560a6aa77d34/ HTTP/1.1" 200 3305
INFO 2025-08-05 14:57:38,650 basehttp 20084 27176 "DELETE /api/contracts/dc10945e-78df-4e07-932a-560a6aa77d34/ HTTP/1.1" 204 0
WARNING 2025-08-05 14:57:38,724 log 20084 27176 Not Found: /api/contracts/dc10945e-78df-4e07-932a-560a6aa77d34/
WARNING 2025-08-05 14:57:38,725 basehttp 20084 27176 "GET /api/contracts/dc10945e-78df-4e07-932a-560a6aa77d34/ HTTP/1.1" 404 49
INFO 2025-08-05 14:57:39,921 basehttp 20084 10112 "GET /api/contracts/?page_size=5 HTTP/1.1" 200 3121
INFO 2025-08-05 14:57:39,950 basehttp 20084 27176 "GET /api/contracts/?page_size=100 HTTP/1.1" 200 3121
INFO 2025-08-05 14:58:04,283 ml_service 20084 27176 Iniciando extracción de cláusulas con LLM (prompt mejorado)
DEBUG 2025-08-05 14:58:04,284 ml_service 20084 27176 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
ERROR 2025-08-05 14:58:22,338 ml_service 20084 27176 Error en el análisis del LLM: Unterminated string starting at: line 52 column 7 (char 2840)
Traceback (most recent call last):
  File "C:\Users\User\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 112, in _call_llm_api
    analysis = json.loads(content)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\json\decoder.py", line 353, in raw_decode
    obj, end = self.scan_once(s, idx)
               ^^^^^^^^^^^^^^^^^^^^^^
json.decoder.JSONDecodeError: Unterminated string starting at: line 52 column 7 (char 2840)
ERROR 2025-08-05 14:58:22,341 ml_service 20084 27176 No se pudieron extraer cláusulas con el LLM.
Traceback (most recent call last):
  File "C:\Users\User\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 200, in _extract_clauses_with_llm
    analysis = self._call_llm_api(prompt, system_message)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 112, in _call_llm_api
    analysis = json.loads(content)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\json\decoder.py", line 353, in raw_decode
    obj, end = self.scan_once(s, idx)
               ^^^^^^^^^^^^^^^^^^^^^^
json.decoder.JSONDecodeError: Unterminated string starting at: line 52 column 7 (char 2840)
INFO 2025-08-05 14:58:22,349 ml_service 20084 27176 Usando método de extracción regex como respaldo.
INFO 2025-08-05 14:58:22,353 ml_service 20084 27176 Validando cláusula con LLM: 'PRIMERO: : EL PROPIETARIO da en alquiler a LA INQUILINA un apartamento en el pri...'
DEBUG 2025-08-05 14:58:22,353 ml_service 20084 27176 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 14:58:23,993 ml_service 20084 27176 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula establece los términos básicos de un contrato de arrendamiento.', 'suggested_fix': '', 'confidence': 0.95}
INFO 2025-08-05 14:58:24,039 ml_service 20084 27176 Validando cláusula con LLM: 'SEGUNDO: : EL PROPIETARIO garantiza a LA INQUILINA el uso del inmueble, pero se ...'
DEBUG 2025-08-05 14:58:24,040 ml_service 20084 27176 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 14:58:25,515 ml_service 20084 27176 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula establece el derecho de acceso del propietario al inmueble arrendado.', 'suggested_fix': '', 'confidence': 0.95}
INFO 2025-08-05 14:58:25,547 ml_service 20084 27176 Validando cláusula con LLM: 'TERCERO: : LA INQUILINA queda obligada a mantener el inmueble en buenas condicio...'
DEBUG 2025-08-05 14:58:25,548 ml_service 20084 27176 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 14:58:27,375 ml_service 20084 27176 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'Esta cláusula define las responsabilidades de mantenimiento y reparación entre las partes.', 'suggested_fix': '', 'confidence': 0.95}
INFO 2025-08-05 14:58:27,406 ml_service 20084 27176 Validando cláusula con LLM: 'CUARTO: : LA INQUILINA se compromete a no hacer modificaciones en el inmueble si...'
DEBUG 2025-08-05 14:58:27,407 ml_service 20084 27176 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 14:58:29,199 ml_service 20084 27176 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'Esta cláusula establece una restricción razonable sobre los cambios que la inquilina puede realizar en el inmueble.', 'suggested_fix': '', 'confidence': 0.95}
INFO 2025-08-05 14:58:29,229 ml_service 20084 27176 Validando cláusula con LLM: 'QUINTO: : LA INQUILINA queda obligada a pagar la suma de TREINTA MIL PESOS DOMIN...'
DEBUG 2025-08-05 14:58:29,230 ml_service 20084 27176 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 14:58:32,016 ml_service 20084 27176 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'Esta cláusula permite al propietario desalojar a la inquilina sin previo aviso por falta de pago, lo que podría considerarse abusivo e injusto.', 'suggested_fix': 'Se sugiere incluir un período de gracia razonable antes del desalojo y especificar las circunstancias en que se puede aplicar.', 'confidence': 0.9}
INFO 2025-08-05 14:58:32,047 ml_service 20084 27176 Validando cláusula con LLM: 'SEXTO: : El presente contrato tendrá una vigencia de UN (1) año, pero podrá ser ...'
DEBUG 2025-08-05 14:58:32,048 ml_service 20084 27176 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 14:58:33,583 ml_service 20084 27176 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'Esta cláusula permite al propietario cancelar el contrato en cualquier momento sin compensación a la inquilina, lo que puede considerarse abusivo.', 'suggested_fix': 'Se sugiere agregar una cláusula que especifique las circunstancias en las que el propietario puede cancelar el contrato y establecer una compensación justa para la inquilina en caso de cancelación unilateral.', 'confidence': 0.9}
INFO 2025-08-05 14:58:33,613 ml_service 20084 27176 Validando cláusula con LLM: 'SÉPTIMO: : En caso de renovación, el alquiler aumentará en un 25% sin necesidad ...'
DEBUG 2025-08-05 14:58:33,614 ml_service 20084 27176 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 14:58:36,321 ml_service 20084 27176 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'Esta cláusula impone un aumento de alquiler desproporcionado y unilateral sin previo aviso, lo que podría considerarse abusivo.', 'suggested_fix': 'El arrendador debe dar un previo aviso y justificar cualquier aumento de alquiler, de acuerdo con la legislación dominicana.', 'confidence': 0.9}
INFO 2025-08-05 14:58:36,346 ml_service 20084 27176 Validando cláusula con LLM: 'OCTAVO: : LA INQUILINA deberá pagar todos los servicios, incluyendo agua y basur...'
DEBUG 2025-08-05 14:58:36,346 ml_service 20084 27176 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 14:58:37,979 ml_service 20084 27176 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'La cláusula impone al inquilino el pago de servicios sin tener en cuenta su consumo.', 'suggested_fix': 'El inquilino deberá pagar los servicios de agua y basura en proporción a su consumo o uso.', 'confidence': 0.9}
INFO 2025-08-05 14:58:38,015 ml_service 20084 27176 Validando cláusula con LLM: 'NOVENO: : LA INQUILINA presenta como su FIADOR SOLIDARIO E INDIVISIBLE al señor ...'
DEBUG 2025-08-05 14:58:38,015 ml_service 20084 27176 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 14:58:39,546 ml_service 20084 27176 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula es una estipulación común en contratos de arrendamiento donde se designa un fiador solidario.', 'suggested_fix': '', 'confidence': 0.95}
INFO 2025-08-05 14:58:39,585 ml_service 20084 27176 Validando cláusula con LLM: 'DÉCIMO: : LA INQUILINA se obliga a entregar el inmueble al término del contrato,...'
DEBUG 2025-08-05 14:58:39,586 ml_service 20084 27176 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 14:58:42,849 ml_service 20084 27176 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'La cláusula impone una penalidad desproporcionada y fija al inquilino por entregar el inmueble después de la fecha establecida, lo que podría considerarse abusivo.', 'suggested_fix': 'Se sugiere establecer una penalización proporcional al daño real sufrido o al perjuicio causado por la demora en la entrega del inmueble.', 'confidence': 0.9}
INFO 2025-08-05 14:58:42,868 ml_service 20084 27176 Validando cláusula con LLM: 'PRIMERO: : En caso de que LA INQUILINA rescinda el contrato antes de su vencimie...'
DEBUG 2025-08-05 14:58:42,869 ml_service 20084 27176 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 14:58:44,770 ml_service 20084 27176 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'La cláusula impone una penalidad desproporcionada y fija a la inquilina por rescindir el contrato antes de su vencimiento.', 'suggested_fix': 'La inquilina deberá pagar los alquileres vencidos y una penalidad justa y razonable por los costos de re-alquilar el local.', 'confidence': 0.9}
INFO 2025-08-05 14:58:44,804 ml_service 20084 27176 Validando cláusula con LLM: 'SEGUNDO: : Todas las condiciones del presente contrato son modificables unilater...'
DEBUG 2025-08-05 14:58:44,804 ml_service 20084 27176 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 14:58:47,498 ml_service 20084 27176 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'Esta cláusula permite al Propietario modificar unilateralmente las condiciones del contrato, lo que puede ser desproporcionado e injusto para la otra parte.', 'suggested_fix': 'La cláusula debería requerir el consentimiento mutuo de ambas partes para realizar cualquier modificación a los términos del contrato.', 'confidence': 0.9}
INFO 2025-08-05 14:58:47,523 ml_service 20084 27176 Validando cláusula con LLM: 'TERCERO: : Las partes renuncian expresamente a cualquier acción legal en caso de...'
DEBUG 2025-08-05 14:58:47,524 ml_service 20084 27176 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 14:58:49,076 ml_service 20084 27176 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'Esta cláusula establece una renuncia a acciones legales en caso de disputa entre las partes.', 'suggested_fix': '', 'confidence': 0.95}
INFO 2025-08-05 14:58:49,087 ml_service 20084 27176 Iniciando análisis LLM para 7 cláusulas
DEBUG 2025-08-05 14:58:49,087 ml_service 20084 27176 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 14:58:52,226 ml_service 20084 27176 Análisis LLM recibido: {'resumen': 'Las cláusulas identificadas en el contrato pueden generar desequilibrio de poder a favor del propietario, poniendo en riesgo la estabilidad financiera y legal de la inquilina. Existen posibles escenarios de aumento unilateral de alquiler, cargos por servicios no utilizados, penalizaciones excesivas y modificaciones unilaterales de términos contractuales.', 'recomendaciones': ['Considerar la negociación de cláusulas que limiten el aumento de alquiler y establezcan criterios claros para su determinación.', 'Evaluar la posibilidad de incluir compensaciones en caso de cancelación anticipada por parte del propietario.', 'Buscar asesoría legal para revisar los términos y condiciones del contrato, asegurando un equilibrio en las responsabilidades y obligaciones de ambas partes.']}
INFO 2025-08-05 14:58:53,160 basehttp 20084 27176 - Broken pipe from ('127.0.0.1', 62492)
INFO 2025-08-05 14:59:28,320 basehttp 20084 10112 "GET /api/contracts/?page_size=100 HTTP/1.1" 200 3494
INFO 2025-08-05 14:59:28,981 basehttp 20084 8044 "GET /api/contracts/?page_size=5 HTTP/1.1" 200 3494
INFO 2025-08-05 14:59:30,706 basehttp 20084 8044 "OPTIONS /api/contracts/95f08aff-9674-481f-ba35-cbf3e76c6524/ HTTP/1.1" 200 0
INFO 2025-08-05 14:59:30,706 basehttp 20084 10112 "OPTIONS /api/clauses/?contract=95f08aff-9674-481f-ba35-cbf3e76c6524 HTTP/1.1" 200 0
INFO 2025-08-05 14:59:31,794 basehttp 20084 8044 "GET /api/clauses/?contract=95f08aff-9674-481f-ba35-cbf3e76c6524 HTTP/1.1" 200 10157
INFO 2025-08-05 14:59:31,841 basehttp 20084 10112 "GET /api/contracts/95f08aff-9674-481f-ba35-cbf3e76c6524/ HTTP/1.1" 200 13016
INFO 2025-08-05 14:59:32,876 basehttp 20084 10112 "GET /api/clauses/?contract=95f08aff-9674-481f-ba35-cbf3e76c6524 HTTP/1.1" 200 10157
INFO 2025-08-05 19:32:39,810 basehttp 20084 13168 "OPTIONS /api/contracts/?page_size=100 HTTP/1.1" 200 0
INFO 2025-08-05 19:32:39,816 basehttp 20084 26884 "OPTIONS /api/contracts/?page_size=5 HTTP/1.1" 200 0
INFO 2025-08-05 19:32:41,750 basehttp 20084 13168 "GET /api/contracts/?page_size=100 HTTP/1.1" 200 3494
INFO 2025-08-05 19:32:41,752 basehttp 20084 26884 "GET /api/contracts/?page_size=5 HTTP/1.1" 200 3494
INFO 2025-08-05 19:32:44,712 basehttp 20084 13168 "OPTIONS /api/clauses/?contract=ba2b6dfa-d9b4-47c4-9a4c-5359e3b73ced HTTP/1.1" 200 0
INFO 2025-08-05 19:32:44,712 basehttp 20084 26884 "OPTIONS /api/contracts/ba2b6dfa-d9b4-47c4-9a4c-5359e3b73ced/ HTTP/1.1" 200 0
INFO 2025-08-05 19:32:45,933 basehttp 20084 26884 "GET /api/clauses/?contract=ba2b6dfa-d9b4-47c4-9a4c-5359e3b73ced HTTP/1.1" 200 12348
INFO 2025-08-05 19:32:46,062 basehttp 20084 13168 "GET /api/contracts/ba2b6dfa-d9b4-47c4-9a4c-5359e3b73ced/ HTTP/1.1" 200 16728
INFO 2025-08-05 19:32:47,292 basehttp 20084 13168 "GET /api/clauses/?contract=ba2b6dfa-d9b4-47c4-9a4c-5359e3b73ced HTTP/1.1" 200 12348
INFO 2025-08-05 19:52:31,576 autoreload 27912 7256 Watching for file changes with StatReloader
INFO 2025-08-05 19:52:55,487 basehttp 27912 9968 "OPTIONS /api/contract-types/ HTTP/1.1" 200 0
INFO 2025-08-05 19:52:56,068 basehttp 27912 9968 "GET /api/contract-types/ HTTP/1.1" 200 1236
INFO 2025-08-05 19:53:38,715 basehttp 27912 9968 "OPTIONS /api/contracts/ HTTP/1.1" 200 0
INFO 2025-08-05 19:53:39,159 ml_service 27912 9968 Iniciando extracción de cláusulas con LLM (prompt mejorado)
DEBUG 2025-08-05 19:53:39,159 ml_service 27912 9968 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 19:53:47,661 ml_service 27912 9968 Análisis LLM recibido: {'clauses': [{'clause_number': 'PREÁMBULO', 'text': 'EL VENDEDOR es propietario del Vehículo descrito más abajo en el Artículo Primero del presente Contrato, y está interesado en vender dicho Vehículo a EL COMPRADOR.\nPOR CUANTO (2): EL COMPRADOR ha manifestado su interés en adquirir el Vehículo propiedad de EL VENDEDOR.'}, {'clause_number': 'ARTÍCULO PRIMERO', 'text': 'EL VENDEDOR, por medio de este Contrato, VENDE, CEDE Y TRASPASA, desde hoy y para siempre, sin impedimento alguno, libre de cargas y gravámenes y con todas las garantías de derecho, a favor de EL COMPRADOR, quien acepta, el Vehículo que se describe a continuación (en lo adelante, el Vehículo):\nUn Vehículo de motor tipo SEDÁN PRIVADO, marca TOYOTA, modelo COROLLA, fabricado en el año 2018, color NEGRO, motor No. 4A9-56789, de 5 pasajeros, fuerza motriz GASOLINA, 4 cilindros.- Amparado por el Certificado de Propiedad de Vehículos de Motor No. 0123456789, expedido por la Dirección General de Impuestos Internos (DGII), inscrito bajo el No. de Registro y Placa A123456, Chasis ABCD12345678.'}, {'clause_number': 'ARTÍCULO SEGUNDO', 'text': 'El precio acordado entre LAS PARTES para la venta del Vehículo asciende a la suma de QUINIENTOS MIL PESOS DOMINICANOS (RD$500,000.00), cantidad que ha sido pagada en su totalidad por EL COMPRADOR a EL VENDEDOR en el momento de suscribirse el presente Contrato. En consecuencia, EL VENDEDOR otorga en favor de EL COMPRADOR formal e irrevocable recibo de descargo total y definitivo, carta de pago y finiquito por el precio de venta convenido, así como la matrícula del Vehículo debidamente endosada, y cualquier otra documentación requerida por las autoridades para el traspaso. De igual manera, EL VENDEDOR autoriza al Director General de Impuestos Internos o a la Colecturía correspondiente a ejecutar la transferencia o traspaso en propiedad del Vehículo en favor de EL COMPRADOR, sin impedimento alguno, ni limitación.'}, {'clause_number': 'ARTÍCULO TERCERO', 'text': 'La primera parte autoriza a la segunda parte a efectuar el traspaso en su favor de la matrícula original antes indicada por ante las autoridades correspondientes (Dirección General de Impuestos Internos).'}]}
INFO 2025-08-05 19:53:47,665 ml_service 27912 9968 Validando cláusula con LLM: 'EL VENDEDOR es propietario del Vehículo descrito más abajo en el Artículo Primer...'
DEBUG 2025-08-05 19:53:47,668 ml_service 27912 9968 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 19:53:49,183 ml_service 27912 9968 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula describe el interés de ambas partes en un acuerdo de compraventa.', 'suggested_fix': '', 'confidence': 0.95}
INFO 2025-08-05 19:53:49,204 ml_service 27912 9968 Validando cláusula con LLM: 'EL VENDEDOR, por medio de este Contrato, VENDE, CEDE Y TRASPASA, desde hoy y par...'
DEBUG 2025-08-05 19:53:49,204 ml_service 27912 9968 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 19:53:51,121 ml_service 27912 9968 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula es una descripción legal de un traspaso de propiedad de un vehículo.', 'suggested_fix': '', 'confidence': 0.95}
INFO 2025-08-05 19:53:51,160 ml_service 27912 9968 Validando cláusula con LLM: 'El precio acordado entre LAS PARTES para la venta del Vehículo asciende a la sum...'
DEBUG 2025-08-05 19:53:51,160 ml_service 27912 9968 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 19:53:52,952 ml_service 27912 9968 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula es una disposición de traspaso de propiedad común en un contrato de compraventa.', 'suggested_fix': '', 'confidence': 0.95}
INFO 2025-08-05 19:53:52,988 ml_service 27912 9968 Validando cláusula con LLM: 'La primera parte autoriza a la segunda parte a efectuar el traspaso en su favor ...'
DEBUG 2025-08-05 19:53:52,989 ml_service 27912 9968 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 19:53:54,745 ml_service 27912 9968 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula es una estipulación común en contratos donde una parte transfiere un derecho o propiedad a otra.', 'suggested_fix': '', 'confidence': 0.95}
INFO 2025-08-05 19:53:54,759 ml_service 27912 9968 No hay cláusulas para analizar con LLM
INFO 2025-08-05 19:53:55,085 basehttp 27912 9968 - Broken pipe from ('127.0.0.1', 51925)
INFO 2025-08-05 19:54:43,462 basehttp 27912 26056 "GET /api/clauses/?contract=ba2b6dfa-d9b4-47c4-9a4c-5359e3b73ced HTTP/1.1" 200 12348
INFO 2025-08-05 19:54:43,594 basehttp 27912 13984 "GET /api/contracts/ba2b6dfa-d9b4-47c4-9a4c-5359e3b73ced/ HTTP/1.1" 200 16728
INFO 2025-08-05 19:54:43,882 basehttp 27912 16496 "GET /api/contracts/?page_size=100 HTTP/1.1" 200 3868
INFO 2025-08-05 19:54:43,882 basehttp 27912 10724 "GET /api/contracts/?page_size=5 HTTP/1.1" 200 3868
INFO 2025-08-05 19:54:45,926 basehttp 27912 10724 "OPTIONS /api/clauses/?contract=79edf685-9e27-4211-a569-fec469ad0852 HTTP/1.1" 200 0
INFO 2025-08-05 19:54:45,927 basehttp 27912 16496 "OPTIONS /api/contracts/79edf685-9e27-4211-a569-fec469ad0852/ HTTP/1.1" 200 0
INFO 2025-08-05 19:54:46,371 basehttp 27912 16496 "GET /api/clauses/?contract=79edf685-9e27-4211-a569-fec469ad0852 HTTP/1.1" 200 4316
INFO 2025-08-05 19:54:46,495 basehttp 27912 10724 "GET /api/contracts/79edf685-9e27-4211-a569-fec469ad0852/ HTTP/1.1" 200 8115
INFO 2025-08-05 19:54:46,946 basehttp 27912 10724 "GET /api/clauses/?contract=79edf685-9e27-4211-a569-fec469ad0852 HTTP/1.1" 200 4316
INFO 2025-08-05 19:56:59,535 ml_service 27912 10724 Iniciando extracción de cláusulas con LLM (prompt mejorado)
DEBUG 2025-08-05 19:56:59,536 ml_service 27912 10724 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 19:57:11,410 ml_service 27912 10724 Análisis LLM recibido: {'clauses': [{'clause_number': 'ARTICULO PRIMERO', 'text': 'EL VENDEDOR, por medio de este Contrato, VENDE, CEDE Y TRASPASA, desde hoy y para siempre, a favor de EL COMPRADOR, quien acepta, el Vehículo que se describe a continuación:\n"Un Vehículo de motor tipo SUV, marca Nissan, modelo X-Trail, fabricado en el año 2020, color Rojo, motor No. XYZ123456789, de 7 pasajeros, fuerza motriz Diésel, 6 cilindros.- Amparado por el Certificado de Propiedad de Vehículos de Motor No. 789456123, expedido por la Dirección General de Impuestos Internos (DGII) en fecha 15 de Mayo del 2019, inscrito bajo el No. de Registro y Placa A123456, Chasis ABC789456123".'}, {'clause_number': 'ARTICULO SEGUNDO', 'text': 'El precio acordado entre LAS PARTES para la venta del Vehículo asciende a la suma de RD$500,000.00 (quinientos mil pesos dominicanos) con el ITBIS incluido, cantidad que ha sido pagada parcialmente por EL COMPRADOR a EL VENDEDOR en el momento de suscribirse el presente Contrato. Sin embargo, no se ha especificado un plazo ni condiciones claras para el pago restante. Por consiguiente, EL VENDEDOR no otorga en favor de EL COMPRADOR carta de pago ni finiquito por el precio de venta convenido. Además, el vehículo aún no ha sido registrado formalmente en DGII para su traspaso.'}, {'clause_number': 'ARTICULO TERCERO', 'text': 'La primera parte no garantiza la posibilidad de efectuar el traspaso en su favor de la matrícula original antes indicada, ya que el vehículo se encuentra en un proceso legal pendiente.'}]}
INFO 2025-08-05 19:57:11,419 ml_service 27912 10724 Validando cláusula con LLM: 'EL VENDEDOR, por medio de este Contrato, VENDE, CEDE Y TRASPASA, desde hoy y par...'
DEBUG 2025-08-05 19:57:11,420 ml_service 27912 10724 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 19:57:13,214 ml_service 27912 10724 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula es una transferencia de propiedad legal de un vehículo.', 'suggested_fix': '', 'confidence': 0.95}
INFO 2025-08-05 19:57:13,254 ml_service 27912 10724 Validando cláusula con LLM: 'El precio acordado entre LAS PARTES para la venta del Vehículo asciende a la sum...'
DEBUG 2025-08-05 19:57:13,255 ml_service 27912 10724 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 19:57:14,860 ml_service 27912 10724 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula establece los términos y condiciones del pago pendiente para la venta de un vehículo.', 'suggested_fix': '', 'confidence': 0.95}
INFO 2025-08-05 19:57:14,915 ml_service 27912 10724 Validando cláusula con LLM: 'La primera parte no garantiza la posibilidad de efectuar el traspaso en su favor...'
DEBUG 2025-08-05 19:57:14,915 ml_service 27912 10724 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 19:57:16,907 ml_service 27912 10724 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula establece una condición para el traspaso de la matrícula, relacionada con un proceso legal en curso.', 'suggested_fix': '', 'confidence': 0.95}
INFO 2025-08-05 19:57:16,932 ml_service 27912 10724 No hay cláusulas para analizar con LLM
INFO 2025-08-05 19:57:17,189 basehttp 27912 10724 - Broken pipe from ('127.0.0.1', 52029)
INFO 2025-08-05 19:59:55,402 basehttp 27912 11212 "GET /api/contracts/?page_size=5 HTTP/1.1" 200 4250
INFO 2025-08-05 19:59:55,410 basehttp 27912 18152 "GET /api/contracts/?page_size=100 HTTP/1.1" 200 4250
INFO 2025-08-05 20:01:20,118 basehttp 27912 18152 "OPTIONS /api/contracts/6a6651c5-74b1-4dad-a3e6-6075c43730e5/ HTTP/1.1" 200 0
INFO 2025-08-05 20:01:20,118 basehttp 27912 11212 "OPTIONS /api/clauses/?contract=6a6651c5-74b1-4dad-a3e6-6075c43730e5 HTTP/1.1" 200 0
INFO 2025-08-05 20:01:20,495 basehttp 27912 18152 "GET /api/clauses/?contract=6a6651c5-74b1-4dad-a3e6-6075c43730e5 HTTP/1.1" 200 3110
INFO 2025-08-05 20:01:20,619 basehttp 27912 11212 "GET /api/contracts/6a6651c5-74b1-4dad-a3e6-6075c43730e5/ HTTP/1.1" 200 5340
INFO 2025-08-05 20:01:21,016 basehttp 27912 11212 "GET /api/clauses/?contract=6a6651c5-74b1-4dad-a3e6-6075c43730e5 HTTP/1.1" 200 3110
INFO 2025-08-05 20:03:45,158 autoreload 16500 17960 Watching for file changes with StatReloader
INFO 2025-08-05 21:39:29,521 basehttp 16500 15448 "OPTIONS /api/contracts/6a6651c5-74b1-4dad-a3e6-6075c43730e5/analyze/ HTTP/1.1" 200 0
INFO 2025-08-05 21:39:30,609 ml_service 16500 2664 Iniciando extracción de cláusulas con LLM (prompt mejorado)
DEBUG 2025-08-05 21:39:30,609 ml_service 16500 2664 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
INFO 2025-08-05 21:39:30,671 ml_service 16500 15448 Iniciando extracción de cláusulas con LLM (prompt mejorado)
DEBUG 2025-08-05 21:39:30,671 ml_service 16500 15448 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 21:39:37,958 ml_service 16500 2664 Análisis LLM recibido: {'clauses': [{'clause_number': 'ARTICULO PRIMERO', 'text': 'EL VENDEDOR, por medio de este Contrato, VENDE, CEDE Y TRASPASA, desde hoy y para siempre, a favor de EL COMPRADOR, quien acepta, el Vehículo que se describe a continuación:\n"Un Vehículo de motor tipo SUV, marca Nissan, modelo X-Trail, fabricado en el año 2020, color Rojo, motor No. XYZ123456789, de 7 pasajeros, fuerza motriz Diésel, 6 cilindros.- Amparado por el Certificado de Propiedad de Vehículos de Motor No. 789456123, expedido por la Dirección General de Impuestos Internos (DGII) en fecha 15 de Mayo del 2019, inscrito bajo el No. de Registro y Placa A123456, Chasis ABC789456123".'}, {'clause_number': 'ARTICULO SEGUNDO', 'text': 'El precio acordado entre LAS PARTES para la venta del Vehículo asciende a la suma de RD$500,000.00 (quinientos mil pesos dominicanos) con el ITBIS incluido, cantidad que ha sido pagada parcialmente por EL COMPRADOR a EL VENDEDOR en el momento de suscribirse el presente Contrato. Sin embargo, no se ha especificado un plazo ni condiciones claras para el pago restante. Por consiguiente, EL VENDEDOR no otorga en favor de EL COMPRADOR carta de pago ni finiquito por el precio de venta convenido. Además, el vehículo aún no ha sido registrado formalmente en DGII para su traspaso.'}, {'clause_number': 'ARTICULO TERCERO', 'text': 'La primera parte no garantiza la posibilidad de efectuar el traspaso en su favor de la matrícula original antes indicada, ya que el vehículo se encuentra en un proceso legal pendiente.'}]}
INFO 2025-08-05 21:39:37,969 ml_service 16500 2664 Validando cláusula con LLM: 'EL VENDEDOR, por medio de este Contrato, VENDE, CEDE Y TRASPASA, desde hoy y par...'
DEBUG 2025-08-05 21:39:37,970 ml_service 16500 2664 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 21:39:38,103 ml_service 16500 15448 Análisis LLM recibido: {'clauses': [{'clause_number': 'ARTICULO PRIMERO', 'text': 'EL VENDEDOR, por medio de este Contrato, VENDE, CEDE Y TRASPASA, desde hoy y para siempre, a favor de EL COMPRADOR, quien acepta, el Vehículo que se describe a continuación:\n"Un Vehículo de motor tipo SUV, marca Nissan, modelo X-Trail, fabricado en el año 2020, color Rojo, motor No. XYZ123456789, de 7 pasajeros, fuerza motriz Diésel, 6 cilindros.- Amparado por el Certificado de Propiedad de Vehículos de Motor No. 789456123, expedido por la Dirección General de Impuestos Internos (DGII) en fecha 15 de Mayo del 2019, inscrito bajo el No. de Registro y Placa A123456, Chasis ABC789456123".'}, {'clause_number': 'ARTICULO SEGUNDO', 'text': 'El precio acordado entre LAS PARTES para la venta del Vehículo asciende a la suma de RD$500,000.00 (quinientos mil pesos dominicanos) con el ITBIS incluido, cantidad que ha sido pagada parcialmente por EL COMPRADOR a EL VENDEDOR en el momento de suscribirse el presente Contrato. Sin embargo, no se ha especificado un plazo ni condiciones claras para el pago restante. Por consiguiente, EL VENDEDOR no otorga en favor de EL COMPRADOR carta de pago ni finiquito por el precio de venta convenido. Además, el vehículo aún no ha sido registrado formalmente en DGII para su traspaso.'}, {'clause_number': 'ARTICULO TERCERO', 'text': 'LA PRIMERA PARTE no garantiza la posibilidad de efectuar el traspaso en su favor de la matrícula original antes indicada, ya que el vehículo se encuentra en un proceso legal pendiente.'}]}
INFO 2025-08-05 21:39:38,106 ml_service 16500 15448 Validando cláusula con LLM: 'EL VENDEDOR, por medio de este Contrato, VENDE, CEDE Y TRASPASA, desde hoy y par...'
DEBUG 2025-08-05 21:39:38,106 ml_service 16500 15448 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 21:39:39,941 ml_service 16500 2664 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula es una transferencia de propiedad legal de un vehículo.', 'suggested_fix': '', 'confidence': 0.95}
INFO 2025-08-05 21:39:40,006 ml_service 16500 2664 Validando cláusula con LLM: 'El precio acordado entre LAS PARTES para la venta del Vehículo asciende a la sum...'
DEBUG 2025-08-05 21:39:40,007 ml_service 16500 2664 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 21:39:40,290 ml_service 16500 15448 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula es una transferencia de propiedad legal de un vehículo.', 'suggested_fix': '', 'confidence': 0.95}
INFO 2025-08-05 21:39:40,341 ml_service 16500 15448 Validando cláusula con LLM: 'El precio acordado entre LAS PARTES para la venta del Vehículo asciende a la sum...'
DEBUG 2025-08-05 21:39:40,341 ml_service 16500 15448 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 21:39:43,830 ml_service 16500 2664 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula establece los términos y condiciones del pago pendiente para el vehículo, pero no parece ser abusiva.', 'suggested_fix': '', 'confidence': 0.95}
INFO 2025-08-05 21:39:43,899 ml_service 16500 2664 Validando cláusula con LLM: 'La primera parte no garantiza la posibilidad de efectuar el traspaso en su favor...'
DEBUG 2025-08-05 21:39:43,899 ml_service 16500 2664 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 21:39:45,492 ml_service 16500 15448 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula establece los términos del pago y la transferencia de propiedad de un vehículo, pero no parece ser abusiva.', 'suggested_fix': '', 'confidence': 0.95}
INFO 2025-08-05 21:39:45,555 ml_service 16500 15448 Validando cláusula con LLM: 'LA PRIMERA PARTE no garantiza la posibilidad de efectuar el traspaso en su favor...'
DEBUG 2025-08-05 21:39:45,556 ml_service 16500 15448 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 21:39:45,618 ml_service 16500 2664 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula establece condiciones para el traspaso de la matrícula de un vehículo en un proceso legal pendiente.', 'suggested_fix': '', 'confidence': 0.95}
INFO 2025-08-05 21:39:45,640 ml_service 16500 2664 No hay cláusulas para analizar con LLM
INFO 2025-08-05 21:39:45,957 basehttp 16500 2664 - Broken pipe from ('127.0.0.1', 54454)
DEBUG 2025-08-05 21:39:47,269 ml_service 16500 15448 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula establece condiciones para el traspaso de la matrícula de un vehículo.', 'suggested_fix': '', 'confidence': 0.95}
INFO 2025-08-05 21:39:47,295 ml_service 16500 15448 No hay cláusulas para analizar con LLM
INFO 2025-08-05 21:39:47,613 basehttp 16500 15448 - Broken pipe from ('127.0.0.1', 54453)
INFO 2025-08-05 21:40:22,678 basehttp 16500 2416 "GET /api/clauses/?contract=6a6651c5-74b1-4dad-a3e6-6075c43730e5 HTTP/1.1" 200 6177
INFO 2025-08-05 21:40:22,833 basehttp 16500 29328 "GET /api/contracts/6a6651c5-74b1-4dad-a3e6-6075c43730e5/ HTTP/1.1" 200 8407
INFO 2025-08-05 21:40:23,499 basehttp 16500 29328 "GET /api/clauses/?contract=6a6651c5-74b1-4dad-a3e6-6075c43730e5 HTTP/1.1" 200 6177
INFO 2025-08-05 21:40:46,508 basehttp 16500 29328 "GET /api/contract-types/ HTTP/1.1" 200 1236
INFO 2025-08-05 21:41:33,787 ml_service 16500 29328 Iniciando extracción de cláusulas con LLM (prompt mejorado)
DEBUG 2025-08-05 21:41:33,787 ml_service 16500 29328 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
ERROR 2025-08-05 21:41:48,186 ml_service 16500 29328 Error en el análisis del LLM: Unterminated string starting at: line 52 column 24 (char 2852)
Traceback (most recent call last):
  File "C:\Users\User\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 112, in _call_llm_api
    analysis = json.loads(content)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\json\decoder.py", line 353, in raw_decode
    obj, end = self.scan_once(s, idx)
               ^^^^^^^^^^^^^^^^^^^^^^
json.decoder.JSONDecodeError: Unterminated string starting at: line 52 column 24 (char 2852)
ERROR 2025-08-05 21:41:48,216 ml_service 16500 29328 No se pudieron extraer cláusulas con el LLM.
Traceback (most recent call last):
  File "C:\Users\User\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 200, in _extract_clauses_with_llm
    analysis = self._call_llm_api(prompt, system_message)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\Documents\GitHub\Proyecto-grado-ICC\backend\ml_analysis\ml_service.py", line 112, in _call_llm_api
    analysis = json.loads(content)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\User\anaconda3\envs\contract-analysis\Lib\json\decoder.py", line 353, in raw_decode
    obj, end = self.scan_once(s, idx)
               ^^^^^^^^^^^^^^^^^^^^^^
json.decoder.JSONDecodeError: Unterminated string starting at: line 52 column 24 (char 2852)
INFO 2025-08-05 21:41:48,220 ml_service 16500 29328 Usando método de extracción regex como respaldo.
INFO 2025-08-05 21:41:48,225 ml_service 16500 29328 Validando cláusula con LLM: 'SEGUNDO: : LA PROPIETARIA se reserva el derecho de ingresar a la propiedad sin p...'
DEBUG 2025-08-05 21:41:48,226 ml_service 16500 29328 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 21:41:50,024 ml_service 16500 29328 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula establece el derecho de la propietaria a inspeccionar la propiedad sin previo aviso, lo cual es común en contratos de arrendamiento.', 'suggested_fix': '', 'confidence': 0.95}
INFO 2025-08-05 21:41:50,048 ml_service 16500 29328 Validando cláusula con LLM: 'TERCERO: : EL INQUILINO queda obligado a pagar cualquier daño estructural o de m...'
DEBUG 2025-08-05 21:41:50,048 ml_service 16500 29328 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 21:41:52,516 ml_service 16500 29328 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'Esta cláusula transfiere toda la responsabilidad de daños estructurales al inquilino, sin importar la causa, lo que puede ser abusivo e injusto.', 'suggested_fix': 'El inquilino será responsable de los daños estructurales resultantes de su negligencia o mal uso intencional, mientras que el propietario asumirá la responsabilidad de los daños causados por fuerza mayor o por desgaste natural.', 'confidence': 0.9}
INFO 2025-08-05 21:41:52,537 ml_service 16500 29328 Validando cláusula con LLM: 'CUARTO: : EL INQUILINO no podrá recibir visitas después de las 9:00 p.m., salvo ...'
DEBUG 2025-08-05 21:41:52,538 ml_service 16500 29328 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 21:41:54,283 ml_service 16500 29328 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula establece una restricción razonable sobre las visitas en horas de la noche.', 'suggested_fix': '', 'confidence': 0.95}
INFO 2025-08-05 21:41:54,316 ml_service 16500 29328 Validando cláusula con LLM: 'QUINTO: : EL INQUILINO queda obligado a pagar la suma de CUARENTA MIL PESOS DOMI...'
DEBUG 2025-08-05 21:41:54,317 ml_service 16500 29328 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 21:41:56,424 ml_service 16500 29328 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'La cláusula permite a la propietaria cambiar las cerraduras sin previo aviso por un retraso en el pago, lo cual es desproporcionado.', 'suggested_fix': 'Se sugiere que se otorgue un aviso previo razonable a el inquilino antes de realizar cualquier cambio en las cerraduras, y que se considere la gravedad y la duración del retraso en el pago.', 'confidence': 0.85}
INFO 2025-08-05 21:41:56,456 ml_service 16500 29328 Validando cláusula con LLM: 'SEXTO: : El presente contrato tendrá una vigencia de UN (1) año, pero podrá ser ...'
DEBUG 2025-08-05 21:41:56,457 ml_service 16500 29328 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 21:41:59,366 ml_service 16500 29328 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'Esta cláusula permite a LA PROPIETARIA cancelar el contrato en cualquier momento sin dar motivo ni compensación, lo que podría ser considerado abusivo.', 'suggested_fix': 'Se sugiere incluir una cláusula de cancelación mutua con un preaviso razonable para garantizar la justicia en la relación contractual.', 'confidence': 0.9}
INFO 2025-08-05 21:41:59,382 ml_service 16500 29328 Validando cláusula con LLM: 'SÉPTIMO: : En caso de renovación, el alquiler aumentará en un 30% automáticament...'
DEBUG 2025-08-05 21:41:59,383 ml_service 16500 29328 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 21:42:02,270 ml_service 16500 29328 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'Esta cláusula impone un aumento automático del alquiler sin previo aviso, lo que puede considerarse abusivo.', 'suggested_fix': 'Se sugiere que el aumento del alquiler en caso de renovación esté sujeto a un aviso previo y a una justificación razonable.', 'confidence': 0.9}
INFO 2025-08-05 21:42:02,289 ml_service 16500 29328 Validando cláusula con LLM: 'OCTAVO: : EL INQUILINO será responsable de pagar cualquier multa o sanción que r...'
DEBUG 2025-08-05 21:42:02,290 ml_service 16500 29328 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 21:42:11,182 ml_service 16500 29328 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'Esta cláusula impone al inquilino la responsabilidad por multas que no necesariamente están relacionadas con sus acciones, lo que podría considerarse injusto.', 'suggested_fix': 'El inquilino debería ser responsable solo de las multas que resulten directamente de sus acciones u omisiones en el uso del local.', 'confidence': 0.85}
INFO 2025-08-05 21:42:11,211 ml_service 16500 29328 Validando cláusula con LLM: 'NOVENO: : EL INQUILINO presenta como su FIADOR SOLIDARIO E INDIVISIBLE a la seño...'
DEBUG 2025-08-05 21:42:11,212 ml_service 16500 29328 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 21:42:13,155 ml_service 16500 29328 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'Esta cláusula establece una garantía solidaria para el arrendatario, lo que es común y justo en un contrato de arrendamiento.', 'suggested_fix': '', 'confidence': 0.95}
INFO 2025-08-05 21:42:13,189 ml_service 16500 29328 Validando cláusula con LLM: 'DÉCIMO: : EL INQUILINO se obliga a entregar el inmueble al término del contrato,...'
DEBUG 2025-08-05 21:42:13,190 ml_service 16500 29328 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 21:42:16,166 ml_service 16500 29328 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'La cláusula impone una penalidad desproporcionada e onerosa al inquilino por entregar el inmueble después de la fecha establecida.', 'suggested_fix': 'El inquilino deberá entregar el inmueble a más tardar en la fecha establecida, de lo contrario, el arrendador podrá retener una suma razonable como compensación por los daños y perjuicios sufridos, debidamente justificados.', 'confidence': 0.9}
INFO 2025-08-05 21:42:16,183 ml_service 16500 29328 Validando cláusula con LLM: 'PRIMERO: : En caso de que EL INQUILINO decida rescindir el contrato antes de su ...'
DEBUG 2025-08-05 21:42:16,184 ml_service 16500 29328 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 21:42:17,936 ml_service 16500 29328 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'Esta cláusula impone una penalidad desproporcionada y unilateral al inquilino por rescindir el contrato antes de su vencimiento.', 'suggested_fix': 'Se sugiere una penalización más justa y equilibrada, como un mes de alquiler o una indemnización acordada por ambas partes.', 'confidence': 0.9}
INFO 2025-08-05 21:42:17,952 ml_service 16500 29328 Validando cláusula con LLM: 'SEGUNDO: : Todas las condiciones del presente contrato podrán ser modificadas en...'
DEBUG 2025-08-05 21:42:17,953 ml_service 16500 29328 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 21:42:20,110 ml_service 16500 29328 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'Esta cláusula permite a LA PROPIETARIA modificar unilateralmente y sin previo aviso las condiciones del contrato, lo que puede ser abusivo y desfavorable para una de las partes.', 'suggested_fix': 'Las partes deben acordar conjuntamente cualquier modificación al contrato, brindando a ambas partes la oportunidad de evaluar los cambios y negociar nuevos términos.', 'confidence': 0.9}
INFO 2025-08-05 21:42:20,129 ml_service 16500 29328 Validando cláusula con LLM: 'TERCERO: : EL INQUILINO renuncia expresamente a cualquier reclamación legal o di...'
DEBUG 2025-08-05 21:42:20,130 ml_service 16500 29328 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 21:42:21,820 ml_service 16500 29328 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': True, 'explanation': 'Esta cláusula intenta renunciar a cualquier reclamación legal o disputa, lo que podría limitar injustamente los derechos del inquilino.', 'suggested_fix': 'Se debe eliminar o reescribir esta cláusula para garantizar que cualquier disputa se resuelva de manera justa y legal.', 'confidence': 0.9}
INFO 2025-08-05 21:42:21,837 ml_service 16500 29328 Iniciando análisis LLM para 9 cláusulas
DEBUG 2025-08-05 21:42:21,838 ml_service 16500 29328 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 21:42:26,027 ml_service 16500 29328 Análisis LLM recibido: {'resumen': 'Este contrato de arrendamiento contiene cláusulas potencialmente abusivas que transfieren una carga desproporcionada de responsabilidad y riesgo al inquilino. Se requiere el pago por daños estructurales sin importar la causa, multas sin necesidad de fallo condenatorio, renovación automática con aumento de alquiler, penalizaciones por retraso o incumplimiento, y renuncia a reclamaciones legales.', 'recomendaciones': ['Considerar la negociación de cláusulas abusivas o desproporcionadas antes de firmar el contrato.', 'Buscar asesoramiento legal independiente para comprender mejor los términos y riesgos del contrato.', 'Documentar el estado del inmueble antes de mudarse y durante la estancia, con fotografías y/o videos, para evitar disputas sobre daños estructurales.']}
INFO 2025-08-05 21:42:26,906 basehttp 16500 29328 - Broken pipe from ('127.0.0.1', 54489)
INFO 2025-08-05 21:42:52,654 basehttp 16500 2416 "OPTIONS /api/contracts/?page_size=100 HTTP/1.1" 200 0
INFO 2025-08-05 21:42:52,657 basehttp 16500 27764 "OPTIONS /api/contracts/?page_size=5 HTTP/1.1" 200 0
INFO 2025-08-05 21:42:54,342 basehttp 16500 2416 "GET /api/contracts/?page_size=5 HTTP/1.1" 200 4637
INFO 2025-08-05 21:42:55,048 basehttp 16500 27764 "GET /api/contracts/?page_size=100 HTTP/1.1" 200 4637
INFO 2025-08-05 21:42:56,201 basehttp 16500 27764 "OPTIONS /api/contracts/f2c21227-43a8-4208-ad3b-6122c1b43a68/ HTTP/1.1" 200 0
INFO 2025-08-05 21:42:56,201 basehttp 16500 2416 "OPTIONS /api/clauses/?contract=f2c21227-43a8-4208-ad3b-6122c1b43a68 HTTP/1.1" 200 0
INFO 2025-08-05 21:42:57,271 basehttp 16500 27764 "GET /api/clauses/?contract=f2c21227-43a8-4208-ad3b-6122c1b43a68 HTTP/1.1" 200 9809
INFO 2025-08-05 21:42:57,311 basehttp 16500 2416 "GET /api/contracts/f2c21227-43a8-4208-ad3b-6122c1b43a68/ HTTP/1.1" 200 12810
INFO 2025-08-05 21:42:58,290 basehttp 16500 2416 "GET /api/clauses/?contract=f2c21227-43a8-4208-ad3b-6122c1b43a68 HTTP/1.1" 200 9809
INFO 2025-08-05 21:49:09,132 basehttp 16500 18848 "GET /api/contract-types/ HTTP/1.1" 200 1236
INFO 2025-08-05 21:49:40,286 ml_service 16500 18848 Iniciando extracción de cláusulas con LLM (prompt mejorado)
DEBUG 2025-08-05 21:49:40,287 ml_service 16500 18848 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 21:49:51,926 ml_service 16500 18848 Análisis LLM recibido: {'clauses': [{'clause_number': 'PREÁMBULO', 'text': 'EL VENDEDOR es propietario del Vehículo descrito más abajo en el Artículo Primero del presente Contrato, y está interesado en vender dicho Vehículo a EL COMPRADOR.\nPOR CUANTO (2): EL COMPRADOR ha manifestado su interés en adquirir el Vehículo propiedad de EL VENDEDOR.'}, {'clause_number': 'ARTÍCULO PRIMERO', 'text': 'EL VENDEDOR, por medio de este Contrato, VENDE, CEDE Y TRASPASA, desde hoy y para siempre, sin impedimento alguno, libre de cargas y gravámenes y con todas las garantías de derecho, a favor de EL COMPRADOR, quien acepta, el Vehículo que se describe a continuación (en lo adelante, el Vehículo):\nUn Vehículo de motor tipo SUV, marca HONDA, modelo CR-V, fabricado en el año 2020, color BLANCO, motor No. HND12345678, de 5 pasajeros, fuerza motriz GASOLINA, 4 cilindros.- Amparado por el Certificado de Propiedad de Vehículos de Motor No. 9876543210, expedido por la Dirección General de Impuestos Internos (DGII), inscrito bajo el No. de Registro y Placa B987654, Chasis HNDC98765432.'}, {'clause_number': 'ARTÍCULO SEGUNDO', 'text': 'El precio acordado entre LAS PARTES para la venta del Vehículo asciende a la suma de SETECIENTOS CINCUENTA MIL PESOS DOMINICANOS (RD$750,000.00), cantidad que ha sido pagada en su totalidad por EL COMPRADOR a EL VENDEDOR en el momento de suscribirse el presente Contrato. En consecuencia, EL VENDEDOR otorga en favor de EL COMPRADOR formal e irrevocable recibo de descargo total y definitivo, carta de pago y finiquito por el precio de venta convenido, así como la matrícula del Vehículo debidamente endosada, y cualquier otra documentación requerida por las autoridades para el traspaso. De igual manera, EL VENDEDOR autoriza al Director General de Impuestos Internos o a la Colecturía correspondiente a ejecutar la transferencia o traspaso en propiedad del Vehículo en favor de EL COMPRADOR, sin impedimento alguno, ni limitación.'}, {'clause_number': 'ARTÍCULO TERCERO', 'text': 'La primera parte autoriza a la segunda parte a efectuar el traspaso en su favor de la matrícula original antes indicada por ante las autoridades correspondientes (Dirección General de Impuestos Internos).'}]}
INFO 2025-08-05 21:49:51,930 ml_service 16500 18848 Validando cláusula con LLM: 'EL VENDEDOR es propietario del Vehículo descrito más abajo en el Artículo Primer...'
DEBUG 2025-08-05 21:49:51,933 ml_service 16500 18848 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 21:49:53,809 ml_service 16500 18848 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula es una declaración de intenciones de compraventa entre dos partes, sin elementos abusivos.', 'suggested_fix': '', 'confidence': 0.95}
INFO 2025-08-05 21:49:53,861 ml_service 16500 18848 Validando cláusula con LLM: 'EL VENDEDOR, por medio de este Contrato, VENDE, CEDE Y TRASPASA, desde hoy y par...'
DEBUG 2025-08-05 21:49:53,862 ml_service 16500 18848 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 21:49:54,795 ml_service 16500 18848 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula describe los términos de transferencia de propiedad de un vehículo específico.', 'suggested_fix': '', 'confidence': 0.95}
INFO 2025-08-05 21:49:54,863 ml_service 16500 18848 Validando cláusula con LLM: 'El precio acordado entre LAS PARTES para la venta del Vehículo asciende a la sum...'
DEBUG 2025-08-05 21:49:54,864 ml_service 16500 18848 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 21:49:56,034 ml_service 16500 18848 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula describe los términos de una transacción de venta legal y estándar.', 'suggested_fix': '', 'confidence': 0.95}
INFO 2025-08-05 21:49:56,096 ml_service 16500 18848 Validando cláusula con LLM: 'La primera parte autoriza a la segunda parte a efectuar el traspaso en su favor ...'
DEBUG 2025-08-05 21:49:56,097 ml_service 16500 18848 Enviando solicitud a LLM API. Modelo: mistralai/Mixtral-8x7B-Instruct-v0.1
DEBUG 2025-08-05 21:49:58,451 ml_service 16500 18848 Análisis LLM recibido: {'is_valid_clause': True, 'is_abusive': False, 'explanation': 'La cláusula es una estipulación común en contratos donde una parte transfiere un activo o derecho a otra. No parece ser abusiva en sí misma.', 'suggested_fix': '', 'confidence': 0.9}
INFO 2025-08-05 21:49:58,479 ml_service 16500 18848 No hay cláusulas para analizar con LLM
INFO 2025-08-05 21:49:58,832 basehttp 16500 18848 - Broken pipe from ('127.0.0.1', 54746)
INFO 2025-08-05 21:50:58,210 basehttp 16500 20956 "GET /api/contracts/?page_size=5 HTTP/1.1" 200 5018
INFO 2025-08-05 21:50:58,385 basehttp 16500 13376 "GET /api/contracts/?page_size=100 HTTP/1.1" 200 5018
INFO 2025-08-05 21:51:13,513 basehttp 16500 20956 "GET /api/contracts/?page_size=5 HTTP/1.1" 200 5018
INFO 2025-08-05 21:51:13,726 basehttp 16500 13376 "GET /api/contracts/?page_size=100 HTTP/1.1" 200 5018
INFO 2025-08-05 21:51:20,338 basehttp 16500 13376 "OPTIONS /api/contracts/6e93daed-9b42-4a66-bb7e-2634122e453d/ HTTP/1.1" 200 0
INFO 2025-08-05 21:51:20,338 basehttp 16500 20956 "OPTIONS /api/clauses/?contract=6e93daed-9b42-4a66-bb7e-2634122e453d HTTP/1.1" 200 0
INFO 2025-08-05 21:51:20,815 basehttp 16500 13376 "GET /api/clauses/?contract=6e93daed-9b42-4a66-bb7e-2634122e453d HTTP/1.1" 200 4375
INFO 2025-08-05 21:51:20,909 basehttp 16500 20956 "GET /api/contracts/6e93daed-9b42-4a66-bb7e-2634122e453d/ HTTP/1.1" 200 8180
INFO 2025-08-05 21:51:21,377 basehttp 16500 20956 "GET /api/clauses/?contract=6e93daed-9b42-4a66-bb7e-2634122e453d HTTP/1.1" 200 4375
